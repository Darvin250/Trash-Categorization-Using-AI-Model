var eR=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports);var SL=eR((Ym,CA)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function Xm(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var zp={exports:{}},lc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE;function tR(){if(xE)return lc;xE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,o,l){var d=null;if(l!==void 0&&(d=""+l),o.key!==void 0&&(d=""+o.key),"key"in o){l={};for(var p in o)p!=="key"&&(l[p]=o[p])}else l=o;return o=l.ref,{$$typeof:i,type:r,key:d,ref:o!==void 0?o:null,props:l}}return lc.Fragment=e,lc.jsx=t,lc.jsxs=t,lc}var TE;function nR(){return TE||(TE=1,zp.exports=tR()),zp.exports}var g=nR(),Bp={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function iR(){if(AE)return ze;AE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function x(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,U={};function L(D,Q,oe){this.props=D,this.context=Q,this.refs=U,this.updater=oe||R}L.prototype.isReactComponent={},L.prototype.setState=function(D,Q){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Q,"setState")},L.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function H(){}H.prototype=L.prototype;function ne(D,Q,oe){this.props=D,this.context=Q,this.refs=U,this.updater=oe||R}var K=ne.prototype=new H;K.constructor=ne,I(K,L.prototype),K.isPureReactComponent=!0;var ce=Array.isArray,fe={H:null,A:null,T:null,S:null,V:null},be=Object.prototype.hasOwnProperty;function j(D,Q,oe,J,me,De){return oe=De.ref,{$$typeof:i,type:D,key:Q,ref:oe!==void 0?oe:null,props:De}}function S(D,Q){return j(D.type,Q,void 0,void 0,void 0,D.props)}function C(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function P(D){var Q={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(oe){return Q[oe]})}var M=/\/+/g;function z(D,Q){return typeof D=="object"&&D!==null&&D.key!=null?P(""+D.key):Q.toString(36)}function N(){}function he(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(N,N):(D.status="pending",D.then(function(Q){D.status==="pending"&&(D.status="fulfilled",D.value=Q)},function(Q){D.status==="pending"&&(D.status="rejected",D.reason=Q)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function W(D,Q,oe,J,me){var De=typeof D;(De==="undefined"||De==="boolean")&&(D=null);var we=!1;if(D===null)we=!0;else switch(De){case"bigint":case"string":case"number":we=!0;break;case"object":switch(D.$$typeof){case i:case e:we=!0;break;case y:return we=D._init,W(we(D._payload),Q,oe,J,me)}}if(we)return me=me(D),we=J===""?"."+z(D,0):J,ce(me)?(oe="",we!=null&&(oe=we.replace(M,"$&/")+"/"),W(me,Q,oe,"",function(Zt){return Zt})):me!=null&&(C(me)&&(me=S(me,oe+(me.key==null||D&&D.key===me.key?"":(""+me.key).replace(M,"$&/")+"/")+we)),Q.push(me)),1;we=0;var yt=J===""?".":J+":";if(ce(D))for(var Ke=0;Ke<D.length;Ke++)J=D[Ke],De=yt+z(J,Ke),we+=W(J,Q,oe,De,me);else if(Ke=x(D),typeof Ke=="function")for(D=Ke.call(D),Ke=0;!(J=D.next()).done;)J=J.value,De=yt+z(J,Ke++),we+=W(J,Q,oe,De,me);else if(De==="object"){if(typeof D.then=="function")return W(he(D),Q,oe,J,me);throw Q=String(D),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return we}function G(D,Q,oe){if(D==null)return D;var J=[],me=0;return W(D,J,"","",function(De){return Q.call(oe,De,me++)}),J}function ie(D){if(D._status===-1){var Q=D._result;Q=Q(),Q.then(function(oe){(D._status===0||D._status===-1)&&(D._status=1,D._result=oe)},function(oe){(D._status===0||D._status===-1)&&(D._status=2,D._result=oe)}),D._status===-1&&(D._status=0,D._result=Q)}if(D._status===1)return D._result.default;throw D._result}var ue=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function ee(){}return ze.Children={map:G,forEach:function(D,Q,oe){G(D,function(){Q.apply(this,arguments)},oe)},count:function(D){var Q=0;return G(D,function(){Q++}),Q},toArray:function(D){return G(D,function(Q){return Q})||[]},only:function(D){if(!C(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},ze.Component=L,ze.Fragment=t,ze.Profiler=o,ze.PureComponent=ne,ze.StrictMode=r,ze.Suspense=f,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=fe,ze.__COMPILER_RUNTIME={__proto__:null,c:function(D){return fe.H.useMemoCache(D)}},ze.cache=function(D){return function(){return D.apply(null,arguments)}},ze.cloneElement=function(D,Q,oe){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var J=I({},D.props),me=D.key,De=void 0;if(Q!=null)for(we in Q.ref!==void 0&&(De=void 0),Q.key!==void 0&&(me=""+Q.key),Q)!be.call(Q,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&Q.ref===void 0||(J[we]=Q[we]);var we=arguments.length-2;if(we===1)J.children=oe;else if(1<we){for(var yt=Array(we),Ke=0;Ke<we;Ke++)yt[Ke]=arguments[Ke+2];J.children=yt}return j(D.type,me,void 0,void 0,De,J)},ze.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:l,_context:D},D},ze.createElement=function(D,Q,oe){var J,me={},De=null;if(Q!=null)for(J in Q.key!==void 0&&(De=""+Q.key),Q)be.call(Q,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(me[J]=Q[J]);var we=arguments.length-2;if(we===1)me.children=oe;else if(1<we){for(var yt=Array(we),Ke=0;Ke<we;Ke++)yt[Ke]=arguments[Ke+2];me.children=yt}if(D&&D.defaultProps)for(J in we=D.defaultProps,we)me[J]===void 0&&(me[J]=we[J]);return j(D,De,void 0,void 0,null,me)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(D){return{$$typeof:p,render:D}},ze.isValidElement=C,ze.lazy=function(D){return{$$typeof:y,_payload:{_status:-1,_result:D},_init:ie}},ze.memo=function(D,Q){return{$$typeof:m,type:D,compare:Q===void 0?null:Q}},ze.startTransition=function(D){var Q=fe.T,oe={};fe.T=oe;try{var J=D(),me=fe.S;me!==null&&me(oe,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(ee,ue)}catch(De){ue(De)}finally{fe.T=Q}},ze.unstable_useCacheRefresh=function(){return fe.H.useCacheRefresh()},ze.use=function(D){return fe.H.use(D)},ze.useActionState=function(D,Q,oe){return fe.H.useActionState(D,Q,oe)},ze.useCallback=function(D,Q){return fe.H.useCallback(D,Q)},ze.useContext=function(D){return fe.H.useContext(D)},ze.useDebugValue=function(){},ze.useDeferredValue=function(D,Q){return fe.H.useDeferredValue(D,Q)},ze.useEffect=function(D,Q,oe){var J=fe.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(D,Q)},ze.useId=function(){return fe.H.useId()},ze.useImperativeHandle=function(D,Q,oe){return fe.H.useImperativeHandle(D,Q,oe)},ze.useInsertionEffect=function(D,Q){return fe.H.useInsertionEffect(D,Q)},ze.useLayoutEffect=function(D,Q){return fe.H.useLayoutEffect(D,Q)},ze.useMemo=function(D,Q){return fe.H.useMemo(D,Q)},ze.useOptimistic=function(D,Q){return fe.H.useOptimistic(D,Q)},ze.useReducer=function(D,Q,oe){return fe.H.useReducer(D,Q,oe)},ze.useRef=function(D){return fe.H.useRef(D)},ze.useState=function(D){return fe.H.useState(D)},ze.useSyncExternalStore=function(D,Q,oe){return fe.H.useSyncExternalStore(D,Q,oe)},ze.useTransition=function(){return fe.H.useTransition()},ze.version="19.1.0",ze}var SE;function Wm(){return SE||(SE=1,Bp.exports=iR()),Bp.exports}var O=Wm();const jt=Xm(O);var Fp={exports:{}},cc={},qp={exports:{}},Hp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RE;function aR(){return RE||(RE=1,function(i){function e(G,ie){var ue=G.length;G.push(ie);e:for(;0<ue;){var ee=ue-1>>>1,D=G[ee];if(0<o(D,ie))G[ee]=ie,G[ue]=D,ue=ee;else break e}}function t(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ie=G[0],ue=G.pop();if(ue!==ie){G[0]=ue;e:for(var ee=0,D=G.length,Q=D>>>1;ee<Q;){var oe=2*(ee+1)-1,J=G[oe],me=oe+1,De=G[me];if(0>o(J,ue))me<D&&0>o(De,J)?(G[ee]=De,G[me]=ue,ee=me):(G[ee]=J,G[oe]=ue,ee=oe);else if(me<D&&0>o(De,ue))G[ee]=De,G[me]=ue,ee=me;else break e}}return ie}function o(G,ie){var ue=G.sortIndex-ie.sortIndex;return ue!==0?ue:G.id-ie.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var d=Date,p=d.now();i.unstable_now=function(){return d.now()-p}}var f=[],m=[],y=1,b=null,x=3,R=!1,I=!1,U=!1,L=!1,H=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function ce(G){for(var ie=t(m);ie!==null;){if(ie.callback===null)r(m);else if(ie.startTime<=G)r(m),ie.sortIndex=ie.expirationTime,e(f,ie);else break;ie=t(m)}}function fe(G){if(U=!1,ce(G),!I)if(t(f)!==null)I=!0,be||(be=!0,z());else{var ie=t(m);ie!==null&&W(fe,ie.startTime-G)}}var be=!1,j=-1,S=5,C=-1;function P(){return L?!0:!(i.unstable_now()-C<S)}function M(){if(L=!1,be){var G=i.unstable_now();C=G;var ie=!0;try{e:{I=!1,U&&(U=!1,ne(j),j=-1),R=!0;var ue=x;try{t:{for(ce(G),b=t(f);b!==null&&!(b.expirationTime>G&&P());){var ee=b.callback;if(typeof ee=="function"){b.callback=null,x=b.priorityLevel;var D=ee(b.expirationTime<=G);if(G=i.unstable_now(),typeof D=="function"){b.callback=D,ce(G),ie=!0;break t}b===t(f)&&r(f),ce(G)}else r(f);b=t(f)}if(b!==null)ie=!0;else{var Q=t(m);Q!==null&&W(fe,Q.startTime-G),ie=!1}}break e}finally{b=null,x=ue,R=!1}ie=void 0}}finally{ie?z():be=!1}}}var z;if(typeof K=="function")z=function(){K(M)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,he=N.port2;N.port1.onmessage=M,z=function(){he.postMessage(null)}}else z=function(){H(M,0)};function W(G,ie){j=H(function(){G(i.unstable_now())},ie)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_next=function(G){switch(x){case 1:case 2:case 3:var ie=3;break;default:ie=x}var ue=x;x=ie;try{return G()}finally{x=ue}},i.unstable_requestPaint=function(){L=!0},i.unstable_runWithPriority=function(G,ie){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ue=x;x=G;try{return ie()}finally{x=ue}},i.unstable_scheduleCallback=function(G,ie,ue){var ee=i.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?ee+ue:ee):ue=ee,G){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ue+D,G={id:y++,callback:ie,priorityLevel:G,startTime:ue,expirationTime:D,sortIndex:-1},ue>ee?(G.sortIndex=ue,e(m,G),t(f)===null&&G===t(m)&&(U?(ne(j),j=-1):U=!0,W(fe,ue-ee))):(G.sortIndex=D,e(f,G),I||R||(I=!0,be||(be=!0,z()))),G},i.unstable_shouldYield=P,i.unstable_wrapCallback=function(G){var ie=x;return function(){var ue=x;x=ie;try{return G.apply(this,arguments)}finally{x=ue}}}}(Hp)),Hp}var IE;function rR(){return IE||(IE=1,qp.exports=aR()),qp.exports}var Gp={exports:{}},Sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function sR(){if(CE)return Sn;CE=1;var i=Wm();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(f,m,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:f,containerInfo:m,implementation:y}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Sn.createPortal=function(f,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(f,m,null,y)},Sn.flushSync=function(f){var m=d.T,y=r.p;try{if(d.T=null,r.p=2,f)return f()}finally{d.T=m,r.p=y,r.d.f()}},Sn.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},Sn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Sn.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var y=m.as,b=p(y,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,R=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:R}):y==="script"&&r.d.X(f,{crossOrigin:b,integrity:x,fetchPriority:R,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Sn.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=p(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},Sn.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,b=p(y,m.crossOrigin);r.d.L(f,y,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Sn.preloadModule=function(f,m){if(typeof f=="string")if(m){var y=p(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},Sn.requestFormReset=function(f){r.d.r(f)},Sn.unstable_batchedUpdates=function(f,m){return f(m)},Sn.useFormState=function(f,m,y){return d.H.useFormState(f,m,y)},Sn.useFormStatus=function(){return d.H.useHostTransitionStatus()},Sn.version="19.1.0",Sn}var NE;function oR(){if(NE)return Gp.exports;NE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Gp.exports=sR(),Gp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DE;function lR(){if(DE)return cc;DE=1;var i=rR(),e=Wm(),t=oR();function r(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var a=n,s=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(s=a.return),n=a.return;while(n)}return a.tag===3?s:null}function d(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function p(n){if(l(n)!==n)throw Error(r(188))}function f(n){var a=n.alternate;if(!a){if(a=l(n),a===null)throw Error(r(188));return a!==n?null:n}for(var s=n,c=a;;){var h=s.return;if(h===null)break;var v=h.alternate;if(v===null){if(c=h.return,c!==null){s=c;continue}break}if(h.child===v.child){for(v=h.child;v;){if(v===s)return p(h),n;if(v===c)return p(h),a;v=v.sibling}throw Error(r(188))}if(s.return!==c.return)s=h,c=v;else{for(var w=!1,T=h.child;T;){if(T===s){w=!0,s=h,c=v;break}if(T===c){w=!0,c=h,s=v;break}T=T.sibling}if(!w){for(T=v.child;T;){if(T===s){w=!0,s=v,c=h;break}if(T===c){w=!0,c=v,s=h;break}T=T.sibling}if(!w)throw Error(r(189))}}if(s.alternate!==c)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?n:a}function m(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=m(n),a!==null)return a;n=n.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),ne=Symbol.for("react.consumer"),K=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function z(n){return n===null||typeof n!="object"?null:(n=M&&n[M]||n["@@iterator"],typeof n=="function"?n:null)}var N=Symbol.for("react.client.reference");function he(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===N?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case I:return"Fragment";case L:return"Profiler";case U:return"StrictMode";case fe:return"Suspense";case be:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case R:return"Portal";case K:return(n.displayName||"Context")+".Provider";case ne:return(n._context.displayName||"Context")+".Consumer";case ce:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case j:return a=n.displayName||null,a!==null?a:he(n.type)||"Memo";case S:a=n._payload,n=n._init;try{return he(n(a))}catch{}}return null}var W=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},ee=[],D=-1;function Q(n){return{current:n}}function oe(n){0>D||(n.current=ee[D],ee[D]=null,D--)}function J(n,a){D++,ee[D]=n.current,n.current=a}var me=Q(null),De=Q(null),we=Q(null),yt=Q(null);function Ke(n,a){switch(J(we,a),J(De,n),J(me,null),a.nodeType){case 9:case 11:n=(n=a.documentElement)&&(n=n.namespaceURI)?W_(n):0;break;default:if(n=a.tagName,a=a.namespaceURI)a=W_(a),n=Z_(a,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}oe(me),J(me,n)}function Zt(){oe(me),oe(De),oe(we)}function bn(n){n.memoizedState!==null&&J(yt,n);var a=me.current,s=Z_(a,n.type);a!==s&&(J(De,n),J(me,s))}function Dt(n){De.current===n&&(oe(me),oe(De)),yt.current===n&&(oe(yt),ic._currentValue=ue)}var _t=Object.prototype.hasOwnProperty,cn=i.unstable_scheduleCallback,Jt=i.unstable_cancelCallback,Zn=i.unstable_shouldYield,wn=i.unstable_requestPaint,gt=i.unstable_now,un=i.unstable_getCurrentPriorityLevel,On=i.unstable_ImmediatePriority,xn=i.unstable_UserBlockingPriority,en=i.unstable_NormalPriority,Vn=i.unstable_LowPriority,Ni=i.unstable_IdlePriority,ge=i.log,Se=i.unstable_setDisableYieldValue,Le=null,Ce=null;function at(n){if(typeof ge=="function"&&Se(n),Ce&&typeof Ce.setStrictMode=="function")try{Ce.setStrictMode(Le,n)}catch{}}var ft=Math.clz32?Math.clz32:Un,Tn=Math.log,Xa=Math.LN2;function Un(n){return n>>>=0,n===0?32:31-(Tn(n)/Xa|0)|0}var Jn=256,zn=4194304;function tn(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ei(n,a,s){var c=n.pendingLanes;if(c===0)return 0;var h=0,v=n.suspendedLanes,w=n.pingedLanes;n=n.warmLanes;var T=c&134217727;return T!==0?(c=T&~v,c!==0?h=tn(c):(w&=T,w!==0?h=tn(w):s||(s=T&~n,s!==0&&(h=tn(s))))):(T=c&~v,T!==0?h=tn(T):w!==0?h=tn(w):s||(s=c&~n,s!==0&&(h=tn(s)))),h===0?0:a!==0&&a!==h&&(a&v)===0&&(v=h&-h,s=a&-a,v>=s||v===32&&(s&4194048)!==0)?a:h}function Bn(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function hi(n,a){switch(n){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ye(){var n=Jn;return Jn<<=1,(Jn&4194048)===0&&(Jn=256),n}function de(){var n=zn;return zn<<=1,(zn&62914560)===0&&(zn=4194304),n}function ve(n){for(var a=[],s=0;31>s;s++)a.push(n);return a}function Re(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function ke(n,a,s,c,h,v){var w=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var T=n.entanglements,k=n.expirationTimes,$=n.hiddenUpdates;for(s=w&~s;0<s;){var te=31-ft(s),re=1<<te;T[te]=0,k[te]=-1;var Y=$[te];if(Y!==null)for($[te]=null,te=0;te<Y.length;te++){var X=Y[te];X!==null&&(X.lane&=-536870913)}s&=~re}c!==0&&Ue(n,c,0),v!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=v&~(w&~a))}function Ue(n,a,s){n.pendingLanes|=a,n.suspendedLanes&=~a;var c=31-ft(a);n.entangledLanes|=a,n.entanglements[c]=n.entanglements[c]|1073741824|s&4194090}function st(n,a){var s=n.entangledLanes|=a;for(n=n.entanglements;s;){var c=31-ft(s),h=1<<c;h&a|n[c]&a&&(n[c]|=a),s&=~h}}function Fn(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Wa(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Za(){var n=ie.p;return n!==0?n:(n=window.event,n===void 0?32:vE(n.type))}function Yc(n,a){var s=ie.p;try{return ie.p=n,a()}finally{ie.p=s}}var wt=Math.random().toString(36).slice(2),$t="__reactFiber$"+wt,zt="__reactProps$"+wt,fi="__reactContainer$"+wt,ll="__reactEvents$"+wt,Fh="__reactListeners$"+wt,Ja="__reactHandles$"+wt,Xc="__reactResources$"+wt,Kr="__reactMarker$"+wt;function er(n){delete n[$t],delete n[zt],delete n[ll],delete n[Fh],delete n[Ja]}function va(n){var a=n[$t];if(a)return a;for(var s=n.parentNode;s;){if(a=s[fi]||s[$t]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(n=nE(n);n!==null;){if(s=n[$t])return s;n=nE(n)}return a}n=s,s=n.parentNode}return null}function Hi(n){if(n=n[$t]||n[fi]){var a=n.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return n}return null}function Gi(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(r(33))}function kn(n){var a=n[Xc];return a||(a=n[Xc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Mt(n){n[Kr]=!0}var cl=new Set,zs={};function Di(n,a){ya(n,a),ya(n+"Capture",a)}function ya(n,a){for(zs[n]=a,n=0;n<a.length;n++)cl.add(a[n])}var Wc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zc={},Qr={};function Jc(n){return _t.call(Qr,n)?!0:_t.call(Zc,n)?!1:Wc.test(n)?Qr[n]=!0:(Zc[n]=!0,!1)}function tr(n,a,s){if(Jc(a))if(s===null)n.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+s)}}function $i(n,a,s){if(s===null)n.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+s)}}function dn(n,a,s,c){if(c===null)n.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(a,s,""+c)}}var Yr,eu;function _a(n){if(Yr===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);Yr=a&&a[1]||"",eu=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yr+n+eu}var Bs=!1;function Fs(n,a){if(!n||Bs)return"";Bs=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(X){var Y=X}Reflect.construct(n,[],re)}else{try{re.call()}catch(X){Y=X}n.call(re.prototype)}}else{try{throw Error()}catch(X){Y=X}(re=n())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=c.DetermineComponentFrameRoot(),w=v[0],T=v[1];if(w&&T){var k=w.split(`
`),$=T.split(`
`);for(h=c=0;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;for(;h<$.length&&!$[h].includes("DetermineComponentFrameRoot");)h++;if(c===k.length||h===$.length)for(c=k.length-1,h=$.length-1;1<=c&&0<=h&&k[c]!==$[h];)h--;for(;1<=c&&0<=h;c--,h--)if(k[c]!==$[h]){if(c!==1||h!==1)do if(c--,h--,0>h||k[c]!==$[h]){var te=`
`+k[c].replace(" at new "," at ");return n.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",n.displayName)),te}while(1<=c&&0<=h);break}}}finally{Bs=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?_a(s):""}function ul(n){switch(n.tag){case 26:case 27:case 5:return _a(n.type);case 16:return _a("Lazy");case 13:return _a("Suspense");case 19:return _a("SuspenseList");case 0:case 15:return Fs(n.type,!1);case 11:return Fs(n.type.render,!1);case 1:return Fs(n.type,!0);case 31:return _a("Activity");default:return""}}function qs(n){try{var a="";do a+=ul(n),n=n.return;while(n);return a}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Pn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function dl(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function qh(n){var a=dl(n)?"checked":"value",s=Object.getOwnPropertyDescriptor(n.constructor.prototype,a),c=""+n[a];if(!n.hasOwnProperty(a)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,v=s.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return h.call(this)},set:function(w){c=""+w,v.call(this,w)}}),Object.defineProperty(n,a,{enumerable:s.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function Hs(n){n._valueTracker||(n._valueTracker=qh(n))}function hl(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var s=a.getValue(),c="";return n&&(c=dl(n)?n.checked?"true":"false":n.value),n=c,n!==s?(a.setValue(n),!0):!1}function Xr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Hh=/[\n"\\]/g;function Bt(n){return n.replace(Hh,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ti(n,a,s,c,h,v,w,T){n.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.type=w:n.removeAttribute("type"),a!=null?w==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+Pn(a)):n.value!==""+Pn(a)&&(n.value=""+Pn(a)):w!=="submit"&&w!=="reset"||n.removeAttribute("value"),a!=null?nr(n,w,Pn(a)):s!=null?nr(n,w,Pn(s)):c!=null&&n.removeAttribute("value"),h==null&&v!=null&&(n.defaultChecked=!!v),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+Pn(T):n.removeAttribute("name")}function Wr(n,a,s,c,h,v,w,T){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.type=v),a!=null||s!=null){if(!(v!=="submit"&&v!=="reset"||a!=null))return;s=s!=null?""+Pn(s):"",a=a!=null?""+Pn(a):s,T||a===n.value||(n.value=a),n.defaultValue=a}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=T?n.checked:!!c,n.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(n.name=w)}function nr(n,a,s){a==="number"&&Xr(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function Ea(n,a,s,c){if(n=n.options,a){a={};for(var h=0;h<s.length;h++)a["$"+s[h]]=!0;for(s=0;s<n.length;s++)h=a.hasOwnProperty("$"+n[s].value),n[s].selected!==h&&(n[s].selected=h),h&&c&&(n[s].defaultSelected=!0)}else{for(s=""+Pn(s),a=null,h=0;h<n.length;h++){if(n[h].value===s){n[h].selected=!0,c&&(n[h].defaultSelected=!0);return}a!==null||n[h].disabled||(a=n[h])}a!==null&&(a.selected=!0)}}function ct(n,a,s){if(a!=null&&(a=""+Pn(a),a!==n.value&&(n.value=a),s==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=s!=null?""+Pn(s):""}function Zr(n,a,s,c){if(a==null){if(c!=null){if(s!=null)throw Error(r(92));if(W(c)){if(1<c.length)throw Error(r(93));c=c[0]}s=c}s==null&&(s=""),a=s}s=Pn(a),n.defaultValue=s,c=n.textContent,c===s&&c!==""&&c!==null&&(n.value=c)}function pi(n,a){if(a){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=a;return}}n.textContent=a}var Jr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tu(n,a,s){var c=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?c?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":c?n.setProperty(a,s):typeof s!="number"||s===0||Jr.has(a)?a==="float"?n.cssFloat=s:n[a]=(""+s).trim():n[a]=s+"px"}function fl(n,a,s){if(a!=null&&typeof a!="object")throw Error(r(62));if(n=n.style,s!=null){for(var c in s)!s.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var h in a)c=a[h],a.hasOwnProperty(h)&&s[h]!==c&&tu(n,h,c)}else for(var v in a)a.hasOwnProperty(v)&&tu(n,v,a[v])}function pl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$h=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gs(n){return $h.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var ba=null;function mi(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var wa=null,xa=null;function ml(n){var a=Hi(n);if(a&&(n=a.stateNode)){var s=n[zt]||null;e:switch(n=a.stateNode,a.type){case"input":if(ti(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Bt(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var c=s[a];if(c!==n&&c.form===n.form){var h=c[zt]||null;if(!h)throw Error(r(90));ti(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(a=0;a<s.length;a++)c=s[a],c.form===n.form&&hl(c)}break e;case"textarea":ct(n,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&Ea(n,!!s.multiple,a,!1)}}}var Ki=!1;function nu(n,a,s){if(Ki)return n(a,s);Ki=!0;try{var c=n(a);return c}finally{if(Ki=!1,(wa!==null||xa!==null)&&(Yu(),wa&&(a=wa,n=xa,xa=wa=null,ml(a),n)))for(a=0;a<n.length;a++)ml(n[a])}}function es(n,a){var s=n.stateNode;if(s===null)return null;var c=s[zt]||null;if(c===null)return null;s=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(r(231,a,typeof s));return s}var Oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gi=!1;if(Oi)try{var ts={};Object.defineProperty(ts,"passive",{get:function(){gi=!0}}),window.addEventListener("test",ts,ts),window.removeEventListener("test",ts,ts)}catch{gi=!1}var Qi=null,ir=null,Ta=null;function gl(){if(Ta)return Ta;var n,a=ir,s=a.length,c,h="value"in Qi?Qi.value:Qi.textContent,v=h.length;for(n=0;n<s&&a[n]===h[n];n++);var w=s-n;for(c=1;c<=w&&a[s-c]===h[v-c];c++);return Ta=h.slice(n,1<c?1-c:void 0)}function Yi(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function Xi(){return!0}function vl(){return!1}function nn(n){function a(s,c,h,v,w){this._reactName=s,this._targetInst=h,this.type=c,this.nativeEvent=v,this.target=w,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(s=n[T],this[T]=s?s(v):v[T]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Xi:vl,this.isPropagationStopped=vl,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),a}var rt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$s=nn(rt),ns=y({},rt,{view:0,detail:0}),iu=nn(ns),Ks,Qs,Wi,is=y({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ss,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Wi&&(Wi&&n.type==="mousemove"?(Ks=n.screenX-Wi.screenX,Qs=n.screenY-Wi.screenY):Qs=Ks=0,Wi=n),Ks)},movementY:function(n){return"movementY"in n?n.movementY:Qs}}),vi=nn(is),au=y({},is,{dataTransfer:0}),Kh=nn(au),as=y({},ns,{relatedTarget:0}),Ys=nn(as),yl=y({},rt,{animationName:0,elapsedTime:0,pseudoElement:0}),Xs=nn(yl),ru=y({},rt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ws=nn(ru),Qh=y({},rt,{data:0}),_l=nn(Qh),rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function El(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=ou[n])?!!a[n]:!1}function ss(){return El}var lu=y({},ns,{key:function(n){if(n.key){var a=rs[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=Yi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?su[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ss,charCode:function(n){return n.type==="keypress"?Yi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Yi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Zs=nn(lu),cu=y({},is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bl=nn(cu),Aa=y({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ss}),uu=nn(Aa),du=y({},rt,{propertyName:0,elapsedTime:0,pseudoElement:0}),hu=nn(du),fu=y({},is,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Js=nn(fu),jn=y({},rt,{newState:0,oldState:0}),pu=nn(jn),mu=[9,13,27,32],Zi=Oi&&"CompositionEvent"in window,u=null;Oi&&"documentMode"in document&&(u=document.documentMode);var _=Oi&&"TextEvent"in window&&!u,E=Oi&&(!Zi||u&&8<u&&11>=u),A=" ",F=!1;function Z(n,a){switch(n){case"keyup":return mu.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pe(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Xe=!1;function Kt(n,a){switch(n){case"compositionend":return pe(a);case"keypress":return a.which!==32?null:(F=!0,A);case"textInput":return n=a.data,n===A&&F?null:n;default:return null}}function We(n,a){if(Xe)return n==="compositionend"||!Zi&&Z(n,a)?(n=gl(),Ta=ir=Qi=null,Xe=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return E&&a.locale!=="ko"?null:a.data;default:return null}}var an={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qt(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!an[n.type]:a==="textarea"}function Sa(n,a,s,c){wa?xa?xa.push(c):xa=[c]:wa=c,a=td(a,"onChange"),0<a.length&&(s=new $s("onChange","change",null,s,c),n.push({event:s,listeners:a}))}var hn=null,Ji=null;function wl(n){$_(n,0)}function gu(n){var a=Gi(n);if(hl(a))return n}function fv(n,a){if(n==="change")return a}var pv=!1;if(Oi){var Yh;if(Oi){var Xh="oninput"in document;if(!Xh){var mv=document.createElement("div");mv.setAttribute("oninput","return;"),Xh=typeof mv.oninput=="function"}Yh=Xh}else Yh=!1;pv=Yh&&(!document.documentMode||9<document.documentMode)}function gv(){hn&&(hn.detachEvent("onpropertychange",vv),Ji=hn=null)}function vv(n){if(n.propertyName==="value"&&gu(Ji)){var a=[];Sa(a,Ji,n,mi(n)),nu(wl,a)}}function NA(n,a,s){n==="focusin"?(gv(),hn=a,Ji=s,hn.attachEvent("onpropertychange",vv)):n==="focusout"&&gv()}function DA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return gu(Ji)}function OA(n,a){if(n==="click")return gu(a)}function kA(n,a){if(n==="input"||n==="change")return gu(a)}function PA(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var ni=typeof Object.is=="function"?Object.is:PA;function xl(n,a){if(ni(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var s=Object.keys(n),c=Object.keys(a);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var h=s[c];if(!_t.call(a,h)||!ni(n[h],a[h]))return!1}return!0}function yv(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function _v(n,a){var s=yv(n);n=0;for(var c;s;){if(s.nodeType===3){if(c=n+s.textContent.length,n<=a&&c>=a)return{node:s,offset:a-n};n=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=yv(s)}}function Ev(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?Ev(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function bv(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=Xr(n.document);a instanceof n.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)n=a.contentWindow;else break;a=Xr(n.document)}return a}function Wh(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}var jA=Oi&&"documentMode"in document&&11>=document.documentMode,eo=null,Zh=null,Tl=null,Jh=!1;function wv(n,a,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Jh||eo==null||eo!==Xr(c)||(c=eo,"selectionStart"in c&&Wh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Tl&&xl(Tl,c)||(Tl=c,c=td(Zh,"onSelect"),0<c.length&&(a=new $s("onSelect","select",null,a,s),n.push({event:a,listeners:c}),a.target=eo)))}function os(n,a){var s={};return s[n.toLowerCase()]=a.toLowerCase(),s["Webkit"+n]="webkit"+a,s["Moz"+n]="moz"+a,s}var to={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionrun:os("Transition","TransitionRun"),transitionstart:os("Transition","TransitionStart"),transitioncancel:os("Transition","TransitionCancel"),transitionend:os("Transition","TransitionEnd")},ef={},xv={};Oi&&(xv=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function ls(n){if(ef[n])return ef[n];if(!to[n])return n;var a=to[n],s;for(s in a)if(a.hasOwnProperty(s)&&s in xv)return ef[n]=a[s];return n}var Tv=ls("animationend"),Av=ls("animationiteration"),Sv=ls("animationstart"),MA=ls("transitionrun"),LA=ls("transitionstart"),VA=ls("transitioncancel"),Rv=ls("transitionend"),Iv=new Map,tf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tf.push("scrollEnd");function ki(n,a){Iv.set(n,a),Di(a,[n])}var Cv=new WeakMap;function yi(n,a){if(typeof n=="object"&&n!==null){var s=Cv.get(n);return s!==void 0?s:(a={value:n,source:a,stack:qs(a)},Cv.set(n,a),a)}return{value:n,source:a,stack:qs(a)}}var _i=[],no=0,nf=0;function vu(){for(var n=no,a=nf=no=0;a<n;){var s=_i[a];_i[a++]=null;var c=_i[a];_i[a++]=null;var h=_i[a];_i[a++]=null;var v=_i[a];if(_i[a++]=null,c!==null&&h!==null){var w=c.pending;w===null?h.next=h:(h.next=w.next,w.next=h),c.pending=h}v!==0&&Nv(s,h,v)}}function yu(n,a,s,c){_i[no++]=n,_i[no++]=a,_i[no++]=s,_i[no++]=c,nf|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function af(n,a,s,c){return yu(n,a,s,c),_u(n)}function io(n,a){return yu(n,null,null,a),_u(n)}function Nv(n,a,s){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s);for(var h=!1,v=n.return;v!==null;)v.childLanes|=s,c=v.alternate,c!==null&&(c.childLanes|=s),v.tag===22&&(n=v.stateNode,n===null||n._visibility&1||(h=!0)),n=v,v=v.return;return n.tag===3?(v=n.stateNode,h&&a!==null&&(h=31-ft(s),n=v.hiddenUpdates,c=n[h],c===null?n[h]=[a]:c.push(a),a.lane=s|536870912),v):null}function _u(n){if(50<Yl)throw Yl=0,up=null,Error(r(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var ao={};function UA(n,a,s,c){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(n,a,s,c){return new UA(n,a,s,c)}function rf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ra(n,a){var s=n.alternate;return s===null?(s=ii(n.tag,a,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=a,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,a=n.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function Dv(n,a){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,a=s.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function Eu(n,a,s,c,h,v){var w=0;if(c=n,typeof n=="function")rf(n)&&(w=1);else if(typeof n=="string")w=BS(n,s,me.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=ii(31,s,a,h),n.elementType=C,n.lanes=v,n;case I:return cs(s.children,h,v,a);case U:w=8,h|=24;break;case L:return n=ii(12,s,a,h|2),n.elementType=L,n.lanes=v,n;case fe:return n=ii(13,s,a,h),n.elementType=fe,n.lanes=v,n;case be:return n=ii(19,s,a,h),n.elementType=be,n.lanes=v,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case H:case K:w=10;break e;case ne:w=9;break e;case ce:w=11;break e;case j:w=14;break e;case S:w=16,c=null;break e}w=29,s=Error(r(130,n===null?"null":typeof n,"")),c=null}return a=ii(w,s,a,h),a.elementType=n,a.type=c,a.lanes=v,a}function cs(n,a,s,c){return n=ii(7,n,c,a),n.lanes=s,n}function sf(n,a,s){return n=ii(6,n,null,a),n.lanes=s,n}function of(n,a,s){return a=ii(4,n.children!==null?n.children:[],n.key,a),a.lanes=s,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}var ro=[],so=0,bu=null,wu=0,Ei=[],bi=0,us=null,Ia=1,Ca="";function ds(n,a){ro[so++]=wu,ro[so++]=bu,bu=n,wu=a}function Ov(n,a,s){Ei[bi++]=Ia,Ei[bi++]=Ca,Ei[bi++]=us,us=n;var c=Ia;n=Ca;var h=32-ft(c)-1;c&=~(1<<h),s+=1;var v=32-ft(a)+h;if(30<v){var w=h-h%5;v=(c&(1<<w)-1).toString(32),c>>=w,h-=w,Ia=1<<32-ft(a)+h|s<<h|c,Ca=v+n}else Ia=1<<v|s<<h|c,Ca=n}function lf(n){n.return!==null&&(ds(n,1),Ov(n,1,0))}function cf(n){for(;n===bu;)bu=ro[--so],ro[so]=null,wu=ro[--so],ro[so]=null;for(;n===us;)us=Ei[--bi],Ei[bi]=null,Ca=Ei[--bi],Ei[bi]=null,Ia=Ei[--bi],Ei[bi]=null}var Mn=null,Ot=null,tt=!1,hs=null,ea=!1,uf=Error(r(519));function fs(n){var a=Error(r(418,""));throw Rl(yi(a,n)),uf}function kv(n){var a=n.stateNode,s=n.type,c=n.memoizedProps;switch(a[$t]=n,a[zt]=c,s){case"dialog":Ge("cancel",a),Ge("close",a);break;case"iframe":case"object":case"embed":Ge("load",a);break;case"video":case"audio":for(s=0;s<Wl.length;s++)Ge(Wl[s],a);break;case"source":Ge("error",a);break;case"img":case"image":case"link":Ge("error",a),Ge("load",a);break;case"details":Ge("toggle",a);break;case"input":Ge("invalid",a),Wr(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Hs(a);break;case"select":Ge("invalid",a);break;case"textarea":Ge("invalid",a),Zr(a,c.value,c.defaultValue,c.children),Hs(a)}s=c.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||c.suppressHydrationWarning===!0||X_(a.textContent,s)?(c.popover!=null&&(Ge("beforetoggle",a),Ge("toggle",a)),c.onScroll!=null&&Ge("scroll",a),c.onScrollEnd!=null&&Ge("scrollend",a),c.onClick!=null&&(a.onclick=nd),a=!0):a=!1,a||fs(n)}function Pv(n){for(Mn=n.return;Mn;)switch(Mn.tag){case 5:case 13:ea=!1;return;case 27:case 3:ea=!0;return;default:Mn=Mn.return}}function Al(n){if(n!==Mn)return!1;if(!tt)return Pv(n),tt=!0,!1;var a=n.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||Sp(n.type,n.memoizedProps)),s=!s),s&&Ot&&fs(n),Pv(n),a===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,a=0;n;){if(n.nodeType===8)if(s=n.data,s==="/$"){if(a===0){Ot=ji(n.nextSibling);break e}a--}else s!=="$"&&s!=="$!"&&s!=="$?"||a++;n=n.nextSibling}Ot=null}}else a===27?(a=Ot,_r(n.type)?(n=Np,Np=null,Ot=n):Ot=a):Ot=Mn?ji(n.stateNode.nextSibling):null;return!0}function Sl(){Ot=Mn=null,tt=!1}function jv(){var n=hs;return n!==null&&(Gn===null?Gn=n:Gn.push.apply(Gn,n),hs=null),n}function Rl(n){hs===null?hs=[n]:hs.push(n)}var df=Q(null),ps=null,Na=null;function ar(n,a,s){J(df,a._currentValue),a._currentValue=s}function Da(n){n._currentValue=df.current,oe(df)}function hf(n,a,s){for(;n!==null;){var c=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),n===s)break;n=n.return}}function ff(n,a,s,c){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var v=h.dependencies;if(v!==null){var w=h.child;v=v.firstContext;e:for(;v!==null;){var T=v;v=h;for(var k=0;k<a.length;k++)if(T.context===a[k]){v.lanes|=s,T=v.alternate,T!==null&&(T.lanes|=s),hf(v.return,s,n),c||(w=null);break e}v=T.next}}else if(h.tag===18){if(w=h.return,w===null)throw Error(r(341));w.lanes|=s,v=w.alternate,v!==null&&(v.lanes|=s),hf(w,s,n),w=null}else w=h.child;if(w!==null)w.return=h;else for(w=h;w!==null;){if(w===n){w=null;break}if(h=w.sibling,h!==null){h.return=w.return,w=h;break}w=w.return}h=w}}function Il(n,a,s,c){n=null;for(var h=a,v=!1;h!==null;){if(!v){if((h.flags&524288)!==0)v=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var w=h.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var T=h.type;ni(h.pendingProps.value,w.value)||(n!==null?n.push(T):n=[T])}}else if(h===yt.current){if(w=h.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(ic):n=[ic])}h=h.return}n!==null&&ff(a,n,s,c),a.flags|=262144}function xu(n){for(n=n.firstContext;n!==null;){if(!ni(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ms(n){ps=n,Na=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function An(n){return Mv(ps,n)}function Tu(n,a){return ps===null&&ms(n),Mv(n,a)}function Mv(n,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},Na===null){if(n===null)throw Error(r(308));Na=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else Na=Na.next=a;return s}var zA=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(s,c){n.push(c)}};this.abort=function(){a.aborted=!0,n.forEach(function(s){return s()})}},BA=i.unstable_scheduleCallback,FA=i.unstable_NormalPriority,Yt={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pf(){return{controller:new zA,data:new Map,refCount:0}}function Cl(n){n.refCount--,n.refCount===0&&BA(FA,function(){n.controller.abort()})}var Nl=null,mf=0,oo=0,lo=null;function qA(n,a){if(Nl===null){var s=Nl=[];mf=0,oo=vp(),lo={status:"pending",value:void 0,then:function(c){s.push(c)}}}return mf++,a.then(Lv,Lv),a}function Lv(){if(--mf===0&&Nl!==null){lo!==null&&(lo.status="fulfilled");var n=Nl;Nl=null,oo=0,lo=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function HA(n,a){var s=[],c={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return n.then(function(){c.status="fulfilled",c.value=a;for(var h=0;h<s.length;h++)(0,s[h])(a)},function(h){for(c.status="rejected",c.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),c}var Vv=G.S;G.S=function(n,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&qA(n,a),Vv!==null&&Vv(n,a)};var gs=Q(null);function gf(){var n=gs.current;return n!==null?n:vt.pooledCache}function Au(n,a){a===null?J(gs,gs.current):J(gs,a.pool)}function Uv(){var n=gf();return n===null?null:{parent:Yt._currentValue,pool:n}}var Dl=Error(r(460)),zv=Error(r(474)),Su=Error(r(542)),vf={then:function(){}};function Bv(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Ru(){}function Fv(n,a,s){switch(s=n[s],s===void 0?n.push(a):s!==a&&(a.then(Ru,Ru),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,Hv(n),n;default:if(typeof a.status=="string")a.then(Ru,Ru);else{if(n=vt,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=a,n.status="pending",n.then(function(c){if(a.status==="pending"){var h=a;h.status="fulfilled",h.value=c}},function(c){if(a.status==="pending"){var h=a;h.status="rejected",h.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,Hv(n),n}throw Ol=a,Dl}}var Ol=null;function qv(){if(Ol===null)throw Error(r(459));var n=Ol;return Ol=null,n}function Hv(n){if(n===Dl||n===Su)throw Error(r(483))}var rr=!1;function yf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _f(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function sr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function or(n,a,s){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(ot&2)!==0){var h=c.pending;return h===null?a.next=a:(a.next=h.next,h.next=a),c.pending=a,a=_u(n),Nv(n,null,s),a}return yu(n,c,a,s),_u(n)}function kl(n,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var c=a.lanes;c&=n.pendingLanes,s|=c,a.lanes=s,st(n,s)}}function Ef(n,a){var s=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var h=null,v=null;if(s=s.firstBaseUpdate,s!==null){do{var w={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};v===null?h=v=w:v=v.next=w,s=s.next}while(s!==null);v===null?h=v=a:v=v.next=a}else h=v=a;s={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:v,shared:c.shared,callbacks:c.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=a:n.next=a,s.lastBaseUpdate=a}var bf=!1;function Pl(){if(bf){var n=lo;if(n!==null)throw n}}function jl(n,a,s,c){bf=!1;var h=n.updateQueue;rr=!1;var v=h.firstBaseUpdate,w=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var k=T,$=k.next;k.next=null,w===null?v=$:w.next=$,w=k;var te=n.alternate;te!==null&&(te=te.updateQueue,T=te.lastBaseUpdate,T!==w&&(T===null?te.firstBaseUpdate=$:T.next=$,te.lastBaseUpdate=k))}if(v!==null){var re=h.baseState;w=0,te=$=k=null,T=v;do{var Y=T.lane&-536870913,X=Y!==T.lane;if(X?(Ze&Y)===Y:(c&Y)===Y){Y!==0&&Y===oo&&(bf=!0),te!==null&&(te=te.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Pe=n,Ne=T;Y=a;var ht=s;switch(Ne.tag){case 1:if(Pe=Ne.payload,typeof Pe=="function"){re=Pe.call(ht,re,Y);break e}re=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Ne.payload,Y=typeof Pe=="function"?Pe.call(ht,re,Y):Pe,Y==null)break e;re=y({},re,Y);break e;case 2:rr=!0}}Y=T.callback,Y!==null&&(n.flags|=64,X&&(n.flags|=8192),X=h.callbacks,X===null?h.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:T.tag,payload:T.payload,callback:T.callback,next:null},te===null?($=te=X,k=re):te=te.next=X,w|=Y;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;X=T,T=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);te===null&&(k=re),h.baseState=k,h.firstBaseUpdate=$,h.lastBaseUpdate=te,v===null&&(h.shared.lanes=0),mr|=w,n.lanes=w,n.memoizedState=re}}function Gv(n,a){if(typeof n!="function")throw Error(r(191,n));n.call(a)}function $v(n,a){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)Gv(s[n],a)}var co=Q(null),Iu=Q(0);function Kv(n,a){n=Va,J(Iu,n),J(co,a),Va=n|a.baseLanes}function wf(){J(Iu,Va),J(co,co.current)}function xf(){Va=Iu.current,oe(co),oe(Iu)}var lr=0,Be=null,ut=null,Ft=null,Cu=!1,uo=!1,vs=!1,Nu=0,Ml=0,ho=null,GA=0;function Lt(){throw Error(r(321))}function Tf(n,a){if(a===null)return!1;for(var s=0;s<a.length&&s<n.length;s++)if(!ni(n[s],a[s]))return!1;return!0}function Af(n,a,s,c,h,v){return lr=v,Be=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,G.H=n===null||n.memoizedState===null?Ny:Dy,vs=!1,v=s(c,h),vs=!1,uo&&(v=Yv(a,s,c,h)),Qv(n),v}function Qv(n){G.H=Mu;var a=ut!==null&&ut.next!==null;if(lr=0,Ft=ut=Be=null,Cu=!1,Ml=0,ho=null,a)throw Error(r(300));n===null||rn||(n=n.dependencies,n!==null&&xu(n)&&(rn=!0))}function Yv(n,a,s,c){Be=n;var h=0;do{if(uo&&(ho=null),Ml=0,uo=!1,25<=h)throw Error(r(301));if(h+=1,Ft=ut=null,n.updateQueue!=null){var v=n.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}G.H=ZA,v=a(s,c)}while(uo);return v}function $A(){var n=G.H,a=n.useState()[0];return a=typeof a.then=="function"?Ll(a):a,n=n.useState()[0],(ut!==null?ut.memoizedState:null)!==n&&(Be.flags|=1024),a}function Sf(){var n=Nu!==0;return Nu=0,n}function Rf(n,a,s){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~s}function If(n){if(Cu){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Cu=!1}lr=0,Ft=ut=Be=null,uo=!1,Ml=Nu=0,ho=null}function qn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?Be.memoizedState=Ft=n:Ft=Ft.next=n,Ft}function qt(){if(ut===null){var n=Be.alternate;n=n!==null?n.memoizedState:null}else n=ut.next;var a=Ft===null?Be.memoizedState:Ft.next;if(a!==null)Ft=a,ut=n;else{if(n===null)throw Be.alternate===null?Error(r(467)):Error(r(310));ut=n,n={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Ft===null?Be.memoizedState=Ft=n:Ft=Ft.next=n}return Ft}function Cf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ll(n){var a=Ml;return Ml+=1,ho===null&&(ho=[]),n=Fv(ho,n,a),a=Be,(Ft===null?a.memoizedState:Ft.next)===null&&(a=a.alternate,G.H=a===null||a.memoizedState===null?Ny:Dy),n}function Du(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ll(n);if(n.$$typeof===K)return An(n)}throw Error(r(438,String(n)))}function Nf(n){var a=null,s=Be.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var c=Be.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(h){return h.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=Cf(),Be.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(n),c=0;c<n;c++)s[c]=P;return a.index++,s}function Oa(n,a){return typeof a=="function"?a(n):a}function Ou(n){var a=qt();return Df(a,ut,n)}function Df(n,a,s){var c=n.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var h=n.baseQueue,v=c.pending;if(v!==null){if(h!==null){var w=h.next;h.next=v.next,v.next=w}a.baseQueue=h=v,c.pending=null}if(v=n.baseState,h===null)n.memoizedState=v;else{a=h.next;var T=w=null,k=null,$=a,te=!1;do{var re=$.lane&-536870913;if(re!==$.lane?(Ze&re)===re:(lr&re)===re){var Y=$.revertLane;if(Y===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),re===oo&&(te=!0);else if((lr&Y)===Y){$=$.next,Y===oo&&(te=!0);continue}else re={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},k===null?(T=k=re,w=v):k=k.next=re,Be.lanes|=Y,mr|=Y;re=$.action,vs&&s(v,re),v=$.hasEagerState?$.eagerState:s(v,re)}else Y={lane:re,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},k===null?(T=k=Y,w=v):k=k.next=Y,Be.lanes|=re,mr|=re;$=$.next}while($!==null&&$!==a);if(k===null?w=v:k.next=T,!ni(v,n.memoizedState)&&(rn=!0,te&&(s=lo,s!==null)))throw s;n.memoizedState=v,n.baseState=w,n.baseQueue=k,c.lastRenderedState=v}return h===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function Of(n){var a=qt(),s=a.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=n;var c=s.dispatch,h=s.pending,v=a.memoizedState;if(h!==null){s.pending=null;var w=h=h.next;do v=n(v,w.action),w=w.next;while(w!==h);ni(v,a.memoizedState)||(rn=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),s.lastRenderedState=v}return[v,c]}function Xv(n,a,s){var c=Be,h=qt(),v=tt;if(v){if(s===void 0)throw Error(r(407));s=s()}else s=a();var w=!ni((ut||h).memoizedState,s);w&&(h.memoizedState=s,rn=!0),h=h.queue;var T=Jv.bind(null,c,h,n);if(Vl(2048,8,T,[n]),h.getSnapshot!==a||w||Ft!==null&&Ft.memoizedState.tag&1){if(c.flags|=2048,fo(9,ku(),Zv.bind(null,c,h,s,a),null),vt===null)throw Error(r(349));v||(lr&124)!==0||Wv(c,a,s)}return s}function Wv(n,a,s){n.flags|=16384,n={getSnapshot:a,value:s},a=Be.updateQueue,a===null?(a=Cf(),Be.updateQueue=a,a.stores=[n]):(s=a.stores,s===null?a.stores=[n]:s.push(n))}function Zv(n,a,s,c){a.value=s,a.getSnapshot=c,ey(a)&&ty(n)}function Jv(n,a,s){return s(function(){ey(a)&&ty(n)})}function ey(n){var a=n.getSnapshot;n=n.value;try{var s=a();return!ni(n,s)}catch{return!0}}function ty(n){var a=io(n,2);a!==null&&li(a,n,2)}function kf(n){var a=qn();if(typeof n=="function"){var s=n;if(n=s(),vs){at(!0);try{s()}finally{at(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:n},a}function ny(n,a,s,c){return n.baseState=s,Df(n,ut,typeof c=="function"?c:Oa)}function KA(n,a,s,c,h){if(ju(n))throw Error(r(485));if(n=a.action,n!==null){var v={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){v.listeners.push(w)}};G.T!==null?s(!0):v.isTransition=!1,c(v),s=a.pending,s===null?(v.next=a.pending=v,iy(a,v)):(v.next=s.next,a.pending=s.next=v)}}function iy(n,a){var s=a.action,c=a.payload,h=n.state;if(a.isTransition){var v=G.T,w={};G.T=w;try{var T=s(h,c),k=G.S;k!==null&&k(w,T),ay(n,a,T)}catch($){Pf(n,a,$)}finally{G.T=v}}else try{v=s(h,c),ay(n,a,v)}catch($){Pf(n,a,$)}}function ay(n,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(c){ry(n,a,c)},function(c){return Pf(n,a,c)}):ry(n,a,s)}function ry(n,a,s){a.status="fulfilled",a.value=s,sy(a),n.state=s,a=n.pending,a!==null&&(s=a.next,s===a?n.pending=null:(s=s.next,a.next=s,iy(n,s)))}function Pf(n,a,s){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=s,sy(a),a=a.next;while(a!==c)}n.action=null}function sy(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function oy(n,a){return a}function ly(n,a){if(tt){var s=vt.formState;if(s!==null){e:{var c=Be;if(tt){if(Ot){t:{for(var h=Ot,v=ea;h.nodeType!==8;){if(!v){h=null;break t}if(h=ji(h.nextSibling),h===null){h=null;break t}}v=h.data,h=v==="F!"||v==="F"?h:null}if(h){Ot=ji(h.nextSibling),c=h.data==="F!";break e}}fs(c)}c=!1}c&&(a=s[0])}}return s=qn(),s.memoizedState=s.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oy,lastRenderedState:a},s.queue=c,s=Ry.bind(null,Be,c),c.dispatch=s,c=kf(!1),v=Uf.bind(null,Be,!1,c.queue),c=qn(),h={state:a,dispatch:null,action:n,pending:null},c.queue=h,s=KA.bind(null,Be,h,v,s),h.dispatch=s,c.memoizedState=n,[a,s,!1]}function cy(n){var a=qt();return uy(a,ut,n)}function uy(n,a,s){if(a=Df(n,a,oy)[0],n=Ou(Oa)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Ll(a)}catch(w){throw w===Dl?Su:w}else c=a;a=qt();var h=a.queue,v=h.dispatch;return s!==a.memoizedState&&(Be.flags|=2048,fo(9,ku(),QA.bind(null,h,s),null)),[c,v,n]}function QA(n,a){n.action=a}function dy(n){var a=qt(),s=ut;if(s!==null)return uy(a,s,n);qt(),a=a.memoizedState,s=qt();var c=s.queue.dispatch;return s.memoizedState=n,[a,c,!1]}function fo(n,a,s,c){return n={tag:n,create:s,deps:c,inst:a,next:null},a=Be.updateQueue,a===null&&(a=Cf(),Be.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=n.next=n:(c=s.next,s.next=n,n.next=c,a.lastEffect=n),n}function ku(){return{destroy:void 0,resource:void 0}}function hy(){return qt().memoizedState}function Pu(n,a,s,c){var h=qn();c=c===void 0?null:c,Be.flags|=n,h.memoizedState=fo(1|a,ku(),s,c)}function Vl(n,a,s,c){var h=qt();c=c===void 0?null:c;var v=h.memoizedState.inst;ut!==null&&c!==null&&Tf(c,ut.memoizedState.deps)?h.memoizedState=fo(a,v,s,c):(Be.flags|=n,h.memoizedState=fo(1|a,v,s,c))}function fy(n,a){Pu(8390656,8,n,a)}function py(n,a){Vl(2048,8,n,a)}function my(n,a){return Vl(4,2,n,a)}function gy(n,a){return Vl(4,4,n,a)}function vy(n,a){if(typeof a=="function"){n=n();var s=a(n);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function yy(n,a,s){s=s!=null?s.concat([n]):null,Vl(4,4,vy.bind(null,a,n),s)}function jf(){}function _y(n,a){var s=qt();a=a===void 0?null:a;var c=s.memoizedState;return a!==null&&Tf(a,c[1])?c[0]:(s.memoizedState=[n,a],n)}function Ey(n,a){var s=qt();a=a===void 0?null:a;var c=s.memoizedState;if(a!==null&&Tf(a,c[1]))return c[0];if(c=n(),vs){at(!0);try{n()}finally{at(!1)}}return s.memoizedState=[c,a],c}function Mf(n,a,s){return s===void 0||(lr&1073741824)!==0?n.memoizedState=a:(n.memoizedState=s,n=x_(),Be.lanes|=n,mr|=n,s)}function by(n,a,s,c){return ni(s,a)?s:co.current!==null?(n=Mf(n,s,c),ni(n,a)||(rn=!0),n):(lr&42)===0?(rn=!0,n.memoizedState=s):(n=x_(),Be.lanes|=n,mr|=n,a)}function wy(n,a,s,c,h){var v=ie.p;ie.p=v!==0&&8>v?v:8;var w=G.T,T={};G.T=T,Uf(n,!1,a,s);try{var k=h(),$=G.S;if($!==null&&$(T,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var te=HA(k,c);Ul(n,a,te,oi(n))}else Ul(n,a,c,oi(n))}catch(re){Ul(n,a,{then:function(){},status:"rejected",reason:re},oi())}finally{ie.p=v,G.T=w}}function YA(){}function Lf(n,a,s,c){if(n.tag!==5)throw Error(r(476));var h=xy(n).queue;wy(n,h,a,ue,s===null?YA:function(){return Ty(n),s(c)})}function xy(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:ue},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:s},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function Ty(n){var a=xy(n).next.queue;Ul(n,a,{},oi())}function Vf(){return An(ic)}function Ay(){return qt().memoizedState}function Sy(){return qt().memoizedState}function XA(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var s=oi();n=sr(s);var c=or(a,n,s);c!==null&&(li(c,a,s),kl(c,a,s)),a={cache:pf()},n.payload=a;return}a=a.return}}function WA(n,a,s){var c=oi();s={lane:c,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},ju(n)?Iy(a,s):(s=af(n,a,s,c),s!==null&&(li(s,n,c),Cy(s,a,c)))}function Ry(n,a,s){var c=oi();Ul(n,a,s,c)}function Ul(n,a,s,c){var h={lane:c,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(ju(n))Iy(a,h);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var w=a.lastRenderedState,T=v(w,s);if(h.hasEagerState=!0,h.eagerState=T,ni(T,w))return yu(n,a,h,0),vt===null&&vu(),!1}catch{}finally{}if(s=af(n,a,h,c),s!==null)return li(s,n,c),Cy(s,a,c),!0}return!1}function Uf(n,a,s,c){if(c={lane:2,revertLane:vp(),action:c,hasEagerState:!1,eagerState:null,next:null},ju(n)){if(a)throw Error(r(479))}else a=af(n,s,c,2),a!==null&&li(a,n,2)}function ju(n){var a=n.alternate;return n===Be||a!==null&&a===Be}function Iy(n,a){uo=Cu=!0;var s=n.pending;s===null?a.next=a:(a.next=s.next,s.next=a),n.pending=a}function Cy(n,a,s){if((s&4194048)!==0){var c=a.lanes;c&=n.pendingLanes,s|=c,a.lanes=s,st(n,s)}}var Mu={readContext:An,use:Du,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt},Ny={readContext:An,use:Du,useCallback:function(n,a){return qn().memoizedState=[n,a===void 0?null:a],n},useContext:An,useEffect:fy,useImperativeHandle:function(n,a,s){s=s!=null?s.concat([n]):null,Pu(4194308,4,vy.bind(null,a,n),s)},useLayoutEffect:function(n,a){return Pu(4194308,4,n,a)},useInsertionEffect:function(n,a){Pu(4,2,n,a)},useMemo:function(n,a){var s=qn();a=a===void 0?null:a;var c=n();if(vs){at(!0);try{n()}finally{at(!1)}}return s.memoizedState=[c,a],c},useReducer:function(n,a,s){var c=qn();if(s!==void 0){var h=s(a);if(vs){at(!0);try{s(a)}finally{at(!1)}}}else h=a;return c.memoizedState=c.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},c.queue=n,n=n.dispatch=WA.bind(null,Be,n),[c.memoizedState,n]},useRef:function(n){var a=qn();return n={current:n},a.memoizedState=n},useState:function(n){n=kf(n);var a=n.queue,s=Ry.bind(null,Be,a);return a.dispatch=s,[n.memoizedState,s]},useDebugValue:jf,useDeferredValue:function(n,a){var s=qn();return Mf(s,n,a)},useTransition:function(){var n=kf(!1);return n=wy.bind(null,Be,n.queue,!0,!1),qn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,s){var c=Be,h=qn();if(tt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=a(),vt===null)throw Error(r(349));(Ze&124)!==0||Wv(c,a,s)}h.memoizedState=s;var v={value:s,getSnapshot:a};return h.queue=v,fy(Jv.bind(null,c,v,n),[n]),c.flags|=2048,fo(9,ku(),Zv.bind(null,c,v,s,a),null),s},useId:function(){var n=qn(),a=vt.identifierPrefix;if(tt){var s=Ca,c=Ia;s=(c&~(1<<32-ft(c)-1)).toString(32)+s,a="«"+a+"R"+s,s=Nu++,0<s&&(a+="H"+s.toString(32)),a+="»"}else s=GA++,a="«"+a+"r"+s.toString(32)+"»";return n.memoizedState=a},useHostTransitionStatus:Vf,useFormState:ly,useActionState:ly,useOptimistic:function(n){var a=qn();a.memoizedState=a.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=Uf.bind(null,Be,!0,s),s.dispatch=a,[n,a]},useMemoCache:Nf,useCacheRefresh:function(){return qn().memoizedState=XA.bind(null,Be)}},Dy={readContext:An,use:Du,useCallback:_y,useContext:An,useEffect:py,useImperativeHandle:yy,useInsertionEffect:my,useLayoutEffect:gy,useMemo:Ey,useReducer:Ou,useRef:hy,useState:function(){return Ou(Oa)},useDebugValue:jf,useDeferredValue:function(n,a){var s=qt();return by(s,ut.memoizedState,n,a)},useTransition:function(){var n=Ou(Oa)[0],a=qt().memoizedState;return[typeof n=="boolean"?n:Ll(n),a]},useSyncExternalStore:Xv,useId:Ay,useHostTransitionStatus:Vf,useFormState:cy,useActionState:cy,useOptimistic:function(n,a){var s=qt();return ny(s,ut,n,a)},useMemoCache:Nf,useCacheRefresh:Sy},ZA={readContext:An,use:Du,useCallback:_y,useContext:An,useEffect:py,useImperativeHandle:yy,useInsertionEffect:my,useLayoutEffect:gy,useMemo:Ey,useReducer:Of,useRef:hy,useState:function(){return Of(Oa)},useDebugValue:jf,useDeferredValue:function(n,a){var s=qt();return ut===null?Mf(s,n,a):by(s,ut.memoizedState,n,a)},useTransition:function(){var n=Of(Oa)[0],a=qt().memoizedState;return[typeof n=="boolean"?n:Ll(n),a]},useSyncExternalStore:Xv,useId:Ay,useHostTransitionStatus:Vf,useFormState:dy,useActionState:dy,useOptimistic:function(n,a){var s=qt();return ut!==null?ny(s,ut,n,a):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:Nf,useCacheRefresh:Sy},po=null,zl=0;function Lu(n){var a=zl;return zl+=1,po===null&&(po=[]),Fv(po,n,a)}function Bl(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function Vu(n,a){throw a.$$typeof===b?Error(r(525)):(n=Object.prototype.toString.call(a),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function Oy(n){var a=n._init;return a(n._payload)}function ky(n){function a(B,V){if(n){var q=B.deletions;q===null?(B.deletions=[V],B.flags|=16):q.push(V)}}function s(B,V){if(!n)return null;for(;V!==null;)a(B,V),V=V.sibling;return null}function c(B){for(var V=new Map;B!==null;)B.key!==null?V.set(B.key,B):V.set(B.index,B),B=B.sibling;return V}function h(B,V){return B=Ra(B,V),B.index=0,B.sibling=null,B}function v(B,V,q){return B.index=q,n?(q=B.alternate,q!==null?(q=q.index,q<V?(B.flags|=67108866,V):q):(B.flags|=67108866,V)):(B.flags|=1048576,V)}function w(B){return n&&B.alternate===null&&(B.flags|=67108866),B}function T(B,V,q,ae){return V===null||V.tag!==6?(V=sf(q,B.mode,ae),V.return=B,V):(V=h(V,q),V.return=B,V)}function k(B,V,q,ae){var xe=q.type;return xe===I?te(B,V,q.props.children,ae,q.key):V!==null&&(V.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===S&&Oy(xe)===V.type)?(V=h(V,q.props),Bl(V,q),V.return=B,V):(V=Eu(q.type,q.key,q.props,null,B.mode,ae),Bl(V,q),V.return=B,V)}function $(B,V,q,ae){return V===null||V.tag!==4||V.stateNode.containerInfo!==q.containerInfo||V.stateNode.implementation!==q.implementation?(V=of(q,B.mode,ae),V.return=B,V):(V=h(V,q.children||[]),V.return=B,V)}function te(B,V,q,ae,xe){return V===null||V.tag!==7?(V=cs(q,B.mode,ae,xe),V.return=B,V):(V=h(V,q),V.return=B,V)}function re(B,V,q){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=sf(""+V,B.mode,q),V.return=B,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case x:return q=Eu(V.type,V.key,V.props,null,B.mode,q),Bl(q,V),q.return=B,q;case R:return V=of(V,B.mode,q),V.return=B,V;case S:var ae=V._init;return V=ae(V._payload),re(B,V,q)}if(W(V)||z(V))return V=cs(V,B.mode,q,null),V.return=B,V;if(typeof V.then=="function")return re(B,Lu(V),q);if(V.$$typeof===K)return re(B,Tu(B,V),q);Vu(B,V)}return null}function Y(B,V,q,ae){var xe=V!==null?V.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return xe!==null?null:T(B,V,""+q,ae);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case x:return q.key===xe?k(B,V,q,ae):null;case R:return q.key===xe?$(B,V,q,ae):null;case S:return xe=q._init,q=xe(q._payload),Y(B,V,q,ae)}if(W(q)||z(q))return xe!==null?null:te(B,V,q,ae,null);if(typeof q.then=="function")return Y(B,V,Lu(q),ae);if(q.$$typeof===K)return Y(B,V,Tu(B,q),ae);Vu(B,q)}return null}function X(B,V,q,ae,xe){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return B=B.get(q)||null,T(V,B,""+ae,xe);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case x:return B=B.get(ae.key===null?q:ae.key)||null,k(V,B,ae,xe);case R:return B=B.get(ae.key===null?q:ae.key)||null,$(V,B,ae,xe);case S:var qe=ae._init;return ae=qe(ae._payload),X(B,V,q,ae,xe)}if(W(ae)||z(ae))return B=B.get(q)||null,te(V,B,ae,xe,null);if(typeof ae.then=="function")return X(B,V,q,Lu(ae),xe);if(ae.$$typeof===K)return X(B,V,q,Tu(V,ae),xe);Vu(V,ae)}return null}function Pe(B,V,q,ae){for(var xe=null,qe=null,Ae=V,Oe=V=0,on=null;Ae!==null&&Oe<q.length;Oe++){Ae.index>Oe?(on=Ae,Ae=null):on=Ae.sibling;var et=Y(B,Ae,q[Oe],ae);if(et===null){Ae===null&&(Ae=on);break}n&&Ae&&et.alternate===null&&a(B,Ae),V=v(et,V,Oe),qe===null?xe=et:qe.sibling=et,qe=et,Ae=on}if(Oe===q.length)return s(B,Ae),tt&&ds(B,Oe),xe;if(Ae===null){for(;Oe<q.length;Oe++)Ae=re(B,q[Oe],ae),Ae!==null&&(V=v(Ae,V,Oe),qe===null?xe=Ae:qe.sibling=Ae,qe=Ae);return tt&&ds(B,Oe),xe}for(Ae=c(Ae);Oe<q.length;Oe++)on=X(Ae,B,Oe,q[Oe],ae),on!==null&&(n&&on.alternate!==null&&Ae.delete(on.key===null?Oe:on.key),V=v(on,V,Oe),qe===null?xe=on:qe.sibling=on,qe=on);return n&&Ae.forEach(function(Tr){return a(B,Tr)}),tt&&ds(B,Oe),xe}function Ne(B,V,q,ae){if(q==null)throw Error(r(151));for(var xe=null,qe=null,Ae=V,Oe=V=0,on=null,et=q.next();Ae!==null&&!et.done;Oe++,et=q.next()){Ae.index>Oe?(on=Ae,Ae=null):on=Ae.sibling;var Tr=Y(B,Ae,et.value,ae);if(Tr===null){Ae===null&&(Ae=on);break}n&&Ae&&Tr.alternate===null&&a(B,Ae),V=v(Tr,V,Oe),qe===null?xe=Tr:qe.sibling=Tr,qe=Tr,Ae=on}if(et.done)return s(B,Ae),tt&&ds(B,Oe),xe;if(Ae===null){for(;!et.done;Oe++,et=q.next())et=re(B,et.value,ae),et!==null&&(V=v(et,V,Oe),qe===null?xe=et:qe.sibling=et,qe=et);return tt&&ds(B,Oe),xe}for(Ae=c(Ae);!et.done;Oe++,et=q.next())et=X(Ae,B,Oe,et.value,ae),et!==null&&(n&&et.alternate!==null&&Ae.delete(et.key===null?Oe:et.key),V=v(et,V,Oe),qe===null?xe=et:qe.sibling=et,qe=et);return n&&Ae.forEach(function(JS){return a(B,JS)}),tt&&ds(B,Oe),xe}function ht(B,V,q,ae){if(typeof q=="object"&&q!==null&&q.type===I&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case x:e:{for(var xe=q.key;V!==null;){if(V.key===xe){if(xe=q.type,xe===I){if(V.tag===7){s(B,V.sibling),ae=h(V,q.props.children),ae.return=B,B=ae;break e}}else if(V.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===S&&Oy(xe)===V.type){s(B,V.sibling),ae=h(V,q.props),Bl(ae,q),ae.return=B,B=ae;break e}s(B,V);break}else a(B,V);V=V.sibling}q.type===I?(ae=cs(q.props.children,B.mode,ae,q.key),ae.return=B,B=ae):(ae=Eu(q.type,q.key,q.props,null,B.mode,ae),Bl(ae,q),ae.return=B,B=ae)}return w(B);case R:e:{for(xe=q.key;V!==null;){if(V.key===xe)if(V.tag===4&&V.stateNode.containerInfo===q.containerInfo&&V.stateNode.implementation===q.implementation){s(B,V.sibling),ae=h(V,q.children||[]),ae.return=B,B=ae;break e}else{s(B,V);break}else a(B,V);V=V.sibling}ae=of(q,B.mode,ae),ae.return=B,B=ae}return w(B);case S:return xe=q._init,q=xe(q._payload),ht(B,V,q,ae)}if(W(q))return Pe(B,V,q,ae);if(z(q)){if(xe=z(q),typeof xe!="function")throw Error(r(150));return q=xe.call(q),Ne(B,V,q,ae)}if(typeof q.then=="function")return ht(B,V,Lu(q),ae);if(q.$$typeof===K)return ht(B,V,Tu(B,q),ae);Vu(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,V!==null&&V.tag===6?(s(B,V.sibling),ae=h(V,q),ae.return=B,B=ae):(s(B,V),ae=sf(q,B.mode,ae),ae.return=B,B=ae),w(B)):s(B,V)}return function(B,V,q,ae){try{zl=0;var xe=ht(B,V,q,ae);return po=null,xe}catch(Ae){if(Ae===Dl||Ae===Su)throw Ae;var qe=ii(29,Ae,null,B.mode);return qe.lanes=ae,qe.return=B,qe}finally{}}}var mo=ky(!0),Py=ky(!1),wi=Q(null),ta=null;function cr(n){var a=n.alternate;J(Xt,Xt.current&1),J(wi,n),ta===null&&(a===null||co.current!==null||a.memoizedState!==null)&&(ta=n)}function jy(n){if(n.tag===22){if(J(Xt,Xt.current),J(wi,n),ta===null){var a=n.alternate;a!==null&&a.memoizedState!==null&&(ta=n)}}else ur()}function ur(){J(Xt,Xt.current),J(wi,wi.current)}function ka(n){oe(wi),ta===n&&(ta=null),oe(Xt)}var Xt=Q(0);function Uu(n){for(var a=n;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Cp(s)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function zf(n,a,s,c){a=n.memoizedState,s=s(c,a),s=s==null?a:y({},a,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var Bf={enqueueSetState:function(n,a,s){n=n._reactInternals;var c=oi(),h=sr(c);h.payload=a,s!=null&&(h.callback=s),a=or(n,h,c),a!==null&&(li(a,n,c),kl(a,n,c))},enqueueReplaceState:function(n,a,s){n=n._reactInternals;var c=oi(),h=sr(c);h.tag=1,h.payload=a,s!=null&&(h.callback=s),a=or(n,h,c),a!==null&&(li(a,n,c),kl(a,n,c))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var s=oi(),c=sr(s);c.tag=2,a!=null&&(c.callback=a),a=or(n,c,s),a!==null&&(li(a,n,s),kl(a,n,s))}};function My(n,a,s,c,h,v,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,v,w):a.prototype&&a.prototype.isPureReactComponent?!xl(s,c)||!xl(h,v):!0}function Ly(n,a,s,c){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,c),a.state!==n&&Bf.enqueueReplaceState(a,a.state,null)}function ys(n,a){var s=a;if("ref"in a){s={};for(var c in a)c!=="ref"&&(s[c]=a[c])}if(n=n.defaultProps){s===a&&(s=y({},s));for(var h in n)s[h]===void 0&&(s[h]=n[h])}return s}var zu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Vy(n){zu(n)}function Uy(n){console.error(n)}function zy(n){zu(n)}function Bu(n,a){try{var s=n.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function By(n,a,s){try{var c=n.onCaughtError;c(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ff(n,a,s){return s=sr(s),s.tag=3,s.payload={element:null},s.callback=function(){Bu(n,a)},s}function Fy(n){return n=sr(n),n.tag=3,n}function qy(n,a,s,c){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var v=c.value;n.payload=function(){return h(v)},n.callback=function(){By(a,s,c)}}var w=s.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(n.callback=function(){By(a,s,c),typeof h!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})})}function JA(n,a,s,c,h){if(s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=s.alternate,a!==null&&Il(a,s,h,!0),s=wi.current,s!==null){switch(s.tag){case 13:return ta===null?hp():s.alternate===null&&kt===0&&(kt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,c===vf?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([c]):a.add(c),pp(n,c,h)),!1;case 22:return s.flags|=65536,c===vf?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([c]):s.add(c)),pp(n,c,h)),!1}throw Error(r(435,s.tag))}return pp(n,c,h),hp(),!1}if(tt)return a=wi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=h,c!==uf&&(n=Error(r(422),{cause:c}),Rl(yi(n,s)))):(c!==uf&&(a=Error(r(423),{cause:c}),Rl(yi(a,s))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,c=yi(c,s),h=Ff(n.stateNode,c,h),Ef(n,h),kt!==4&&(kt=2)),!1;var v=Error(r(520),{cause:c});if(v=yi(v,s),Ql===null?Ql=[v]:Ql.push(v),kt!==4&&(kt=2),a===null)return!0;c=yi(c,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,n=h&-h,s.lanes|=n,n=Ff(s.stateNode,c,n),Ef(s,n),!1;case 1:if(a=s.type,v=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(gr===null||!gr.has(v))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Fy(h),qy(h,n,s,c),Ef(s,h),!1}s=s.return}while(s!==null);return!1}var Hy=Error(r(461)),rn=!1;function fn(n,a,s,c){a.child=n===null?Py(a,null,s,c):mo(a,n.child,s,c)}function Gy(n,a,s,c,h){s=s.render;var v=a.ref;if("ref"in c){var w={};for(var T in c)T!=="ref"&&(w[T]=c[T])}else w=c;return ms(a),c=Af(n,a,s,w,v,h),T=Sf(),n!==null&&!rn?(Rf(n,a,h),Pa(n,a,h)):(tt&&T&&lf(a),a.flags|=1,fn(n,a,c,h),a.child)}function $y(n,a,s,c,h){if(n===null){var v=s.type;return typeof v=="function"&&!rf(v)&&v.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=v,Ky(n,a,v,c,h)):(n=Eu(s.type,null,c,a,a.mode,h),n.ref=a.ref,n.return=a,a.child=n)}if(v=n.child,!Xf(n,h)){var w=v.memoizedProps;if(s=s.compare,s=s!==null?s:xl,s(w,c)&&n.ref===a.ref)return Pa(n,a,h)}return a.flags|=1,n=Ra(v,c),n.ref=a.ref,n.return=a,a.child=n}function Ky(n,a,s,c,h){if(n!==null){var v=n.memoizedProps;if(xl(v,c)&&n.ref===a.ref)if(rn=!1,a.pendingProps=c=v,Xf(n,h))(n.flags&131072)!==0&&(rn=!0);else return a.lanes=n.lanes,Pa(n,a,h)}return qf(n,a,s,c,h)}function Qy(n,a,s){var c=a.pendingProps,h=c.children,v=n!==null?n.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=v!==null?v.baseLanes|s:s,n!==null){for(h=a.child=n.child,v=0;h!==null;)v=v|h.lanes|h.childLanes,h=h.sibling;a.childLanes=v&~c}else a.childLanes=0,a.child=null;return Yy(n,a,c,s)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&Au(a,v!==null?v.cachePool:null),v!==null?Kv(a,v):wf(),jy(a);else return a.lanes=a.childLanes=536870912,Yy(n,a,v!==null?v.baseLanes|s:s,s)}else v!==null?(Au(a,v.cachePool),Kv(a,v),ur(),a.memoizedState=null):(n!==null&&Au(a,null),wf(),ur());return fn(n,a,h,s),a.child}function Yy(n,a,s,c){var h=gf();return h=h===null?null:{parent:Yt._currentValue,pool:h},a.memoizedState={baseLanes:s,cachePool:h},n!==null&&Au(a,null),wf(),jy(a),n!==null&&Il(n,a,c,!0),null}function Fu(n,a){var s=a.ref;if(s===null)n!==null&&n.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(n===null||n.ref!==s)&&(a.flags|=4194816)}}function qf(n,a,s,c,h){return ms(a),s=Af(n,a,s,c,void 0,h),c=Sf(),n!==null&&!rn?(Rf(n,a,h),Pa(n,a,h)):(tt&&c&&lf(a),a.flags|=1,fn(n,a,s,h),a.child)}function Xy(n,a,s,c,h,v){return ms(a),a.updateQueue=null,s=Yv(a,c,s,h),Qv(n),c=Sf(),n!==null&&!rn?(Rf(n,a,v),Pa(n,a,v)):(tt&&c&&lf(a),a.flags|=1,fn(n,a,s,v),a.child)}function Wy(n,a,s,c,h){if(ms(a),a.stateNode===null){var v=ao,w=s.contextType;typeof w=="object"&&w!==null&&(v=An(w)),v=new s(c,v),a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Bf,a.stateNode=v,v._reactInternals=a,v=a.stateNode,v.props=c,v.state=a.memoizedState,v.refs={},yf(a),w=s.contextType,v.context=typeof w=="object"&&w!==null?An(w):ao,v.state=a.memoizedState,w=s.getDerivedStateFromProps,typeof w=="function"&&(zf(a,s,w,c),v.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(w=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),w!==v.state&&Bf.enqueueReplaceState(v,v.state,null),jl(a,c,v,h),Pl(),v.state=a.memoizedState),typeof v.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(n===null){v=a.stateNode;var T=a.memoizedProps,k=ys(s,T);v.props=k;var $=v.context,te=s.contextType;w=ao,typeof te=="object"&&te!==null&&(w=An(te));var re=s.getDerivedStateFromProps;te=typeof re=="function"||typeof v.getSnapshotBeforeUpdate=="function",T=a.pendingProps!==T,te||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T||$!==w)&&Ly(a,v,c,w),rr=!1;var Y=a.memoizedState;v.state=Y,jl(a,c,v,h),Pl(),$=a.memoizedState,T||Y!==$||rr?(typeof re=="function"&&(zf(a,s,re,c),$=a.memoizedState),(k=rr||My(a,s,k,c,Y,$,w))?(te||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(a.flags|=4194308)):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=$),v.props=c,v.state=$,v.context=w,c=k):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{v=a.stateNode,_f(n,a),w=a.memoizedProps,te=ys(s,w),v.props=te,re=a.pendingProps,Y=v.context,$=s.contextType,k=ao,typeof $=="object"&&$!==null&&(k=An($)),T=s.getDerivedStateFromProps,($=typeof T=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w!==re||Y!==k)&&Ly(a,v,c,k),rr=!1,Y=a.memoizedState,v.state=Y,jl(a,c,v,h),Pl();var X=a.memoizedState;w!==re||Y!==X||rr||n!==null&&n.dependencies!==null&&xu(n.dependencies)?(typeof T=="function"&&(zf(a,s,T,c),X=a.memoizedState),(te=rr||My(a,s,te,c,Y,X,k)||n!==null&&n.dependencies!==null&&xu(n.dependencies))?($||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,X,k),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,X,k)),typeof v.componentDidUpdate=="function"&&(a.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof v.componentDidUpdate!="function"||w===n.memoizedProps&&Y===n.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&Y===n.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=X),v.props=c,v.state=X,v.context=k,c=te):(typeof v.componentDidUpdate!="function"||w===n.memoizedProps&&Y===n.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&Y===n.memoizedState||(a.flags|=1024),c=!1)}return v=c,Fu(n,a),c=(a.flags&128)!==0,v||c?(v=a.stateNode,s=c&&typeof s.getDerivedStateFromError!="function"?null:v.render(),a.flags|=1,n!==null&&c?(a.child=mo(a,n.child,null,h),a.child=mo(a,null,s,h)):fn(n,a,s,h),a.memoizedState=v.state,n=a.child):n=Pa(n,a,h),n}function Zy(n,a,s,c){return Sl(),a.flags|=256,fn(n,a,s,c),a.child}var Hf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(n){return{baseLanes:n,cachePool:Uv()}}function $f(n,a,s){return n=n!==null?n.childLanes&~s:0,a&&(n|=xi),n}function Jy(n,a,s){var c=a.pendingProps,h=!1,v=(a.flags&128)!==0,w;if((w=v)||(w=n!==null&&n.memoizedState===null?!1:(Xt.current&2)!==0),w&&(h=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,n===null){if(tt){if(h?cr(a):ur(),tt){var T=Ot,k;if(k=T){e:{for(k=T,T=ea;k.nodeType!==8;){if(!T){T=null;break e}if(k=ji(k.nextSibling),k===null){T=null;break e}}T=k}T!==null?(a.memoizedState={dehydrated:T,treeContext:us!==null?{id:Ia,overflow:Ca}:null,retryLane:536870912,hydrationErrors:null},k=ii(18,null,null,0),k.stateNode=T,k.return=a,a.child=k,Mn=a,Ot=null,k=!0):k=!1}k||fs(a)}if(T=a.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Cp(T)?a.lanes=32:a.lanes=536870912,null;ka(a)}return T=c.children,c=c.fallback,h?(ur(),h=a.mode,T=qu({mode:"hidden",children:T},h),c=cs(c,h,s,null),T.return=a,c.return=a,T.sibling=c,a.child=T,h=a.child,h.memoizedState=Gf(s),h.childLanes=$f(n,w,s),a.memoizedState=Hf,c):(cr(a),Kf(a,T))}if(k=n.memoizedState,k!==null&&(T=k.dehydrated,T!==null)){if(v)a.flags&256?(cr(a),a.flags&=-257,a=Qf(n,a,s)):a.memoizedState!==null?(ur(),a.child=n.child,a.flags|=128,a=null):(ur(),h=c.fallback,T=a.mode,c=qu({mode:"visible",children:c.children},T),h=cs(h,T,s,null),h.flags|=2,c.return=a,h.return=a,c.sibling=h,a.child=c,mo(a,n.child,null,s),c=a.child,c.memoizedState=Gf(s),c.childLanes=$f(n,w,s),a.memoizedState=Hf,a=h);else if(cr(a),Cp(T)){if(w=T.nextSibling&&T.nextSibling.dataset,w)var $=w.dgst;w=$,c=Error(r(419)),c.stack="",c.digest=w,Rl({value:c,source:null,stack:null}),a=Qf(n,a,s)}else if(rn||Il(n,a,s,!1),w=(s&n.childLanes)!==0,rn||w){if(w=vt,w!==null&&(c=s&-s,c=(c&42)!==0?1:Fn(c),c=(c&(w.suspendedLanes|s))!==0?0:c,c!==0&&c!==k.retryLane))throw k.retryLane=c,io(n,c),li(w,n,c),Hy;T.data==="$?"||hp(),a=Qf(n,a,s)}else T.data==="$?"?(a.flags|=192,a.child=n.child,a=null):(n=k.treeContext,Ot=ji(T.nextSibling),Mn=a,tt=!0,hs=null,ea=!1,n!==null&&(Ei[bi++]=Ia,Ei[bi++]=Ca,Ei[bi++]=us,Ia=n.id,Ca=n.overflow,us=a),a=Kf(a,c.children),a.flags|=4096);return a}return h?(ur(),h=c.fallback,T=a.mode,k=n.child,$=k.sibling,c=Ra(k,{mode:"hidden",children:c.children}),c.subtreeFlags=k.subtreeFlags&65011712,$!==null?h=Ra($,h):(h=cs(h,T,s,null),h.flags|=2),h.return=a,c.return=a,c.sibling=h,a.child=c,c=h,h=a.child,T=n.child.memoizedState,T===null?T=Gf(s):(k=T.cachePool,k!==null?($=Yt._currentValue,k=k.parent!==$?{parent:$,pool:$}:k):k=Uv(),T={baseLanes:T.baseLanes|s,cachePool:k}),h.memoizedState=T,h.childLanes=$f(n,w,s),a.memoizedState=Hf,c):(cr(a),s=n.child,n=s.sibling,s=Ra(s,{mode:"visible",children:c.children}),s.return=a,s.sibling=null,n!==null&&(w=a.deletions,w===null?(a.deletions=[n],a.flags|=16):w.push(n)),a.child=s,a.memoizedState=null,s)}function Kf(n,a){return a=qu({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function qu(n,a){return n=ii(22,n,null,a),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Qf(n,a,s){return mo(a,n.child,null,s),n=Kf(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function e_(n,a,s){n.lanes|=a;var c=n.alternate;c!==null&&(c.lanes|=a),hf(n.return,a,s)}function Yf(n,a,s,c,h){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:h}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=c,v.tail=s,v.tailMode=h)}function t_(n,a,s){var c=a.pendingProps,h=c.revealOrder,v=c.tail;if(fn(n,a,c.children,s),c=Xt.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&e_(n,s,a);else if(n.tag===19)e_(n,s,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}switch(J(Xt,c),h){case"forwards":for(s=a.child,h=null;s!==null;)n=s.alternate,n!==null&&Uu(n)===null&&(h=s),s=s.sibling;s=h,s===null?(h=a.child,a.child=null):(h=s.sibling,s.sibling=null),Yf(a,!1,h,s,v);break;case"backwards":for(s=null,h=a.child,a.child=null;h!==null;){if(n=h.alternate,n!==null&&Uu(n)===null){a.child=h;break}n=h.sibling,h.sibling=s,s=h,h=n}Yf(a,!0,s,null,v);break;case"together":Yf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Pa(n,a,s){if(n!==null&&(a.dependencies=n.dependencies),mr|=a.lanes,(s&a.childLanes)===0)if(n!==null){if(Il(n,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(r(153));if(a.child!==null){for(n=a.child,s=Ra(n,n.pendingProps),a.child=s,s.return=a;n.sibling!==null;)n=n.sibling,s=s.sibling=Ra(n,n.pendingProps),s.return=a;s.sibling=null}return a.child}function Xf(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&xu(n)))}function eS(n,a,s){switch(a.tag){case 3:Ke(a,a.stateNode.containerInfo),ar(a,Yt,n.memoizedState.cache),Sl();break;case 27:case 5:bn(a);break;case 4:Ke(a,a.stateNode.containerInfo);break;case 10:ar(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(cr(a),a.flags|=128,null):(s&a.child.childLanes)!==0?Jy(n,a,s):(cr(a),n=Pa(n,a,s),n!==null?n.sibling:null);cr(a);break;case 19:var h=(n.flags&128)!==0;if(c=(s&a.childLanes)!==0,c||(Il(n,a,s,!1),c=(s&a.childLanes)!==0),h){if(c)return t_(n,a,s);a.flags|=128}if(h=a.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(Xt,Xt.current),c)break;return null;case 22:case 23:return a.lanes=0,Qy(n,a,s);case 24:ar(a,Yt,n.memoizedState.cache)}return Pa(n,a,s)}function n_(n,a,s){if(n!==null)if(n.memoizedProps!==a.pendingProps)rn=!0;else{if(!Xf(n,s)&&(a.flags&128)===0)return rn=!1,eS(n,a,s);rn=(n.flags&131072)!==0}else rn=!1,tt&&(a.flags&1048576)!==0&&Ov(a,wu,a.index);switch(a.lanes=0,a.tag){case 16:e:{n=a.pendingProps;var c=a.elementType,h=c._init;if(c=h(c._payload),a.type=c,typeof c=="function")rf(c)?(n=ys(c,n),a.tag=1,a=Wy(null,a,c,n,s)):(a.tag=0,a=qf(null,a,c,n,s));else{if(c!=null){if(h=c.$$typeof,h===ce){a.tag=11,a=Gy(null,a,c,n,s);break e}else if(h===j){a.tag=14,a=$y(null,a,c,n,s);break e}}throw a=he(c)||c,Error(r(306,a,""))}}return a;case 0:return qf(n,a,a.type,a.pendingProps,s);case 1:return c=a.type,h=ys(c,a.pendingProps),Wy(n,a,c,h,s);case 3:e:{if(Ke(a,a.stateNode.containerInfo),n===null)throw Error(r(387));c=a.pendingProps;var v=a.memoizedState;h=v.element,_f(n,a),jl(a,c,null,s);var w=a.memoizedState;if(c=w.cache,ar(a,Yt,c),c!==v.cache&&ff(a,[Yt],s,!0),Pl(),c=w.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){a=Zy(n,a,c,s);break e}else if(c!==h){h=yi(Error(r(424)),a),Rl(h),a=Zy(n,a,c,s);break e}else{switch(n=a.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ot=ji(n.firstChild),Mn=a,tt=!0,hs=null,ea=!0,s=Py(a,null,c,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Sl(),c===h){a=Pa(n,a,s);break e}fn(n,a,c,s)}a=a.child}return a;case 26:return Fu(n,a),n===null?(s=sE(a.type,null,a.pendingProps,null))?a.memoizedState=s:tt||(s=a.type,n=a.pendingProps,c=id(we.current).createElement(s),c[$t]=a,c[zt]=n,mn(c,s,n),Mt(c),a.stateNode=c):a.memoizedState=sE(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return bn(a),n===null&&tt&&(c=a.stateNode=iE(a.type,a.pendingProps,we.current),Mn=a,ea=!0,h=Ot,_r(a.type)?(Np=h,Ot=ji(c.firstChild)):Ot=h),fn(n,a,a.pendingProps.children,s),Fu(n,a),n===null&&(a.flags|=4194304),a.child;case 5:return n===null&&tt&&((h=c=Ot)&&(c=IS(c,a.type,a.pendingProps,ea),c!==null?(a.stateNode=c,Mn=a,Ot=ji(c.firstChild),ea=!1,h=!0):h=!1),h||fs(a)),bn(a),h=a.type,v=a.pendingProps,w=n!==null?n.memoizedProps:null,c=v.children,Sp(h,v)?c=null:w!==null&&Sp(h,w)&&(a.flags|=32),a.memoizedState!==null&&(h=Af(n,a,$A,null,null,s),ic._currentValue=h),Fu(n,a),fn(n,a,c,s),a.child;case 6:return n===null&&tt&&((n=s=Ot)&&(s=CS(s,a.pendingProps,ea),s!==null?(a.stateNode=s,Mn=a,Ot=null,n=!0):n=!1),n||fs(a)),null;case 13:return Jy(n,a,s);case 4:return Ke(a,a.stateNode.containerInfo),c=a.pendingProps,n===null?a.child=mo(a,null,c,s):fn(n,a,c,s),a.child;case 11:return Gy(n,a,a.type,a.pendingProps,s);case 7:return fn(n,a,a.pendingProps,s),a.child;case 8:return fn(n,a,a.pendingProps.children,s),a.child;case 12:return fn(n,a,a.pendingProps.children,s),a.child;case 10:return c=a.pendingProps,ar(a,a.type,c.value),fn(n,a,c.children,s),a.child;case 9:return h=a.type._context,c=a.pendingProps.children,ms(a),h=An(h),c=c(h),a.flags|=1,fn(n,a,c,s),a.child;case 14:return $y(n,a,a.type,a.pendingProps,s);case 15:return Ky(n,a,a.type,a.pendingProps,s);case 19:return t_(n,a,s);case 31:return c=a.pendingProps,s=a.mode,c={mode:c.mode,children:c.children},n===null?(s=qu(c,s),s.ref=a.ref,a.child=s,s.return=a,a=s):(s=Ra(n.child,c),s.ref=a.ref,a.child=s,s.return=a,a=s),a;case 22:return Qy(n,a,s);case 24:return ms(a),c=An(Yt),n===null?(h=gf(),h===null&&(h=vt,v=pf(),h.pooledCache=v,v.refCount++,v!==null&&(h.pooledCacheLanes|=s),h=v),a.memoizedState={parent:c,cache:h},yf(a),ar(a,Yt,h)):((n.lanes&s)!==0&&(_f(n,a),jl(a,null,null,s),Pl()),h=n.memoizedState,v=a.memoizedState,h.parent!==c?(h={parent:c,cache:c},a.memoizedState=h,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=h),ar(a,Yt,c)):(c=v.cache,ar(a,Yt,c),c!==h.cache&&ff(a,[Yt],s,!0))),fn(n,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function ja(n){n.flags|=4}function i_(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!dE(a)){if(a=wi.current,a!==null&&((Ze&4194048)===Ze?ta!==null:(Ze&62914560)!==Ze&&(Ze&536870912)===0||a!==ta))throw Ol=vf,zv;n.flags|=8192}}function Hu(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?de():536870912,n.lanes|=a,_o|=a)}function Fl(n,a){if(!tt)switch(n.tailMode){case"hidden":a=n.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Rt(n){var a=n.alternate!==null&&n.alternate.child===n.child,s=0,c=0;if(a)for(var h=n.child;h!==null;)s|=h.lanes|h.childLanes,c|=h.subtreeFlags&65011712,c|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)s|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=c,n.childLanes=s,a}function tS(n,a,s){var c=a.pendingProps;switch(cf(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(a),null;case 1:return Rt(a),null;case 3:return s=a.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Da(Yt),Zt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(Al(a)?ja(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,jv())),Rt(a),null;case 26:return s=a.memoizedState,n===null?(ja(a),s!==null?(Rt(a),i_(a,s)):(Rt(a),a.flags&=-16777217)):s?s!==n.memoizedState?(ja(a),Rt(a),i_(a,s)):(Rt(a),a.flags&=-16777217):(n.memoizedProps!==c&&ja(a),Rt(a),a.flags&=-16777217),null;case 27:Dt(a),s=we.current;var h=a.type;if(n!==null&&a.stateNode!=null)n.memoizedProps!==c&&ja(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Rt(a),null}n=me.current,Al(a)?kv(a):(n=iE(h,c,s),a.stateNode=n,ja(a))}return Rt(a),null;case 5:if(Dt(a),s=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==c&&ja(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Rt(a),null}if(n=me.current,Al(a))kv(a);else{switch(h=id(we.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof c.is=="string"?h.createElement("select",{is:c.is}):h.createElement("select"),c.multiple?n.multiple=!0:c.size&&(n.size=c.size);break;default:n=typeof c.is=="string"?h.createElement(s,{is:c.is}):h.createElement(s)}}n[$t]=a,n[zt]=c;e:for(h=a.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break e;for(;h.sibling===null;){if(h.return===null||h.return===a)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}a.stateNode=n;e:switch(mn(n,s,c),s){case"button":case"input":case"select":case"textarea":n=!!c.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ja(a)}}return Rt(a),a.flags&=-16777217,null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==c&&ja(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(n=we.current,Al(a)){if(n=a.stateNode,s=a.memoizedProps,c=null,h=Mn,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}n[$t]=a,n=!!(n.nodeValue===s||c!==null&&c.suppressHydrationWarning===!0||X_(n.nodeValue,s)),n||fs(a)}else n=id(n).createTextNode(c),n[$t]=a,a.stateNode=n}return Rt(a),null;case 13:if(c=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=Al(a),c!==null&&c.dehydrated!==null){if(n===null){if(!h)throw Error(r(318));if(h=a.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[$t]=a}else Sl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Rt(a),h=!1}else h=jv(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return a.flags&256?(ka(a),a):(ka(a),null)}if(ka(a),(a.flags&128)!==0)return a.lanes=s,a;if(s=c!==null,n=n!==null&&n.memoizedState!==null,s){c=a.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool);var v=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==h&&(c.flags|=2048)}return s!==n&&s&&(a.child.flags|=8192),Hu(a,a.updateQueue),Rt(a),null;case 4:return Zt(),n===null&&bp(a.stateNode.containerInfo),Rt(a),null;case 10:return Da(a.type),Rt(a),null;case 19:if(oe(Xt),h=a.memoizedState,h===null)return Rt(a),null;if(c=(a.flags&128)!==0,v=h.rendering,v===null)if(c)Fl(h,!1);else{if(kt!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(v=Uu(n),v!==null){for(a.flags|=128,Fl(h,!1),n=v.updateQueue,a.updateQueue=n,Hu(a,n),a.subtreeFlags=0,n=s,s=a.child;s!==null;)Dv(s,n),s=s.sibling;return J(Xt,Xt.current&1|2),a.child}n=n.sibling}h.tail!==null&&gt()>Ku&&(a.flags|=128,c=!0,Fl(h,!1),a.lanes=4194304)}else{if(!c)if(n=Uu(v),n!==null){if(a.flags|=128,c=!0,n=n.updateQueue,a.updateQueue=n,Hu(a,n),Fl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!v.alternate&&!tt)return Rt(a),null}else 2*gt()-h.renderingStartTime>Ku&&s!==536870912&&(a.flags|=128,c=!0,Fl(h,!1),a.lanes=4194304);h.isBackwards?(v.sibling=a.child,a.child=v):(n=h.last,n!==null?n.sibling=v:a.child=v,h.last=v)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=gt(),a.sibling=null,n=Xt.current,J(Xt,c?n&1|2:n&1),a):(Rt(a),null);case 22:case 23:return ka(a),xf(),c=a.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(s&536870912)!==0&&(a.flags&128)===0&&(Rt(a),a.subtreeFlags&6&&(a.flags|=8192)):Rt(a),s=a.updateQueue,s!==null&&Hu(a,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==s&&(a.flags|=2048),n!==null&&oe(gs),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),Da(Yt),Rt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function nS(n,a){switch(cf(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return Da(Yt),Zt(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return Dt(a),null;case 13:if(ka(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Sl()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return oe(Xt),null;case 4:return Zt(),null;case 10:return Da(a.type),null;case 22:case 23:return ka(a),xf(),n!==null&&oe(gs),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return Da(Yt),null;case 25:return null;default:return null}}function a_(n,a){switch(cf(a),a.tag){case 3:Da(Yt),Zt();break;case 26:case 27:case 5:Dt(a);break;case 4:Zt();break;case 13:ka(a);break;case 19:oe(Xt);break;case 10:Da(a.type);break;case 22:case 23:ka(a),xf(),n!==null&&oe(gs);break;case 24:Da(Yt)}}function ql(n,a){try{var s=a.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var h=c.next;s=h;do{if((s.tag&n)===n){c=void 0;var v=s.create,w=s.inst;c=v(),w.destroy=c}s=s.next}while(s!==h)}}catch(T){pt(a,a.return,T)}}function dr(n,a,s){try{var c=a.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var v=h.next;c=v;do{if((c.tag&n)===n){var w=c.inst,T=w.destroy;if(T!==void 0){w.destroy=void 0,h=a;var k=s,$=T;try{$()}catch(te){pt(h,k,te)}}}c=c.next}while(c!==v)}}catch(te){pt(a,a.return,te)}}function r_(n){var a=n.updateQueue;if(a!==null){var s=n.stateNode;try{$v(a,s)}catch(c){pt(n,n.return,c)}}}function s_(n,a,s){s.props=ys(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(c){pt(n,a,c)}}function Hl(n,a){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof s=="function"?n.refCleanup=s(c):s.current=c}}catch(h){pt(n,a,h)}}function na(n,a){var s=n.ref,c=n.refCleanup;if(s!==null)if(typeof c=="function")try{c()}catch(h){pt(n,a,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){pt(n,a,h)}else s.current=null}function o_(n){var a=n.type,s=n.memoizedProps,c=n.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&c.focus();break e;case"img":s.src?c.src=s.src:s.srcSet&&(c.srcset=s.srcSet)}}catch(h){pt(n,n.return,h)}}function Wf(n,a,s){try{var c=n.stateNode;xS(c,n.type,s,a),c[zt]=a}catch(h){pt(n,n.return,h)}}function l_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&_r(n.type)||n.tag===4}function Zf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||l_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&_r(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Jf(n,a,s){var c=n.tag;if(c===5||c===6)n=n.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(n),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=nd));else if(c!==4&&(c===27&&_r(n.type)&&(s=n.stateNode,a=null),n=n.child,n!==null))for(Jf(n,a,s),n=n.sibling;n!==null;)Jf(n,a,s),n=n.sibling}function Gu(n,a,s){var c=n.tag;if(c===5||c===6)n=n.stateNode,a?s.insertBefore(n,a):s.appendChild(n);else if(c!==4&&(c===27&&_r(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(Gu(n,a,s),n=n.sibling;n!==null;)Gu(n,a,s),n=n.sibling}function c_(n){var a=n.stateNode,s=n.memoizedProps;try{for(var c=n.type,h=a.attributes;h.length;)a.removeAttributeNode(h[0]);mn(a,c,s),a[$t]=n,a[zt]=s}catch(v){pt(n,n.return,v)}}var Ma=!1,Vt=!1,ep=!1,u_=typeof WeakSet=="function"?WeakSet:Set,sn=null;function iS(n,a){if(n=n.containerInfo,Tp=cd,n=bv(n),Wh(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var h=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{s.nodeType,v.nodeType}catch{s=null;break e}var w=0,T=-1,k=-1,$=0,te=0,re=n,Y=null;t:for(;;){for(var X;re!==s||h!==0&&re.nodeType!==3||(T=w+h),re!==v||c!==0&&re.nodeType!==3||(k=w+c),re.nodeType===3&&(w+=re.nodeValue.length),(X=re.firstChild)!==null;)Y=re,re=X;for(;;){if(re===n)break t;if(Y===s&&++$===h&&(T=w),Y===v&&++te===c&&(k=w),(X=re.nextSibling)!==null)break;re=Y,Y=re.parentNode}re=X}s=T===-1||k===-1?null:{start:T,end:k}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ap={focusedElem:n,selectionRange:s},cd=!1,sn=a;sn!==null;)if(a=sn,n=a.child,(a.subtreeFlags&1024)!==0&&n!==null)n.return=a,sn=n;else for(;sn!==null;){switch(a=sn,v=a.alternate,n=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&v!==null){n=void 0,s=a,h=v.memoizedProps,v=v.memoizedState,c=s.stateNode;try{var Pe=ys(s.type,h,s.elementType===s.type);n=c.getSnapshotBeforeUpdate(Pe,v),c.__reactInternalSnapshotBeforeUpdate=n}catch(Ne){pt(s,s.return,Ne)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,s=n.nodeType,s===9)Ip(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Ip(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=a.sibling,n!==null){n.return=a.return,sn=n;break}sn=a.return}}function d_(n,a,s){var c=s.flags;switch(s.tag){case 0:case 11:case 15:hr(n,s),c&4&&ql(5,s);break;case 1:if(hr(n,s),c&4)if(n=s.stateNode,a===null)try{n.componentDidMount()}catch(w){pt(s,s.return,w)}else{var h=ys(s.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(h,a,n.__reactInternalSnapshotBeforeUpdate)}catch(w){pt(s,s.return,w)}}c&64&&r_(s),c&512&&Hl(s,s.return);break;case 3:if(hr(n,s),c&64&&(n=s.updateQueue,n!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{$v(n,a)}catch(w){pt(s,s.return,w)}}break;case 27:a===null&&c&4&&c_(s);case 26:case 5:hr(n,s),a===null&&c&4&&o_(s),c&512&&Hl(s,s.return);break;case 12:hr(n,s);break;case 13:hr(n,s),c&4&&p_(n,s),c&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=hS.bind(null,s),NS(n,s))));break;case 22:if(c=s.memoizedState!==null||Ma,!c){a=a!==null&&a.memoizedState!==null||Vt,h=Ma;var v=Vt;Ma=c,(Vt=a)&&!v?fr(n,s,(s.subtreeFlags&8772)!==0):hr(n,s),Ma=h,Vt=v}break;case 30:break;default:hr(n,s)}}function h_(n){var a=n.alternate;a!==null&&(n.alternate=null,h_(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&er(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var xt=null,Hn=!1;function La(n,a,s){for(s=s.child;s!==null;)f_(n,a,s),s=s.sibling}function f_(n,a,s){if(Ce&&typeof Ce.onCommitFiberUnmount=="function")try{Ce.onCommitFiberUnmount(Le,s)}catch{}switch(s.tag){case 26:Vt||na(s,a),La(n,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Vt||na(s,a);var c=xt,h=Hn;_r(s.type)&&(xt=s.stateNode,Hn=!1),La(n,a,s),Jl(s.stateNode),xt=c,Hn=h;break;case 5:Vt||na(s,a);case 6:if(c=xt,h=Hn,xt=null,La(n,a,s),xt=c,Hn=h,xt!==null)if(Hn)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(s.stateNode)}catch(v){pt(s,a,v)}else try{xt.removeChild(s.stateNode)}catch(v){pt(s,a,v)}break;case 18:xt!==null&&(Hn?(n=xt,tE(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),oc(n)):tE(xt,s.stateNode));break;case 4:c=xt,h=Hn,xt=s.stateNode.containerInfo,Hn=!0,La(n,a,s),xt=c,Hn=h;break;case 0:case 11:case 14:case 15:Vt||dr(2,s,a),Vt||dr(4,s,a),La(n,a,s);break;case 1:Vt||(na(s,a),c=s.stateNode,typeof c.componentWillUnmount=="function"&&s_(s,a,c)),La(n,a,s);break;case 21:La(n,a,s);break;case 22:Vt=(c=Vt)||s.memoizedState!==null,La(n,a,s),Vt=c;break;default:La(n,a,s)}}function p_(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{oc(n)}catch(s){pt(a,a.return,s)}}function aS(n){switch(n.tag){case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new u_),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new u_),a;default:throw Error(r(435,n.tag))}}function tp(n,a){var s=aS(n);a.forEach(function(c){var h=fS.bind(null,n,c);s.has(c)||(s.add(c),c.then(h,h))})}function ai(n,a){var s=a.deletions;if(s!==null)for(var c=0;c<s.length;c++){var h=s[c],v=n,w=a,T=w;e:for(;T!==null;){switch(T.tag){case 27:if(_r(T.type)){xt=T.stateNode,Hn=!1;break e}break;case 5:xt=T.stateNode,Hn=!1;break e;case 3:case 4:xt=T.stateNode.containerInfo,Hn=!0;break e}T=T.return}if(xt===null)throw Error(r(160));f_(v,w,h),xt=null,Hn=!1,v=h.alternate,v!==null&&(v.return=null),h.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)m_(a,n),a=a.sibling}var Pi=null;function m_(n,a){var s=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:ai(a,n),ri(n),c&4&&(dr(3,n,n.return),ql(3,n),dr(5,n,n.return));break;case 1:ai(a,n),ri(n),c&512&&(Vt||s===null||na(s,s.return)),c&64&&Ma&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?c:s.concat(c))));break;case 26:var h=Pi;if(ai(a,n),ri(n),c&512&&(Vt||s===null||na(s,s.return)),c&4){var v=s!==null?s.memoizedState:null;if(c=n.memoizedState,s===null)if(c===null)if(n.stateNode===null){e:{c=n.type,s=n.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":v=h.getElementsByTagName("title")[0],(!v||v[Kr]||v[$t]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=h.createElement(c),h.head.insertBefore(v,h.querySelector("head > title"))),mn(v,c,s),v[$t]=n,Mt(v),c=v;break e;case"link":var w=cE("link","href",h).get(c+(s.href||""));if(w){for(var T=0;T<w.length;T++)if(v=w[T],v.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&v.getAttribute("rel")===(s.rel==null?null:s.rel)&&v.getAttribute("title")===(s.title==null?null:s.title)&&v.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){w.splice(T,1);break t}}v=h.createElement(c),mn(v,c,s),h.head.appendChild(v);break;case"meta":if(w=cE("meta","content",h).get(c+(s.content||""))){for(T=0;T<w.length;T++)if(v=w[T],v.getAttribute("content")===(s.content==null?null:""+s.content)&&v.getAttribute("name")===(s.name==null?null:s.name)&&v.getAttribute("property")===(s.property==null?null:s.property)&&v.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&v.getAttribute("charset")===(s.charSet==null?null:s.charSet)){w.splice(T,1);break t}}v=h.createElement(c),mn(v,c,s),h.head.appendChild(v);break;default:throw Error(r(468,c))}v[$t]=n,Mt(v),c=v}n.stateNode=c}else uE(h,n.type,n.stateNode);else n.stateNode=lE(h,c,n.memoizedProps);else v!==c?(v===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):v.count--,c===null?uE(h,n.type,n.stateNode):lE(h,c,n.memoizedProps)):c===null&&n.stateNode!==null&&Wf(n,n.memoizedProps,s.memoizedProps)}break;case 27:ai(a,n),ri(n),c&512&&(Vt||s===null||na(s,s.return)),s!==null&&c&4&&Wf(n,n.memoizedProps,s.memoizedProps);break;case 5:if(ai(a,n),ri(n),c&512&&(Vt||s===null||na(s,s.return)),n.flags&32){h=n.stateNode;try{pi(h,"")}catch(X){pt(n,n.return,X)}}c&4&&n.stateNode!=null&&(h=n.memoizedProps,Wf(n,h,s!==null?s.memoizedProps:h)),c&1024&&(ep=!0);break;case 6:if(ai(a,n),ri(n),c&4){if(n.stateNode===null)throw Error(r(162));c=n.memoizedProps,s=n.stateNode;try{s.nodeValue=c}catch(X){pt(n,n.return,X)}}break;case 3:if(sd=null,h=Pi,Pi=ad(a.containerInfo),ai(a,n),Pi=h,ri(n),c&4&&s!==null&&s.memoizedState.isDehydrated)try{oc(a.containerInfo)}catch(X){pt(n,n.return,X)}ep&&(ep=!1,g_(n));break;case 4:c=Pi,Pi=ad(n.stateNode.containerInfo),ai(a,n),ri(n),Pi=c;break;case 12:ai(a,n),ri(n);break;case 13:ai(a,n),ri(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(op=gt()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,tp(n,c)));break;case 22:h=n.memoizedState!==null;var k=s!==null&&s.memoizedState!==null,$=Ma,te=Vt;if(Ma=$||h,Vt=te||k,ai(a,n),Vt=te,Ma=$,ri(n),c&8192)e:for(a=n.stateNode,a._visibility=h?a._visibility&-2:a._visibility|1,h&&(s===null||k||Ma||Vt||_s(n)),s=null,a=n;;){if(a.tag===5||a.tag===26){if(s===null){k=s=a;try{if(v=k.stateNode,h)w=v.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{T=k.stateNode;var re=k.memoizedProps.style,Y=re!=null&&re.hasOwnProperty("display")?re.display:null;T.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(X){pt(k,k.return,X)}}}else if(a.tag===6){if(s===null){k=a;try{k.stateNode.nodeValue=h?"":k.memoizedProps}catch(X){pt(k,k.return,X)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;a.sibling===null;){if(a.return===null||a.return===n)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=n.updateQueue,c!==null&&(s=c.retryQueue,s!==null&&(c.retryQueue=null,tp(n,s))));break;case 19:ai(a,n),ri(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,tp(n,c)));break;case 30:break;case 21:break;default:ai(a,n),ri(n)}}function ri(n){var a=n.flags;if(a&2){try{for(var s,c=n.return;c!==null;){if(l_(c)){s=c;break}c=c.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var h=s.stateNode,v=Zf(n);Gu(n,v,h);break;case 5:var w=s.stateNode;s.flags&32&&(pi(w,""),s.flags&=-33);var T=Zf(n);Gu(n,T,w);break;case 3:case 4:var k=s.stateNode.containerInfo,$=Zf(n);Jf(n,$,k);break;default:throw Error(r(161))}}catch(te){pt(n,n.return,te)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function g_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;g_(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function hr(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)d_(n,a.alternate,a),a=a.sibling}function _s(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:dr(4,a,a.return),_s(a);break;case 1:na(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&s_(a,a.return,s),_s(a);break;case 27:Jl(a.stateNode);case 26:case 5:na(a,a.return),_s(a);break;case 22:a.memoizedState===null&&_s(a);break;case 30:_s(a);break;default:_s(a)}n=n.sibling}}function fr(n,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,h=n,v=a,w=v.flags;switch(v.tag){case 0:case 11:case 15:fr(h,v,s),ql(4,v);break;case 1:if(fr(h,v,s),c=v,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch($){pt(c,c.return,$)}if(c=v,h=c.updateQueue,h!==null){var T=c.stateNode;try{var k=h.shared.hiddenCallbacks;if(k!==null)for(h.shared.hiddenCallbacks=null,h=0;h<k.length;h++)Gv(k[h],T)}catch($){pt(c,c.return,$)}}s&&w&64&&r_(v),Hl(v,v.return);break;case 27:c_(v);case 26:case 5:fr(h,v,s),s&&c===null&&w&4&&o_(v),Hl(v,v.return);break;case 12:fr(h,v,s);break;case 13:fr(h,v,s),s&&w&4&&p_(h,v);break;case 22:v.memoizedState===null&&fr(h,v,s),Hl(v,v.return);break;case 30:break;default:fr(h,v,s)}a=a.sibling}}function np(n,a){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&Cl(s))}function ip(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&Cl(n))}function ia(n,a,s,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)v_(n,a,s,c),a=a.sibling}function v_(n,a,s,c){var h=a.flags;switch(a.tag){case 0:case 11:case 15:ia(n,a,s,c),h&2048&&ql(9,a);break;case 1:ia(n,a,s,c);break;case 3:ia(n,a,s,c),h&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&Cl(n)));break;case 12:if(h&2048){ia(n,a,s,c),n=a.stateNode;try{var v=a.memoizedProps,w=v.id,T=v.onPostCommit;typeof T=="function"&&T(w,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(k){pt(a,a.return,k)}}else ia(n,a,s,c);break;case 13:ia(n,a,s,c);break;case 23:break;case 22:v=a.stateNode,w=a.alternate,a.memoizedState!==null?v._visibility&2?ia(n,a,s,c):Gl(n,a):v._visibility&2?ia(n,a,s,c):(v._visibility|=2,go(n,a,s,c,(a.subtreeFlags&10256)!==0)),h&2048&&np(w,a);break;case 24:ia(n,a,s,c),h&2048&&ip(a.alternate,a);break;default:ia(n,a,s,c)}}function go(n,a,s,c,h){for(h=h&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var v=n,w=a,T=s,k=c,$=w.flags;switch(w.tag){case 0:case 11:case 15:go(v,w,T,k,h),ql(8,w);break;case 23:break;case 22:var te=w.stateNode;w.memoizedState!==null?te._visibility&2?go(v,w,T,k,h):Gl(v,w):(te._visibility|=2,go(v,w,T,k,h)),h&&$&2048&&np(w.alternate,w);break;case 24:go(v,w,T,k,h),h&&$&2048&&ip(w.alternate,w);break;default:go(v,w,T,k,h)}a=a.sibling}}function Gl(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=n,c=a,h=c.flags;switch(c.tag){case 22:Gl(s,c),h&2048&&np(c.alternate,c);break;case 24:Gl(s,c),h&2048&&ip(c.alternate,c);break;default:Gl(s,c)}a=a.sibling}}var $l=8192;function vo(n){if(n.subtreeFlags&$l)for(n=n.child;n!==null;)y_(n),n=n.sibling}function y_(n){switch(n.tag){case 26:vo(n),n.flags&$l&&n.memoizedState!==null&&qS(Pi,n.memoizedState,n.memoizedProps);break;case 5:vo(n);break;case 3:case 4:var a=Pi;Pi=ad(n.stateNode.containerInfo),vo(n),Pi=a;break;case 22:n.memoizedState===null&&(a=n.alternate,a!==null&&a.memoizedState!==null?(a=$l,$l=16777216,vo(n),$l=a):vo(n));break;default:vo(n)}}function __(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function Kl(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var c=a[s];sn=c,b_(c,n)}__(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)E_(n),n=n.sibling}function E_(n){switch(n.tag){case 0:case 11:case 15:Kl(n),n.flags&2048&&dr(9,n,n.return);break;case 3:Kl(n);break;case 12:Kl(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&2&&(n.return===null||n.return.tag!==13)?(a._visibility&=-3,$u(n)):Kl(n);break;default:Kl(n)}}function $u(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var c=a[s];sn=c,b_(c,n)}__(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:dr(8,a,a.return),$u(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,$u(a));break;default:$u(a)}n=n.sibling}}function b_(n,a){for(;sn!==null;){var s=sn;switch(s.tag){case 0:case 11:case 15:dr(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var c=s.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Cl(s.memoizedState.cache)}if(c=s.child,c!==null)c.return=s,sn=c;else e:for(s=n;sn!==null;){c=sn;var h=c.sibling,v=c.return;if(h_(c),c===s){sn=null;break e}if(h!==null){h.return=v,sn=h;break e}sn=v}}}var rS={getCacheForType:function(n){var a=An(Yt),s=a.data.get(n);return s===void 0&&(s=n(),a.data.set(n,s)),s}},sS=typeof WeakMap=="function"?WeakMap:Map,ot=0,vt=null,He=null,Ze=0,lt=0,si=null,pr=!1,yo=!1,ap=!1,Va=0,kt=0,mr=0,Es=0,rp=0,xi=0,_o=0,Ql=null,Gn=null,sp=!1,op=0,Ku=1/0,Qu=null,gr=null,pn=0,vr=null,Eo=null,bo=0,lp=0,cp=null,w_=null,Yl=0,up=null;function oi(){if((ot&2)!==0&&Ze!==0)return Ze&-Ze;if(G.T!==null){var n=oo;return n!==0?n:vp()}return Za()}function x_(){xi===0&&(xi=(Ze&536870912)===0||tt?ye():536870912);var n=wi.current;return n!==null&&(n.flags|=32),xi}function li(n,a,s){(n===vt&&(lt===2||lt===9)||n.cancelPendingCommit!==null)&&(wo(n,0),yr(n,Ze,xi,!1)),Re(n,s),((ot&2)===0||n!==vt)&&(n===vt&&((ot&2)===0&&(Es|=s),kt===4&&yr(n,Ze,xi,!1)),aa(n))}function T_(n,a,s){if((ot&6)!==0)throw Error(r(327));var c=!s&&(a&124)===0&&(a&n.expiredLanes)===0||Bn(n,a),h=c?cS(n,a):fp(n,a,!0),v=c;do{if(h===0){yo&&!c&&yr(n,a,0,!1);break}else{if(s=n.current.alternate,v&&!oS(s)){h=fp(n,a,!1),v=!1;continue}if(h===2){if(v=a,n.errorRecoveryDisabledLanes&v)var w=0;else w=n.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;e:{var T=n;h=Ql;var k=T.current.memoizedState.isDehydrated;if(k&&(wo(T,w).flags|=256),w=fp(T,w,!1),w!==2){if(ap&&!k){T.errorRecoveryDisabledLanes|=v,Es|=v,h=4;break e}v=Gn,Gn=h,v!==null&&(Gn===null?Gn=v:Gn.push.apply(Gn,v))}h=w}if(v=!1,h!==2)continue}}if(h===1){wo(n,0),yr(n,a,0,!0);break}e:{switch(c=n,v=h,v){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:yr(c,a,xi,!pr);break e;case 2:Gn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(h=op+300-gt(),10<h)){if(yr(c,a,xi,!pr),ei(c,0,!0)!==0)break e;c.timeoutHandle=J_(A_.bind(null,c,s,Gn,Qu,sp,a,xi,Es,_o,pr,v,2,-0,0),h);break e}A_(c,s,Gn,Qu,sp,a,xi,Es,_o,pr,v,0,-0,0)}}break}while(!0);aa(n)}function A_(n,a,s,c,h,v,w,T,k,$,te,re,Y,X){if(n.timeoutHandle=-1,re=a.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(nc={stylesheets:null,count:0,unsuspend:FS},y_(a),re=HS(),re!==null)){n.cancelPendingCommit=re(O_.bind(null,n,a,v,s,c,h,w,T,k,te,1,Y,X)),yr(n,v,w,!$);return}O_(n,a,v,s,c,h,w,T,k)}function oS(n){for(var a=n;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var c=0;c<s.length;c++){var h=s[c],v=h.getSnapshot;h=h.value;try{if(!ni(v(),h))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function yr(n,a,s,c){a&=~rp,a&=~Es,n.suspendedLanes|=a,n.pingedLanes&=~a,c&&(n.warmLanes|=a),c=n.expirationTimes;for(var h=a;0<h;){var v=31-ft(h),w=1<<v;c[v]=-1,h&=~w}s!==0&&Ue(n,s,a)}function Yu(){return(ot&6)===0?(Xl(0),!1):!0}function dp(){if(He!==null){if(lt===0)var n=He.return;else n=He,Na=ps=null,If(n),po=null,zl=0,n=He;for(;n!==null;)a_(n.alternate,n),n=n.return;He=null}}function wo(n,a){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,AS(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),dp(),vt=n,He=s=Ra(n.current,null),Ze=a,lt=0,si=null,pr=!1,yo=Bn(n,a),ap=!1,_o=xi=rp=Es=mr=kt=0,Gn=Ql=null,sp=!1,(a&8)!==0&&(a|=a&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=a;0<c;){var h=31-ft(c),v=1<<h;a|=n[h],c&=~v}return Va=a,vu(),s}function S_(n,a){Be=null,G.H=Mu,a===Dl||a===Su?(a=qv(),lt=3):a===zv?(a=qv(),lt=4):lt=a===Hy?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,si=a,He===null&&(kt=1,Bu(n,yi(a,n.current)))}function R_(){var n=G.H;return G.H=Mu,n===null?Mu:n}function I_(){var n=G.A;return G.A=rS,n}function hp(){kt=4,pr||(Ze&4194048)!==Ze&&wi.current!==null||(yo=!0),(mr&134217727)===0&&(Es&134217727)===0||vt===null||yr(vt,Ze,xi,!1)}function fp(n,a,s){var c=ot;ot|=2;var h=R_(),v=I_();(vt!==n||Ze!==a)&&(Qu=null,wo(n,a)),a=!1;var w=kt;e:do try{if(lt!==0&&He!==null){var T=He,k=si;switch(lt){case 8:dp(),w=6;break e;case 3:case 2:case 9:case 6:wi.current===null&&(a=!0);var $=lt;if(lt=0,si=null,xo(n,T,k,$),s&&yo){w=0;break e}break;default:$=lt,lt=0,si=null,xo(n,T,k,$)}}lS(),w=kt;break}catch(te){S_(n,te)}while(!0);return a&&n.shellSuspendCounter++,Na=ps=null,ot=c,G.H=h,G.A=v,He===null&&(vt=null,Ze=0,vu()),w}function lS(){for(;He!==null;)C_(He)}function cS(n,a){var s=ot;ot|=2;var c=R_(),h=I_();vt!==n||Ze!==a?(Qu=null,Ku=gt()+500,wo(n,a)):yo=Bn(n,a);e:do try{if(lt!==0&&He!==null){a=He;var v=si;t:switch(lt){case 1:lt=0,si=null,xo(n,a,v,1);break;case 2:case 9:if(Bv(v)){lt=0,si=null,N_(a);break}a=function(){lt!==2&&lt!==9||vt!==n||(lt=7),aa(n)},v.then(a,a);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:Bv(v)?(lt=0,si=null,N_(a)):(lt=0,si=null,xo(n,a,v,7));break;case 5:var w=null;switch(He.tag){case 26:w=He.memoizedState;case 5:case 27:var T=He;if(!w||dE(w)){lt=0,si=null;var k=T.sibling;if(k!==null)He=k;else{var $=T.return;$!==null?(He=$,Xu($)):He=null}break t}}lt=0,si=null,xo(n,a,v,5);break;case 6:lt=0,si=null,xo(n,a,v,6);break;case 8:dp(),kt=6;break e;default:throw Error(r(462))}}uS();break}catch(te){S_(n,te)}while(!0);return Na=ps=null,G.H=c,G.A=h,ot=s,He!==null?0:(vt=null,Ze=0,vu(),kt)}function uS(){for(;He!==null&&!Zn();)C_(He)}function C_(n){var a=n_(n.alternate,n,Va);n.memoizedProps=n.pendingProps,a===null?Xu(n):He=a}function N_(n){var a=n,s=a.alternate;switch(a.tag){case 15:case 0:a=Xy(s,a,a.pendingProps,a.type,void 0,Ze);break;case 11:a=Xy(s,a,a.pendingProps,a.type.render,a.ref,Ze);break;case 5:If(a);default:a_(s,a),a=He=Dv(a,Va),a=n_(s,a,Va)}n.memoizedProps=n.pendingProps,a===null?Xu(n):He=a}function xo(n,a,s,c){Na=ps=null,If(a),po=null,zl=0;var h=a.return;try{if(JA(n,h,a,s,Ze)){kt=1,Bu(n,yi(s,n.current)),He=null;return}}catch(v){if(h!==null)throw He=h,v;kt=1,Bu(n,yi(s,n.current)),He=null;return}a.flags&32768?(tt||c===1?n=!0:yo||(Ze&536870912)!==0?n=!1:(pr=n=!0,(c===2||c===9||c===3||c===6)&&(c=wi.current,c!==null&&c.tag===13&&(c.flags|=16384))),D_(a,n)):Xu(a)}function Xu(n){var a=n;do{if((a.flags&32768)!==0){D_(a,pr);return}n=a.return;var s=tS(a.alternate,a,Va);if(s!==null){He=s;return}if(a=a.sibling,a!==null){He=a;return}He=a=n}while(a!==null);kt===0&&(kt=5)}function D_(n,a){do{var s=nS(n.alternate,n);if(s!==null){s.flags&=32767,He=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(n=n.sibling,n!==null)){He=n;return}He=n=s}while(n!==null);kt=6,He=null}function O_(n,a,s,c,h,v,w,T,k){n.cancelPendingCommit=null;do Wu();while(pn!==0);if((ot&6)!==0)throw Error(r(327));if(a!==null){if(a===n.current)throw Error(r(177));if(v=a.lanes|a.childLanes,v|=nf,ke(n,s,v,w,T,k),n===vt&&(He=vt=null,Ze=0),Eo=a,vr=n,bo=s,lp=v,cp=h,w_=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,pS(en,function(){return L_(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=G.T,G.T=null,h=ie.p,ie.p=2,w=ot,ot|=4;try{iS(n,a,s)}finally{ot=w,ie.p=h,G.T=c}}pn=1,k_(),P_(),j_()}}function k_(){if(pn===1){pn=0;var n=vr,a=Eo,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var c=ie.p;ie.p=2;var h=ot;ot|=4;try{m_(a,n);var v=Ap,w=bv(n.containerInfo),T=v.focusedElem,k=v.selectionRange;if(w!==T&&T&&T.ownerDocument&&Ev(T.ownerDocument.documentElement,T)){if(k!==null&&Wh(T)){var $=k.start,te=k.end;if(te===void 0&&(te=$),"selectionStart"in T)T.selectionStart=$,T.selectionEnd=Math.min(te,T.value.length);else{var re=T.ownerDocument||document,Y=re&&re.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),Pe=T.textContent.length,Ne=Math.min(k.start,Pe),ht=k.end===void 0?Ne:Math.min(k.end,Pe);!X.extend&&Ne>ht&&(w=ht,ht=Ne,Ne=w);var B=_v(T,Ne),V=_v(T,ht);if(B&&V&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==V.node||X.focusOffset!==V.offset)){var q=re.createRange();q.setStart(B.node,B.offset),X.removeAllRanges(),Ne>ht?(X.addRange(q),X.extend(V.node,V.offset)):(q.setEnd(V.node,V.offset),X.addRange(q))}}}}for(re=[],X=T;X=X.parentNode;)X.nodeType===1&&re.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<re.length;T++){var ae=re[T];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}cd=!!Tp,Ap=Tp=null}finally{ot=h,ie.p=c,G.T=s}}n.current=a,pn=2}}function P_(){if(pn===2){pn=0;var n=vr,a=Eo,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var c=ie.p;ie.p=2;var h=ot;ot|=4;try{d_(n,a.alternate,a)}finally{ot=h,ie.p=c,G.T=s}}pn=3}}function j_(){if(pn===4||pn===3){pn=0,wn();var n=vr,a=Eo,s=bo,c=w_;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?pn=5:(pn=0,Eo=vr=null,M_(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(gr=null),Wa(s),a=a.stateNode,Ce&&typeof Ce.onCommitFiberRoot=="function")try{Ce.onCommitFiberRoot(Le,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=G.T,h=ie.p,ie.p=2,G.T=null;try{for(var v=n.onRecoverableError,w=0;w<c.length;w++){var T=c[w];v(T.value,{componentStack:T.stack})}}finally{G.T=a,ie.p=h}}(bo&3)!==0&&Wu(),aa(n),h=n.pendingLanes,(s&4194090)!==0&&(h&42)!==0?n===up?Yl++:(Yl=0,up=n):Yl=0,Xl(0)}}function M_(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,Cl(a)))}function Wu(n){return k_(),P_(),j_(),L_()}function L_(){if(pn!==5)return!1;var n=vr,a=lp;lp=0;var s=Wa(bo),c=G.T,h=ie.p;try{ie.p=32>s?32:s,G.T=null,s=cp,cp=null;var v=vr,w=bo;if(pn=0,Eo=vr=null,bo=0,(ot&6)!==0)throw Error(r(331));var T=ot;if(ot|=4,E_(v.current),v_(v,v.current,w,s),ot=T,Xl(0,!1),Ce&&typeof Ce.onPostCommitFiberRoot=="function")try{Ce.onPostCommitFiberRoot(Le,v)}catch{}return!0}finally{ie.p=h,G.T=c,M_(n,a)}}function V_(n,a,s){a=yi(s,a),a=Ff(n.stateNode,a,2),n=or(n,a,2),n!==null&&(Re(n,2),aa(n))}function pt(n,a,s){if(n.tag===3)V_(n,n,s);else for(;a!==null;){if(a.tag===3){V_(a,n,s);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(gr===null||!gr.has(c))){n=yi(s,n),s=Fy(2),c=or(a,s,2),c!==null&&(qy(s,c,a,n),Re(c,2),aa(c));break}}a=a.return}}function pp(n,a,s){var c=n.pingCache;if(c===null){c=n.pingCache=new sS;var h=new Set;c.set(a,h)}else h=c.get(a),h===void 0&&(h=new Set,c.set(a,h));h.has(s)||(ap=!0,h.add(s),n=dS.bind(null,n,a,s),a.then(n,n))}function dS(n,a,s){var c=n.pingCache;c!==null&&c.delete(a),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,vt===n&&(Ze&s)===s&&(kt===4||kt===3&&(Ze&62914560)===Ze&&300>gt()-op?(ot&2)===0&&wo(n,0):rp|=s,_o===Ze&&(_o=0)),aa(n)}function U_(n,a){a===0&&(a=de()),n=io(n,a),n!==null&&(Re(n,a),aa(n))}function hS(n){var a=n.memoizedState,s=0;a!==null&&(s=a.retryLane),U_(n,s)}function fS(n,a){var s=0;switch(n.tag){case 13:var c=n.stateNode,h=n.memoizedState;h!==null&&(s=h.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),U_(n,s)}function pS(n,a){return cn(n,a)}var Zu=null,To=null,mp=!1,Ju=!1,gp=!1,bs=0;function aa(n){n!==To&&n.next===null&&(To===null?Zu=To=n:To=To.next=n),Ju=!0,mp||(mp=!0,gS())}function Xl(n,a){if(!gp&&Ju){gp=!0;do for(var s=!1,c=Zu;c!==null;){if(n!==0){var h=c.pendingLanes;if(h===0)var v=0;else{var w=c.suspendedLanes,T=c.pingedLanes;v=(1<<31-ft(42|n)+1)-1,v&=h&~(w&~T),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(s=!0,q_(c,v))}else v=Ze,v=ei(c,c===vt?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(v&3)===0||Bn(c,v)||(s=!0,q_(c,v));c=c.next}while(s);gp=!1}}function mS(){z_()}function z_(){Ju=mp=!1;var n=0;bs!==0&&(TS()&&(n=bs),bs=0);for(var a=gt(),s=null,c=Zu;c!==null;){var h=c.next,v=B_(c,a);v===0?(c.next=null,s===null?Zu=h:s.next=h,h===null&&(To=s)):(s=c,(n!==0||(v&3)!==0)&&(Ju=!0)),c=h}Xl(n)}function B_(n,a){for(var s=n.suspendedLanes,c=n.pingedLanes,h=n.expirationTimes,v=n.pendingLanes&-62914561;0<v;){var w=31-ft(v),T=1<<w,k=h[w];k===-1?((T&s)===0||(T&c)!==0)&&(h[w]=hi(T,a)):k<=a&&(n.expiredLanes|=T),v&=~T}if(a=vt,s=Ze,s=ei(n,n===a?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,s===0||n===a&&(lt===2||lt===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&Jt(c),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||Bn(n,s)){if(a=s&-s,a===n.callbackPriority)return a;switch(c!==null&&Jt(c),Wa(s)){case 2:case 8:s=xn;break;case 32:s=en;break;case 268435456:s=Ni;break;default:s=en}return c=F_.bind(null,n),s=cn(s,c),n.callbackPriority=a,n.callbackNode=s,a}return c!==null&&c!==null&&Jt(c),n.callbackPriority=2,n.callbackNode=null,2}function F_(n,a){if(pn!==0&&pn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(Wu()&&n.callbackNode!==s)return null;var c=Ze;return c=ei(n,n===vt?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(T_(n,c,a),B_(n,gt()),n.callbackNode!=null&&n.callbackNode===s?F_.bind(null,n):null)}function q_(n,a){if(Wu())return null;T_(n,a,!0)}function gS(){SS(function(){(ot&6)!==0?cn(On,mS):z_()})}function vp(){return bs===0&&(bs=ye()),bs}function H_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Gs(""+n)}function G_(n,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,n.id&&s.setAttribute("form",n.id),a.parentNode.insertBefore(s,a),n=new FormData(n),s.parentNode.removeChild(s),n}function vS(n,a,s,c,h){if(a==="submit"&&s&&s.stateNode===h){var v=H_((h[zt]||null).action),w=c.submitter;w&&(a=(a=w[zt]||null)?H_(a.formAction):w.getAttribute("formAction"),a!==null&&(v=a,w=null));var T=new $s("action","action",null,c,h);n.push({event:T,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(bs!==0){var k=w?G_(h,w):new FormData(h);Lf(s,{pending:!0,data:k,method:h.method,action:v},null,k)}}else typeof v=="function"&&(T.preventDefault(),k=w?G_(h,w):new FormData(h),Lf(s,{pending:!0,data:k,method:h.method,action:v},v,k))},currentTarget:h}]})}}for(var yp=0;yp<tf.length;yp++){var _p=tf[yp],yS=_p.toLowerCase(),_S=_p[0].toUpperCase()+_p.slice(1);ki(yS,"on"+_S)}ki(Tv,"onAnimationEnd"),ki(Av,"onAnimationIteration"),ki(Sv,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(MA,"onTransitionRun"),ki(LA,"onTransitionStart"),ki(VA,"onTransitionCancel"),ki(Rv,"onTransitionEnd"),ya("onMouseEnter",["mouseout","mouseover"]),ya("onMouseLeave",["mouseout","mouseover"]),ya("onPointerEnter",["pointerout","pointerover"]),ya("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ES=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wl));function $_(n,a){a=(a&4)!==0;for(var s=0;s<n.length;s++){var c=n[s],h=c.event;c=c.listeners;e:{var v=void 0;if(a)for(var w=c.length-1;0<=w;w--){var T=c[w],k=T.instance,$=T.currentTarget;if(T=T.listener,k!==v&&h.isPropagationStopped())break e;v=T,h.currentTarget=$;try{v(h)}catch(te){zu(te)}h.currentTarget=null,v=k}else for(w=0;w<c.length;w++){if(T=c[w],k=T.instance,$=T.currentTarget,T=T.listener,k!==v&&h.isPropagationStopped())break e;v=T,h.currentTarget=$;try{v(h)}catch(te){zu(te)}h.currentTarget=null,v=k}}}}function Ge(n,a){var s=a[ll];s===void 0&&(s=a[ll]=new Set);var c=n+"__bubble";s.has(c)||(K_(a,n,2,!1),s.add(c))}function Ep(n,a,s){var c=0;a&&(c|=4),K_(s,n,c,a)}var ed="_reactListening"+Math.random().toString(36).slice(2);function bp(n){if(!n[ed]){n[ed]=!0,cl.forEach(function(s){s!=="selectionchange"&&(ES.has(s)||Ep(s,!1,n),Ep(s,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[ed]||(a[ed]=!0,Ep("selectionchange",!1,a))}}function K_(n,a,s,c){switch(vE(a)){case 2:var h=KS;break;case 8:h=QS;break;default:h=jp}s=h.bind(null,a,s,n),h=void 0,!gi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(h=!0),c?h!==void 0?n.addEventListener(a,s,{capture:!0,passive:h}):n.addEventListener(a,s,!0):h!==void 0?n.addEventListener(a,s,{passive:h}):n.addEventListener(a,s,!1)}function wp(n,a,s,c,h){var v=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var T=c.stateNode.containerInfo;if(T===h)break;if(w===4)for(w=c.return;w!==null;){var k=w.tag;if((k===3||k===4)&&w.stateNode.containerInfo===h)return;w=w.return}for(;T!==null;){if(w=va(T),w===null)return;if(k=w.tag,k===5||k===6||k===26||k===27){c=v=w;continue e}T=T.parentNode}}c=c.return}nu(function(){var $=v,te=mi(s),re=[];e:{var Y=Iv.get(n);if(Y!==void 0){var X=$s,Pe=n;switch(n){case"keypress":if(Yi(s)===0)break e;case"keydown":case"keyup":X=Zs;break;case"focusin":Pe="focus",X=Ys;break;case"focusout":Pe="blur",X=Ys;break;case"beforeblur":case"afterblur":X=Ys;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=vi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Kh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=uu;break;case Tv:case Av:case Sv:X=Xs;break;case Rv:X=hu;break;case"scroll":case"scrollend":X=iu;break;case"wheel":X=Js;break;case"copy":case"cut":case"paste":X=Ws;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=bl;break;case"toggle":case"beforetoggle":X=pu}var Ne=(a&4)!==0,ht=!Ne&&(n==="scroll"||n==="scrollend"),B=Ne?Y!==null?Y+"Capture":null:Y;Ne=[];for(var V=$,q;V!==null;){var ae=V;if(q=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||q===null||B===null||(ae=es(V,B),ae!=null&&Ne.push(Zl(V,ae,q))),ht)break;V=V.return}0<Ne.length&&(Y=new X(Y,Pe,null,s,te),re.push({event:Y,listeners:Ne}))}}if((a&7)===0){e:{if(Y=n==="mouseover"||n==="pointerover",X=n==="mouseout"||n==="pointerout",Y&&s!==ba&&(Pe=s.relatedTarget||s.fromElement)&&(va(Pe)||Pe[fi]))break e;if((X||Y)&&(Y=te.window===te?te:(Y=te.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(Pe=s.relatedTarget||s.toElement,X=$,Pe=Pe?va(Pe):null,Pe!==null&&(ht=l(Pe),Ne=Pe.tag,Pe!==ht||Ne!==5&&Ne!==27&&Ne!==6)&&(Pe=null)):(X=null,Pe=$),X!==Pe)){if(Ne=vi,ae="onMouseLeave",B="onMouseEnter",V="mouse",(n==="pointerout"||n==="pointerover")&&(Ne=bl,ae="onPointerLeave",B="onPointerEnter",V="pointer"),ht=X==null?Y:Gi(X),q=Pe==null?Y:Gi(Pe),Y=new Ne(ae,V+"leave",X,s,te),Y.target=ht,Y.relatedTarget=q,ae=null,va(te)===$&&(Ne=new Ne(B,V+"enter",Pe,s,te),Ne.target=q,Ne.relatedTarget=ht,ae=Ne),ht=ae,X&&Pe)t:{for(Ne=X,B=Pe,V=0,q=Ne;q;q=Ao(q))V++;for(q=0,ae=B;ae;ae=Ao(ae))q++;for(;0<V-q;)Ne=Ao(Ne),V--;for(;0<q-V;)B=Ao(B),q--;for(;V--;){if(Ne===B||B!==null&&Ne===B.alternate)break t;Ne=Ao(Ne),B=Ao(B)}Ne=null}else Ne=null;X!==null&&Q_(re,Y,X,Ne,!1),Pe!==null&&ht!==null&&Q_(re,ht,Pe,Ne,!0)}}e:{if(Y=$?Gi($):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var xe=fv;else if(Qt(Y))if(pv)xe=kA;else{xe=DA;var qe=NA}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?$&&pl($.elementType)&&(xe=fv):xe=OA;if(xe&&(xe=xe(n,$))){Sa(re,xe,s,te);break e}qe&&qe(n,Y,$),n==="focusout"&&$&&Y.type==="number"&&$.memoizedProps.value!=null&&nr(Y,"number",Y.value)}switch(qe=$?Gi($):window,n){case"focusin":(Qt(qe)||qe.contentEditable==="true")&&(eo=qe,Zh=$,Tl=null);break;case"focusout":Tl=Zh=eo=null;break;case"mousedown":Jh=!0;break;case"contextmenu":case"mouseup":case"dragend":Jh=!1,wv(re,s,te);break;case"selectionchange":if(jA)break;case"keydown":case"keyup":wv(re,s,te)}var Ae;if(Zi)e:{switch(n){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Xe?Z(n,s)&&(Oe="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(Oe="onCompositionStart");Oe&&(E&&s.locale!=="ko"&&(Xe||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Xe&&(Ae=gl()):(Qi=te,ir="value"in Qi?Qi.value:Qi.textContent,Xe=!0)),qe=td($,Oe),0<qe.length&&(Oe=new _l(Oe,n,null,s,te),re.push({event:Oe,listeners:qe}),Ae?Oe.data=Ae:(Ae=pe(s),Ae!==null&&(Oe.data=Ae)))),(Ae=_?Kt(n,s):We(n,s))&&(Oe=td($,"onBeforeInput"),0<Oe.length&&(qe=new _l("onBeforeInput","beforeinput",null,s,te),re.push({event:qe,listeners:Oe}),qe.data=Ae)),vS(re,n,$,s,te)}$_(re,a)})}function Zl(n,a,s){return{instance:n,listener:a,currentTarget:s}}function td(n,a){for(var s=a+"Capture",c=[];n!==null;){var h=n,v=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||v===null||(h=es(n,s),h!=null&&c.unshift(Zl(n,h,v)),h=es(n,a),h!=null&&c.push(Zl(n,h,v))),n.tag===3)return c;n=n.return}return[]}function Ao(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Q_(n,a,s,c,h){for(var v=a._reactName,w=[];s!==null&&s!==c;){var T=s,k=T.alternate,$=T.stateNode;if(T=T.tag,k!==null&&k===c)break;T!==5&&T!==26&&T!==27||$===null||(k=$,h?($=es(s,v),$!=null&&w.unshift(Zl(s,$,k))):h||($=es(s,v),$!=null&&w.push(Zl(s,$,k)))),s=s.return}w.length!==0&&n.push({event:a,listeners:w})}var bS=/\r\n?/g,wS=/\u0000|\uFFFD/g;function Y_(n){return(typeof n=="string"?n:""+n).replace(bS,`
`).replace(wS,"")}function X_(n,a){return a=Y_(a),Y_(n)===a}function nd(){}function dt(n,a,s,c,h,v){switch(s){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||pi(n,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&pi(n,""+c);break;case"className":$i(n,"class",c);break;case"tabIndex":$i(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":$i(n,s,c);break;case"style":fl(n,c,v);break;case"data":if(a!=="object"){$i(n,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||s!=="href")){n.removeAttribute(s);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(s);break}c=Gs(""+c),n.setAttribute(s,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(s==="formAction"?(a!=="input"&&dt(n,a,"name",h.name,h,null),dt(n,a,"formEncType",h.formEncType,h,null),dt(n,a,"formMethod",h.formMethod,h,null),dt(n,a,"formTarget",h.formTarget,h,null)):(dt(n,a,"encType",h.encType,h,null),dt(n,a,"method",h.method,h,null),dt(n,a,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(s);break}c=Gs(""+c),n.setAttribute(s,c);break;case"onClick":c!=null&&(n.onclick=nd);break;case"onScroll":c!=null&&Ge("scroll",n);break;case"onScrollEnd":c!=null&&Ge("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(s=c.__html,s!=null){if(h.children!=null)throw Error(r(60));n.innerHTML=s}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}s=Gs(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(s,""+c):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":c===!0?n.setAttribute(s,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(s,c):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(s,c):n.removeAttribute(s);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(s):n.setAttribute(s,c);break;case"popover":Ge("beforetoggle",n),Ge("toggle",n),tr(n,"popover",c);break;case"xlinkActuate":dn(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":dn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":dn(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":dn(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":dn(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":dn(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":dn(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":dn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":dn(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":tr(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Gh.get(s)||s,tr(n,s,c))}}function xp(n,a,s,c,h,v){switch(s){case"style":fl(n,c,v);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(s=c.__html,s!=null){if(h.children!=null)throw Error(r(60));n.innerHTML=s}}break;case"children":typeof c=="string"?pi(n,c):(typeof c=="number"||typeof c=="bigint")&&pi(n,""+c);break;case"onScroll":c!=null&&Ge("scroll",n);break;case"onScrollEnd":c!=null&&Ge("scrollend",n);break;case"onClick":c!=null&&(n.onclick=nd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zs.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),a=s.slice(2,h?s.length-7:void 0),v=n[zt]||null,v=v!=null?v[s]:null,typeof v=="function"&&n.removeEventListener(a,v,h),typeof c=="function")){typeof v!="function"&&v!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(a,c,h);break e}s in n?n[s]=c:c===!0?n.setAttribute(s,""):tr(n,s,c)}}}function mn(n,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",n),Ge("load",n);var c=!1,h=!1,v;for(v in s)if(s.hasOwnProperty(v)){var w=s[v];if(w!=null)switch(v){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:dt(n,a,v,w,s,null)}}h&&dt(n,a,"srcSet",s.srcSet,s,null),c&&dt(n,a,"src",s.src,s,null);return;case"input":Ge("invalid",n);var T=v=w=h=null,k=null,$=null;for(c in s)if(s.hasOwnProperty(c)){var te=s[c];if(te!=null)switch(c){case"name":h=te;break;case"type":w=te;break;case"checked":k=te;break;case"defaultChecked":$=te;break;case"value":v=te;break;case"defaultValue":T=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,a));break;default:dt(n,a,c,te,s,null)}}Wr(n,v,T,k,$,w,h,!1),Hs(n);return;case"select":Ge("invalid",n),c=w=v=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":v=T;break;case"defaultValue":w=T;break;case"multiple":c=T;default:dt(n,a,h,T,s,null)}a=v,s=w,n.multiple=!!c,a!=null?Ea(n,!!c,a,!1):s!=null&&Ea(n,!!c,s,!0);return;case"textarea":Ge("invalid",n),v=h=c=null;for(w in s)if(s.hasOwnProperty(w)&&(T=s[w],T!=null))switch(w){case"value":c=T;break;case"defaultValue":h=T;break;case"children":v=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:dt(n,a,w,T,s,null)}Zr(n,c,h,v),Hs(n);return;case"option":for(k in s)if(s.hasOwnProperty(k)&&(c=s[k],c!=null))switch(k){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:dt(n,a,k,c,s,null)}return;case"dialog":Ge("beforetoggle",n),Ge("toggle",n),Ge("cancel",n),Ge("close",n);break;case"iframe":case"object":Ge("load",n);break;case"video":case"audio":for(c=0;c<Wl.length;c++)Ge(Wl[c],n);break;case"image":Ge("error",n),Ge("load",n);break;case"details":Ge("toggle",n);break;case"embed":case"source":case"link":Ge("error",n),Ge("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in s)if(s.hasOwnProperty($)&&(c=s[$],c!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:dt(n,a,$,c,s,null)}return;default:if(pl(a)){for(te in s)s.hasOwnProperty(te)&&(c=s[te],c!==void 0&&xp(n,a,te,c,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(c=s[T],c!=null&&dt(n,a,T,c,s,null))}function xS(n,a,s,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,v=null,w=null,T=null,k=null,$=null,te=null;for(X in s){var re=s[X];if(s.hasOwnProperty(X)&&re!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":k=re;default:c.hasOwnProperty(X)||dt(n,a,X,null,c,re)}}for(var Y in c){var X=c[Y];if(re=s[Y],c.hasOwnProperty(Y)&&(X!=null||re!=null))switch(Y){case"type":v=X;break;case"name":h=X;break;case"checked":$=X;break;case"defaultChecked":te=X;break;case"value":w=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,a));break;default:X!==re&&dt(n,a,Y,X,c,re)}}ti(n,w,T,k,$,te,v,h);return;case"select":X=w=T=Y=null;for(v in s)if(k=s[v],s.hasOwnProperty(v)&&k!=null)switch(v){case"value":break;case"multiple":X=k;default:c.hasOwnProperty(v)||dt(n,a,v,null,c,k)}for(h in c)if(v=c[h],k=s[h],c.hasOwnProperty(h)&&(v!=null||k!=null))switch(h){case"value":Y=v;break;case"defaultValue":T=v;break;case"multiple":w=v;default:v!==k&&dt(n,a,h,v,c,k)}a=T,s=w,c=X,Y!=null?Ea(n,!!s,Y,!1):!!c!=!!s&&(a!=null?Ea(n,!!s,a,!0):Ea(n,!!s,s?[]:"",!1));return;case"textarea":X=Y=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!c.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:dt(n,a,T,null,c,h)}for(w in c)if(h=c[w],v=s[w],c.hasOwnProperty(w)&&(h!=null||v!=null))switch(w){case"value":Y=h;break;case"defaultValue":X=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==v&&dt(n,a,w,h,c,v)}ct(n,Y,X);return;case"option":for(var Pe in s)if(Y=s[Pe],s.hasOwnProperty(Pe)&&Y!=null&&!c.hasOwnProperty(Pe))switch(Pe){case"selected":n.selected=!1;break;default:dt(n,a,Pe,null,c,Y)}for(k in c)if(Y=c[k],X=s[k],c.hasOwnProperty(k)&&Y!==X&&(Y!=null||X!=null))switch(k){case"selected":n.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:dt(n,a,k,Y,c,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in s)Y=s[Ne],s.hasOwnProperty(Ne)&&Y!=null&&!c.hasOwnProperty(Ne)&&dt(n,a,Ne,null,c,Y);for($ in c)if(Y=c[$],X=s[$],c.hasOwnProperty($)&&Y!==X&&(Y!=null||X!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,a));break;default:dt(n,a,$,Y,c,X)}return;default:if(pl(a)){for(var ht in s)Y=s[ht],s.hasOwnProperty(ht)&&Y!==void 0&&!c.hasOwnProperty(ht)&&xp(n,a,ht,void 0,c,Y);for(te in c)Y=c[te],X=s[te],!c.hasOwnProperty(te)||Y===X||Y===void 0&&X===void 0||xp(n,a,te,Y,c,X);return}}for(var B in s)Y=s[B],s.hasOwnProperty(B)&&Y!=null&&!c.hasOwnProperty(B)&&dt(n,a,B,null,c,Y);for(re in c)Y=c[re],X=s[re],!c.hasOwnProperty(re)||Y===X||Y==null&&X==null||dt(n,a,re,Y,c,X)}var Tp=null,Ap=null;function id(n){return n.nodeType===9?n:n.ownerDocument}function W_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Z_(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function Sp(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Rp=null;function TS(){var n=window.event;return n&&n.type==="popstate"?n===Rp?!1:(Rp=n,!0):(Rp=null,!1)}var J_=typeof setTimeout=="function"?setTimeout:void 0,AS=typeof clearTimeout=="function"?clearTimeout:void 0,eE=typeof Promise=="function"?Promise:void 0,SS=typeof queueMicrotask=="function"?queueMicrotask:typeof eE<"u"?function(n){return eE.resolve(null).then(n).catch(RS)}:J_;function RS(n){setTimeout(function(){throw n})}function _r(n){return n==="head"}function tE(n,a){var s=a,c=0,h=0;do{var v=s.nextSibling;if(n.removeChild(s),v&&v.nodeType===8)if(s=v.data,s==="/$"){if(0<c&&8>c){s=c;var w=n.ownerDocument;if(s&1&&Jl(w.documentElement),s&2&&Jl(w.body),s&4)for(s=w.head,Jl(s),w=s.firstChild;w;){var T=w.nextSibling,k=w.nodeName;w[Kr]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&w.rel.toLowerCase()==="stylesheet"||s.removeChild(w),w=T}}if(h===0){n.removeChild(v),oc(a);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:c=s.charCodeAt(0)-48;else c=0;s=v}while(s);oc(a)}function Ip(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Ip(s),er(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function IS(n,a,s,c){for(;n.nodeType===1;){var h=s;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[Kr])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(v=n.getAttribute("rel"),v==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(v!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(v=n.getAttribute("src"),(v!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&v&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var v=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===v)return n}else return n;if(n=ji(n.nextSibling),n===null)break}return null}function CS(n,a,s){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=ji(n.nextSibling),n===null))return null;return n}function Cp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function NS(n,a){var s=n.ownerDocument;if(n.data!=="$?"||s.readyState==="complete")a();else{var c=function(){a(),s.removeEventListener("DOMContentLoaded",c)};s.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function ji(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return n}var Np=null;function nE(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"){if(a===0)return n;a--}else s==="/$"&&a++}n=n.previousSibling}return null}function iE(n,a,s){switch(a=id(s),n){case"html":if(n=a.documentElement,!n)throw Error(r(452));return n;case"head":if(n=a.head,!n)throw Error(r(453));return n;case"body":if(n=a.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function Jl(n){for(var a=n.attributes;a.length;)n.removeAttributeNode(a[0]);er(n)}var Ti=new Map,aE=new Set;function ad(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ua=ie.d;ie.d={f:DS,r:OS,D:kS,C:PS,L:jS,m:MS,X:VS,S:LS,M:US};function DS(){var n=Ua.f(),a=Yu();return n||a}function OS(n){var a=Hi(n);a!==null&&a.tag===5&&a.type==="form"?Ty(a):Ua.r(n)}var So=typeof document>"u"?null:document;function rE(n,a,s){var c=So;if(c&&typeof a=="string"&&a){var h=Bt(a);h='link[rel="'+n+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),aE.has(h)||(aE.add(h),n={rel:n,crossOrigin:s,href:a},c.querySelector(h)===null&&(a=c.createElement("link"),mn(a,"link",n),Mt(a),c.head.appendChild(a)))}}function kS(n){Ua.D(n),rE("dns-prefetch",n,null)}function PS(n,a){Ua.C(n,a),rE("preconnect",n,a)}function jS(n,a,s){Ua.L(n,a,s);var c=So;if(c&&n&&a){var h='link[rel="preload"][as="'+Bt(a)+'"]';a==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Bt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Bt(s.imageSizes)+'"]')):h+='[href="'+Bt(n)+'"]';var v=h;switch(a){case"style":v=Ro(n);break;case"script":v=Io(n)}Ti.has(v)||(n=y({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:n,as:a},s),Ti.set(v,n),c.querySelector(h)!==null||a==="style"&&c.querySelector(ec(v))||a==="script"&&c.querySelector(tc(v))||(a=c.createElement("link"),mn(a,"link",n),Mt(a),c.head.appendChild(a)))}}function MS(n,a){Ua.m(n,a);var s=So;if(s&&n){var c=a&&typeof a.as=="string"?a.as:"script",h='link[rel="modulepreload"][as="'+Bt(c)+'"][href="'+Bt(n)+'"]',v=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Io(n)}if(!Ti.has(v)&&(n=y({rel:"modulepreload",href:n},a),Ti.set(v,n),s.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(tc(v)))return}c=s.createElement("link"),mn(c,"link",n),Mt(c),s.head.appendChild(c)}}}function LS(n,a,s){Ua.S(n,a,s);var c=So;if(c&&n){var h=kn(c).hoistableStyles,v=Ro(n);a=a||"default";var w=h.get(v);if(!w){var T={loading:0,preload:null};if(w=c.querySelector(ec(v)))T.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":a},s),(s=Ti.get(v))&&Dp(n,s);var k=w=c.createElement("link");Mt(k),mn(k,"link",n),k._p=new Promise(function($,te){k.onload=$,k.onerror=te}),k.addEventListener("load",function(){T.loading|=1}),k.addEventListener("error",function(){T.loading|=2}),T.loading|=4,rd(w,a,c)}w={type:"stylesheet",instance:w,count:1,state:T},h.set(v,w)}}}function VS(n,a){Ua.X(n,a);var s=So;if(s&&n){var c=kn(s).hoistableScripts,h=Io(n),v=c.get(h);v||(v=s.querySelector(tc(h)),v||(n=y({src:n,async:!0},a),(a=Ti.get(h))&&Op(n,a),v=s.createElement("script"),Mt(v),mn(v,"link",n),s.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(h,v))}}function US(n,a){Ua.M(n,a);var s=So;if(s&&n){var c=kn(s).hoistableScripts,h=Io(n),v=c.get(h);v||(v=s.querySelector(tc(h)),v||(n=y({src:n,async:!0,type:"module"},a),(a=Ti.get(h))&&Op(n,a),v=s.createElement("script"),Mt(v),mn(v,"link",n),s.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(h,v))}}function sE(n,a,s,c){var h=(h=we.current)?ad(h):null;if(!h)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=Ro(s.href),s=kn(h).hoistableStyles,c=s.get(a),c||(c={type:"style",instance:null,count:0,state:null},s.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=Ro(s.href);var v=kn(h).hoistableStyles,w=v.get(n);if(w||(h=h.ownerDocument||h,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(n,w),(v=h.querySelector(ec(n)))&&!v._p&&(w.instance=v,w.state.loading=5),Ti.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Ti.set(n,s),v||zS(h,n,s,w.state))),a&&c===null)throw Error(r(528,""));return w}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Io(s),s=kn(h).hoistableScripts,c=s.get(a),c||(c={type:"script",instance:null,count:0,state:null},s.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Ro(n){return'href="'+Bt(n)+'"'}function ec(n){return'link[rel="stylesheet"]['+n+"]"}function oE(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function zS(n,a,s,c){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=n.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),mn(a,"link",s),Mt(a),n.head.appendChild(a))}function Io(n){return'[src="'+Bt(n)+'"]'}function tc(n){return"script[async]"+n}function lE(n,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var c=n.querySelector('style[data-href~="'+Bt(s.href)+'"]');if(c)return a.instance=c,Mt(c),c;var h=y({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Mt(c),mn(c,"style",h),rd(c,s.precedence,n),a.instance=c;case"stylesheet":h=Ro(s.href);var v=n.querySelector(ec(h));if(v)return a.state.loading|=4,a.instance=v,Mt(v),v;c=oE(s),(h=Ti.get(h))&&Dp(c,h),v=(n.ownerDocument||n).createElement("link"),Mt(v);var w=v;return w._p=new Promise(function(T,k){w.onload=T,w.onerror=k}),mn(v,"link",c),a.state.loading|=4,rd(v,s.precedence,n),a.instance=v;case"script":return v=Io(s.src),(h=n.querySelector(tc(v)))?(a.instance=h,Mt(h),h):(c=s,(h=Ti.get(v))&&(c=y({},s),Op(c,h)),n=n.ownerDocument||n,h=n.createElement("script"),Mt(h),mn(h,"link",c),n.head.appendChild(h),a.instance=h);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,rd(c,s.precedence,n));return a.instance}function rd(n,a,s){for(var c=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,v=h,w=0;w<c.length;w++){var T=c[w];if(T.dataset.precedence===a)v=T;else if(v!==h)break}v?v.parentNode.insertBefore(n,v.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(n,a.firstChild))}function Dp(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function Op(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var sd=null;function cE(n,a,s){if(sd===null){var c=new Map,h=sd=new Map;h.set(s,c)}else h=sd,c=h.get(s),c||(c=new Map,h.set(s,c));if(c.has(n))return c;for(c.set(n,null),s=s.getElementsByTagName(n),h=0;h<s.length;h++){var v=s[h];if(!(v[Kr]||v[$t]||n==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var w=v.getAttribute(a)||"";w=n+w;var T=c.get(w);T?T.push(v):c.set(w,[v])}}return c}function uE(n,a,s){n=n.ownerDocument||n,n.head.insertBefore(s,a==="title"?n.querySelector("head > title"):null)}function BS(n,a,s){if(s===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return n=a.disabled,typeof a.precedence=="string"&&n==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function dE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var nc=null;function FS(){}function qS(n,a,s){if(nc===null)throw Error(r(475));var c=nc;if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ro(s.href),v=n.querySelector(ec(h));if(v){n=v._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(c.count++,c=od.bind(c),n.then(c,c)),a.state.loading|=4,a.instance=v,Mt(v);return}v=n.ownerDocument||n,s=oE(s),(h=Ti.get(h))&&Dp(s,h),v=v.createElement("link"),Mt(v);var w=v;w._p=new Promise(function(T,k){w.onload=T,w.onerror=k}),mn(v,"link",s),a.instance=v}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=od.bind(c),n.addEventListener("load",a),n.addEventListener("error",a))}}function HS(){if(nc===null)throw Error(r(475));var n=nc;return n.stylesheets&&n.count===0&&kp(n,n.stylesheets),0<n.count?function(a){var s=setTimeout(function(){if(n.stylesheets&&kp(n,n.stylesheets),n.unsuspend){var c=n.unsuspend;n.unsuspend=null,c()}},6e4);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(s)}}:null}function od(){if(this.count--,this.count===0){if(this.stylesheets)kp(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ld=null;function kp(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ld=new Map,a.forEach(GS,n),ld=null,od.call(n))}function GS(n,a){if(!(a.state.loading&4)){var s=ld.get(n);if(s)var c=s.get(null);else{s=new Map,ld.set(n,s);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<h.length;v++){var w=h[v];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(s.set(w.dataset.precedence,w),c=w)}c&&s.set(null,c)}h=a.instance,w=h.getAttribute("data-precedence"),v=s.get(w)||c,v===c&&s.set(null,h),s.set(w,h),this.count++,c=od.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),v?v.parentNode.insertBefore(h,v.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),a.state.loading|=4}}var ic={$$typeof:K,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function $S(n,a,s,c,h,v,w,T){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ve(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ve(0),this.hiddenUpdates=ve(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=v,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function hE(n,a,s,c,h,v,w,T,k,$,te,re){return n=new $S(n,a,s,w,T,k,$,re),a=1,v===!0&&(a|=24),v=ii(3,null,null,a),n.current=v,v.stateNode=n,a=pf(),a.refCount++,n.pooledCache=a,a.refCount++,v.memoizedState={element:c,isDehydrated:s,cache:a},yf(v),n}function fE(n){return n?(n=ao,n):ao}function pE(n,a,s,c,h,v){h=fE(h),c.context===null?c.context=h:c.pendingContext=h,c=sr(a),c.payload={element:s},v=v===void 0?null:v,v!==null&&(c.callback=v),s=or(n,c,a),s!==null&&(li(s,n,a),kl(s,n,a))}function mE(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<a?s:a}}function Pp(n,a){mE(n,a),(n=n.alternate)&&mE(n,a)}function gE(n){if(n.tag===13){var a=io(n,67108864);a!==null&&li(a,n,67108864),Pp(n,67108864)}}var cd=!0;function KS(n,a,s,c){var h=G.T;G.T=null;var v=ie.p;try{ie.p=2,jp(n,a,s,c)}finally{ie.p=v,G.T=h}}function QS(n,a,s,c){var h=G.T;G.T=null;var v=ie.p;try{ie.p=8,jp(n,a,s,c)}finally{ie.p=v,G.T=h}}function jp(n,a,s,c){if(cd){var h=Mp(c);if(h===null)wp(n,a,c,ud,s),yE(n,c);else if(XS(h,n,a,s,c))c.stopPropagation();else if(yE(n,c),a&4&&-1<YS.indexOf(n)){for(;h!==null;){var v=Hi(h);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var w=tn(v.pendingLanes);if(w!==0){var T=v;for(T.pendingLanes|=2,T.entangledLanes|=2;w;){var k=1<<31-ft(w);T.entanglements[1]|=k,w&=~k}aa(v),(ot&6)===0&&(Ku=gt()+500,Xl(0))}}break;case 13:T=io(v,2),T!==null&&li(T,v,2),Yu(),Pp(v,2)}if(v=Mp(c),v===null&&wp(n,a,c,ud,s),v===h)break;h=v}h!==null&&c.stopPropagation()}else wp(n,a,c,null,s)}}function Mp(n){return n=mi(n),Lp(n)}var ud=null;function Lp(n){if(ud=null,n=va(n),n!==null){var a=l(n);if(a===null)n=null;else{var s=a.tag;if(s===13){if(n=d(a),n!==null)return n;n=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return ud=n,null}function vE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(un()){case On:return 2;case xn:return 8;case en:case Vn:return 32;case Ni:return 268435456;default:return 32}default:return 32}}var Vp=!1,Er=null,br=null,wr=null,ac=new Map,rc=new Map,xr=[],YS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yE(n,a){switch(n){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":ac.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":rc.delete(a.pointerId)}}function sc(n,a,s,c,h,v){return n===null||n.nativeEvent!==v?(n={blockedOn:a,domEventName:s,eventSystemFlags:c,nativeEvent:v,targetContainers:[h]},a!==null&&(a=Hi(a),a!==null&&gE(a)),n):(n.eventSystemFlags|=c,a=n.targetContainers,h!==null&&a.indexOf(h)===-1&&a.push(h),n)}function XS(n,a,s,c,h){switch(a){case"focusin":return Er=sc(Er,n,a,s,c,h),!0;case"dragenter":return br=sc(br,n,a,s,c,h),!0;case"mouseover":return wr=sc(wr,n,a,s,c,h),!0;case"pointerover":var v=h.pointerId;return ac.set(v,sc(ac.get(v)||null,n,a,s,c,h)),!0;case"gotpointercapture":return v=h.pointerId,rc.set(v,sc(rc.get(v)||null,n,a,s,c,h)),!0}return!1}function _E(n){var a=va(n.target);if(a!==null){var s=l(a);if(s!==null){if(a=s.tag,a===13){if(a=d(s),a!==null){n.blockedOn=a,Yc(n.priority,function(){if(s.tag===13){var c=oi();c=Fn(c);var h=io(s,c);h!==null&&li(h,s,c),Pp(s,c)}});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function dd(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var s=Mp(n.nativeEvent);if(s===null){s=n.nativeEvent;var c=new s.constructor(s.type,s);ba=c,s.target.dispatchEvent(c),ba=null}else return a=Hi(s),a!==null&&gE(a),n.blockedOn=s,!1;a.shift()}return!0}function EE(n,a,s){dd(n)&&s.delete(a)}function WS(){Vp=!1,Er!==null&&dd(Er)&&(Er=null),br!==null&&dd(br)&&(br=null),wr!==null&&dd(wr)&&(wr=null),ac.forEach(EE),rc.forEach(EE)}function hd(n,a){n.blockedOn===a&&(n.blockedOn=null,Vp||(Vp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,WS)))}var fd=null;function bE(n){fd!==n&&(fd=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){fd===n&&(fd=null);for(var a=0;a<n.length;a+=3){var s=n[a],c=n[a+1],h=n[a+2];if(typeof c!="function"){if(Lp(c||s)===null)continue;break}var v=Hi(s);v!==null&&(n.splice(a,3),a-=3,Lf(v,{pending:!0,data:h,method:s.method,action:c},c,h))}}))}function oc(n){function a(k){return hd(k,n)}Er!==null&&hd(Er,n),br!==null&&hd(br,n),wr!==null&&hd(wr,n),ac.forEach(a),rc.forEach(a);for(var s=0;s<xr.length;s++){var c=xr[s];c.blockedOn===n&&(c.blockedOn=null)}for(;0<xr.length&&(s=xr[0],s.blockedOn===null);)_E(s),s.blockedOn===null&&xr.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(c=0;c<s.length;c+=3){var h=s[c],v=s[c+1],w=h[zt]||null;if(typeof v=="function")w||bE(s);else if(w){var T=null;if(v&&v.hasAttribute("formAction")){if(h=v,w=v[zt]||null)T=w.formAction;else if(Lp(h)!==null)continue}else T=w.action;typeof T=="function"?s[c+1]=T:(s.splice(c,3),c-=3),bE(s)}}}function Up(n){this._internalRoot=n}pd.prototype.render=Up.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(r(409));var s=a.current,c=oi();pE(s,c,n,a,null,null)},pd.prototype.unmount=Up.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;pE(n.current,2,null,n,null,null),Yu(),a[fi]=null}};function pd(n){this._internalRoot=n}pd.prototype.unstable_scheduleHydration=function(n){if(n){var a=Za();n={blockedOn:null,target:n,priority:a};for(var s=0;s<xr.length&&a!==0&&a<xr[s].priority;s++);xr.splice(s,0,n),s===0&&_E(n)}};var wE=e.version;if(wE!=="19.1.0")throw Error(r(527,wE,"19.1.0"));ie.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=f(a),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var ZS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!md.isDisabled&&md.supportsFiber)try{Le=md.inject(ZS),Ce=md}catch{}}return cc.createRoot=function(n,a){if(!o(n))throw Error(r(299));var s=!1,c="",h=Vy,v=Uy,w=zy,T=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(T=a.unstable_transitionCallbacks)),a=hE(n,1,!1,null,null,s,c,h,v,w,T,null),n[fi]=a.current,bp(n),new Up(a)},cc.hydrateRoot=function(n,a,s){if(!o(n))throw Error(r(299));var c=!1,h="",v=Vy,w=Uy,T=zy,k=null,$=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(w=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(k=s.unstable_transitionCallbacks),s.formState!==void 0&&($=s.formState)),a=hE(n,1,!0,a,s??null,c,h,v,w,T,k,$),a.context=fE(null),s=a.current,c=oi(),c=Fn(c),h=sr(c),h.callback=null,or(s,h,c),s=c,a.current.lanes=s,Re(a,s),aa(a),n[fi]=a.current,bp(n),new pd(a)},cc.version="19.1.0",cc}var OE;function cR(){if(OE)return Fp.exports;OE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Fp.exports=lR(),Fp.exports}var uR=cR(),uc={},kE;function dR(){if(kE)return uc;kE=1,Object.defineProperty(uc,"__esModule",{value:!0}),uc.parse=d,uc.serialize=m;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function d(x,R){const I=new l,U=x.length;if(U<2)return I;const L=(R==null?void 0:R.decode)||y;let H=0;do{const ne=x.indexOf("=",H);if(ne===-1)break;const K=x.indexOf(";",H),ce=K===-1?U:K;if(ne>ce){H=x.lastIndexOf(";",ne-1)+1;continue}const fe=p(x,H,ne),be=f(x,ne,fe),j=x.slice(fe,be);if(I[j]===void 0){let S=p(x,ne+1,ce),C=f(x,ce,S);const P=L(x.slice(S,C));I[j]=P}H=ce+1}while(H<U);return I}function p(x,R,I){do{const U=x.charCodeAt(R);if(U!==32&&U!==9)return R}while(++R<I);return I}function f(x,R,I){for(;R>I;){const U=x.charCodeAt(--R);if(U!==32&&U!==9)return R+1}return I}function m(x,R,I){const U=(I==null?void 0:I.encode)||encodeURIComponent;if(!i.test(x))throw new TypeError(`argument name is invalid: ${x}`);const L=U(R);if(!e.test(L))throw new TypeError(`argument val is invalid: ${R}`);let H=x+"="+L;if(!I)return H;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);H+="; Max-Age="+I.maxAge}if(I.domain){if(!t.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);H+="; Domain="+I.domain}if(I.path){if(!r.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);H+="; Path="+I.path}if(I.expires){if(!b(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);H+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(H+="; HttpOnly"),I.secure&&(H+="; Secure"),I.partitioned&&(H+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return H}function y(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function b(x){return o.call(x)==="[object Date]"}return uc}dR();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PE="popstate";function hR(i={}){function e(r,o){let{pathname:l,search:d,hash:p}=r.location;return fm("",{pathname:l,search:d,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:Ac(o)}return pR(e,t,null,i)}function St(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Ui(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fR(){return Math.random().toString(36).substring(2,10)}function jE(i,e){return{usr:i.state,key:i.key,idx:e}}function fm(i,e,t=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Qo(e):e,state:t,key:e&&e.key||r||fR()}}function Ac({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Qo(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function pR(i,e,t,r={}){let{window:o=document.defaultView,v5Compat:l=!1}=r,d=o.history,p="POP",f=null,m=y();m==null&&(m=0,d.replaceState({...d.state,idx:m},""));function y(){return(d.state||{idx:null}).idx}function b(){p="POP";let L=y(),H=L==null?null:L-m;m=L,f&&f({action:p,location:U.location,delta:H})}function x(L,H){p="PUSH";let ne=fm(U.location,L,H);m=y()+1;let K=jE(ne,m),ce=U.createHref(ne);try{d.pushState(K,"",ce)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;o.location.assign(ce)}l&&f&&f({action:p,location:U.location,delta:1})}function R(L,H){p="REPLACE";let ne=fm(U.location,L,H);m=y();let K=jE(ne,m),ce=U.createHref(ne);d.replaceState(K,"",ce),l&&f&&f({action:p,location:U.location,delta:0})}function I(L){let H=o.location.origin!=="null"?o.location.origin:o.location.href,ne=typeof L=="string"?L:Ac(L);return ne=ne.replace(/ $/,"%20"),St(H,`No window.location.(origin|href) available to create URL for href: ${ne}`),new URL(ne,H)}let U={get action(){return p},get location(){return i(o,d)},listen(L){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(PE,b),f=L,()=>{o.removeEventListener(PE,b),f=null}},createHref(L){return e(o,L)},createURL:I,encodeLocation(L){let H=I(L);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:x,replace:R,go(L){return d.go(L)}};return U}function q0(i,e,t="/"){return mR(i,e,t,!1)}function mR(i,e,t,r){let o=typeof e=="string"?Qo(e):e,l=Ga(o.pathname||"/",t);if(l==null)return null;let d=H0(i);gR(d);let p=null;for(let f=0;p==null&&f<d.length;++f){let m=RR(l);p=AR(d[f],m,r)}return p}function H0(i,e=[],t=[],r=""){let o=(l,d,p)=>{let f={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};f.relativePath.startsWith("/")&&(St(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let m=qa([r,f.relativePath]),y=t.concat(f);l.children&&l.children.length>0&&(St(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),H0(l.children,e,y,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:xR(m,l.index),routesMeta:y})};return i.forEach((l,d)=>{var p;if(l.path===""||!((p=l.path)!=null&&p.includes("?")))o(l,d);else for(let f of G0(l.path))o(l,d,f)}),e}function G0(i){let e=i.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return o?[l,""]:[l];let d=G0(r.join("/")),p=[];return p.push(...d.map(f=>f===""?l:[l,f].join("/"))),o&&p.push(...d),p.map(f=>i.startsWith("/")&&f===""?"/":f)}function gR(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:TR(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var vR=/^:[\w-]+$/,yR=3,_R=2,ER=1,bR=10,wR=-2,ME=i=>i==="*";function xR(i,e){let t=i.split("/"),r=t.length;return t.some(ME)&&(r+=wR),e&&(r+=_R),t.filter(o=>!ME(o)).reduce((o,l)=>o+(vR.test(l)?yR:l===""?ER:bR),r)}function TR(i,e){return i.length===e.length&&i.slice(0,-1).every((r,o)=>r===e[o])?i[i.length-1]-e[e.length-1]:0}function AR(i,e,t=!1){let{routesMeta:r}=i,o={},l="/",d=[];for(let p=0;p<r.length;++p){let f=r[p],m=p===r.length-1,y=l==="/"?e:e.slice(l.length)||"/",b=Ld({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},y),x=f.route;if(!b&&m&&t&&!r[r.length-1].route.index&&(b=Ld({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:qa([l,b.pathname]),pathnameBase:DR(qa([l,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(l=qa([l,b.pathnameBase]))}return d}function Ld(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,r]=SR(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let l=o[0],d=l.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:r.reduce((m,{paramName:y,isOptional:b},x)=>{if(y==="*"){let I=p[x]||"";d=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const R=p[x];return b&&!R?m[y]=void 0:m[y]=(R||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:d,pattern:i}}function SR(i,e=!1,t=!0){Ui(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,f)=>(r.push({paramName:p,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(r.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function RR(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ui(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Ga(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=i.charAt(t);return r&&r!=="/"?null:i.slice(t)||"/"}function IR(i,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof i=="string"?Qo(i):i;return{pathname:t?t.startsWith("/")?t:CR(t,e):e,search:OR(r),hash:kR(o)}}function CR(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function $p(i,e,t,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NR(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Zm(i){let e=NR(i);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Jm(i,e,t,r=!1){let o;typeof i=="string"?o=Qo(i):(o={...i},St(!o.pathname||!o.pathname.includes("?"),$p("?","pathname","search",o)),St(!o.pathname||!o.pathname.includes("#"),$p("#","pathname","hash",o)),St(!o.search||!o.search.includes("#"),$p("#","search","hash",o)));let l=i===""||o.pathname==="",d=l?"/":o.pathname,p;if(d==null)p=t;else{let b=e.length-1;if(!r&&d.startsWith("..")){let x=d.split("/");for(;x[0]==="..";)x.shift(),b-=1;o.pathname=x.join("/")}p=b>=0?e[b]:"/"}let f=IR(o,p),m=d&&d!=="/"&&d.endsWith("/"),y=(l||d===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||y)&&(f.pathname+="/"),f}var qa=i=>i.join("/").replace(/\/\/+/g,"/"),DR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),OR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,kR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function PR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var $0=["POST","PUT","PATCH","DELETE"];new Set($0);var jR=["GET",...$0];new Set(jR);var Yo=O.createContext(null);Yo.displayName="DataRouter";var hh=O.createContext(null);hh.displayName="DataRouterState";var K0=O.createContext({isTransitioning:!1});K0.displayName="ViewTransition";var MR=O.createContext(new Map);MR.displayName="Fetchers";var LR=O.createContext(null);LR.displayName="Await";var Fi=O.createContext(null);Fi.displayName="Navigation";var Lc=O.createContext(null);Lc.displayName="Location";var pa=O.createContext({outlet:null,matches:[],isDataRoute:!1});pa.displayName="Route";var eg=O.createContext(null);eg.displayName="RouteError";function VR(i,{relative:e}={}){St(Xo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=O.useContext(Fi),{hash:o,pathname:l,search:d}=Vc(i,{relative:e}),p=l;return t!=="/"&&(p=l==="/"?t:qa([t,l])),r.createHref({pathname:p,search:d,hash:o})}function Xo(){return O.useContext(Lc)!=null}function Fr(){return St(Xo(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Lc).location}var Q0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Y0(i){O.useContext(Fi).static||O.useLayoutEffect(i)}function Wo(){let{isDataRoute:i}=O.useContext(pa);return i?WR():UR()}function UR(){St(Xo(),"useNavigate() may be used only in the context of a <Router> component.");let i=O.useContext(Yo),{basename:e,navigator:t}=O.useContext(Fi),{matches:r}=O.useContext(pa),{pathname:o}=Fr(),l=JSON.stringify(Zm(r)),d=O.useRef(!1);return Y0(()=>{d.current=!0}),O.useCallback((f,m={})=>{if(Ui(d.current,Q0),!d.current)return;if(typeof f=="number"){t.go(f);return}let y=Jm(f,JSON.parse(l),o,m.relative==="path");i==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:qa([e,y.pathname])),(m.replace?t.replace:t.push)(y,m.state,m)},[e,t,l,o,i])}O.createContext(null);function Vc(i,{relative:e}={}){let{matches:t}=O.useContext(pa),{pathname:r}=Fr(),o=JSON.stringify(Zm(t));return O.useMemo(()=>Jm(i,JSON.parse(o),r,e==="path"),[i,o,r,e])}function zR(i,e){return X0(i,e)}function X0(i,e,t,r){var ne;St(Xo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:l}=O.useContext(Fi),{matches:d}=O.useContext(pa),p=d[d.length-1],f=p?p.params:{},m=p?p.pathname:"/",y=p?p.pathnameBase:"/",b=p&&p.route;{let K=b&&b.path||"";W0(m,!b||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let x=Fr(),R;if(e){let K=typeof e=="string"?Qo(e):e;St(y==="/"||((ne=K.pathname)==null?void 0:ne.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${K.pathname}" was given in the \`location\` prop.`),R=K}else R=x;let I=R.pathname||"/",U=I;if(y!=="/"){let K=y.replace(/^\//,"").split("/");U="/"+I.replace(/^\//,"").split("/").slice(K.length).join("/")}let L=!l&&t&&t.matches&&t.matches.length>0?t.matches:q0(i,{pathname:U});Ui(b||L!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Ui(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=GR(L&&L.map(K=>Object.assign({},K,{params:Object.assign({},f,K.params),pathname:qa([y,o.encodeLocation?o.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?y:qa([y,o.encodeLocation?o.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),d,t,r);return e&&H?O.createElement(Lc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},H):H}function BR(){let i=XR(),e=PR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=O.createElement(O.Fragment,null,O.createElement("p",null,"💿 Hey developer 👋"),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:l},"ErrorBoundary")," or"," ",O.createElement("code",{style:l},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),t?O.createElement("pre",{style:o},t):null,d)}var FR=O.createElement(BR,null),qR=class extends O.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?O.createElement(pa.Provider,{value:this.props.routeContext},O.createElement(eg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function HR({routeContext:i,match:e,children:t}){let r=O.useContext(Yo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(pa.Provider,{value:i},t)}function GR(i,e=[],t=null,r=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,l=t==null?void 0:t.errors;if(l!=null){let f=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);St(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let d=!1,p=-1;if(t)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(p=f),m.route.id){let{loaderData:y,errors:b}=t,x=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!b||b[m.route.id]===void 0);if(m.route.lazy||x){d=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((f,m,y)=>{let b,x=!1,R=null,I=null;t&&(b=l&&m.route.id?l[m.route.id]:void 0,R=m.route.errorElement||FR,d&&(p<0&&y===0?(W0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,I=null):p===y&&(x=!0,I=m.route.hydrateFallbackElement||null)));let U=e.concat(o.slice(0,y+1)),L=()=>{let H;return b?H=R:x?H=I:m.route.Component?H=O.createElement(m.route.Component,null):m.route.element?H=m.route.element:H=f,O.createElement(HR,{match:m,routeContext:{outlet:f,matches:U,isDataRoute:t!=null},children:H})};return t&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?O.createElement(qR,{location:t.location,revalidation:t.revalidation,component:R,error:b,children:L(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):L()},null)}function tg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $R(i){let e=O.useContext(Yo);return St(e,tg(i)),e}function KR(i){let e=O.useContext(hh);return St(e,tg(i)),e}function QR(i){let e=O.useContext(pa);return St(e,tg(i)),e}function ng(i){let e=QR(i),t=e.matches[e.matches.length-1];return St(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function YR(){return ng("useRouteId")}function XR(){var r;let i=O.useContext(eg),e=KR("useRouteError"),t=ng("useRouteError");return i!==void 0?i:(r=e.errors)==null?void 0:r[t]}function WR(){let{router:i}=$R("useNavigate"),e=ng("useNavigate"),t=O.useRef(!1);return Y0(()=>{t.current=!0}),O.useCallback(async(o,l={})=>{Ui(t.current,Q0),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...l}))},[i,e])}var LE={};function W0(i,e,t){!e&&!LE[i]&&(LE[i]=!0,Ui(!1,t))}O.memo(ZR);function ZR({routes:i,future:e,state:t}){return X0(i,void 0,t,e)}function JR({to:i,replace:e,state:t,relative:r}){St(Xo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=O.useContext(Fi);Ui(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=O.useContext(pa),{pathname:d}=Fr(),p=Wo(),f=Jm(i,Zm(l),d,r==="path"),m=JSON.stringify(f);return O.useEffect(()=>{p(JSON.parse(m),{replace:e,state:t,relative:r})},[p,m,r,e,t]),null}function In(i){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eI({basename:i="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:l=!1}){St(!Xo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=i.replace(/^\/*/,"/"),p=O.useMemo(()=>({basename:d,navigator:o,static:l,future:{}}),[d,o,l]);typeof t=="string"&&(t=Qo(t));let{pathname:f="/",search:m="",hash:y="",state:b=null,key:x="default"}=t,R=O.useMemo(()=>{let I=Ga(f,d);return I==null?null:{location:{pathname:I,search:m,hash:y,state:b,key:x},navigationType:r}},[d,f,m,y,b,x,r]);return Ui(R!=null,`<Router basename="${d}"> is not able to match the URL "${f}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:O.createElement(Fi.Provider,{value:p},O.createElement(Lc.Provider,{children:e,value:R}))}function tI({children:i,location:e}){return zR(pm(i),e)}function pm(i,e=[]){let t=[];return O.Children.forEach(i,(r,o)=>{if(!O.isValidElement(r))return;let l=[...e,o];if(r.type===O.Fragment){t.push.apply(t,pm(r.props.children,l));return}St(r.type===In,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=pm(r.props.children,l)),t.push(d)}),t}var Ad="get",Sd="application/x-www-form-urlencoded";function fh(i){return i!=null&&typeof i.tagName=="string"}function nI(i){return fh(i)&&i.tagName.toLowerCase()==="button"}function iI(i){return fh(i)&&i.tagName.toLowerCase()==="form"}function aI(i){return fh(i)&&i.tagName.toLowerCase()==="input"}function rI(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function sI(i,e){return i.button===0&&(!e||e==="_self")&&!rI(i)}var gd=null;function oI(){if(gd===null)try{new FormData(document.createElement("form"),0),gd=!1}catch{gd=!0}return gd}var lI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kp(i){return i!=null&&!lI.has(i)?(Ui(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sd}"`),null):i}function cI(i,e){let t,r,o,l,d;if(iI(i)){let p=i.getAttribute("action");r=p?Ga(p,e):null,t=i.getAttribute("method")||Ad,o=Kp(i.getAttribute("enctype"))||Sd,l=new FormData(i)}else if(nI(i)||aI(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=i.getAttribute("formaction")||p.getAttribute("action");if(r=f?Ga(f,e):null,t=i.getAttribute("formmethod")||p.getAttribute("method")||Ad,o=Kp(i.getAttribute("formenctype"))||Kp(p.getAttribute("enctype"))||Sd,l=new FormData(p,i),!oI()){let{name:m,type:y,value:b}=i;if(y==="image"){let x=m?`${m}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else m&&l.append(m,b)}}else{if(fh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ad,r=null,o=Sd,d=i}return l&&o==="text/plain"&&(d=l,l=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:l,body:d}}function ig(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function uI(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dI(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function hI(i,e,t){let r=await Promise.all(i.map(async o=>{let l=e.routes[o.route.id];if(l){let d=await uI(l,t);return d.links?d.links():[]}return[]}));return gI(r.flat(1).filter(dI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function VE(i,e,t,r,o,l){let d=(f,m)=>t[m]?f.route.id!==t[m].route.id:!0,p=(f,m)=>{var y;return t[m].pathname!==f.pathname||((y=t[m].route.path)==null?void 0:y.endsWith("*"))&&t[m].params["*"]!==f.params["*"]};return l==="assets"?e.filter((f,m)=>d(f,m)||p(f,m)):l==="data"?e.filter((f,m)=>{var b;let y=r.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(d(f,m)||p(f,m))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(i,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function fI(i,e,{includeHydrateFallback:t}={}){return pI(i.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function pI(i){return[...new Set(i)]}function mI(i){let e={},t=Object.keys(i).sort();for(let r of t)e[r]=i[r];return e}function gI(i,e){let t=new Set;return new Set(e),i.reduce((r,o)=>{let l=JSON.stringify(mI(o));return t.has(l)||(t.add(l),r.push({key:l,link:o})),r},[])}function vI(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&Ga(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Z0(){let i=O.useContext(Yo);return ig(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function yI(){let i=O.useContext(hh);return ig(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var ag=O.createContext(void 0);ag.displayName="FrameworkContext";function J0(){let i=O.useContext(ag);return ig(i,"You must render this element inside a <HydratedRouter> element"),i}function _I(i,e){let t=O.useContext(ag),[r,o]=O.useState(!1),[l,d]=O.useState(!1),{onFocus:p,onBlur:f,onMouseEnter:m,onMouseLeave:y,onTouchStart:b}=e,x=O.useRef(null);O.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let U=H=>{H.forEach(ne=>{d(ne.isIntersecting)})},L=new IntersectionObserver(U,{threshold:.5});return x.current&&L.observe(x.current),()=>{L.disconnect()}}},[i]),O.useEffect(()=>{if(r){let U=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(U)}}},[r]);let R=()=>{o(!0)},I=()=>{o(!1),d(!1)};return t?i!=="intent"?[l,x,{}]:[l,x,{onFocus:dc(p,R),onBlur:dc(f,I),onMouseEnter:dc(m,R),onMouseLeave:dc(y,I),onTouchStart:dc(b,R)}]:[!1,x,{}]}function dc(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function EI({page:i,...e}){let{router:t}=Z0(),r=O.useMemo(()=>q0(t.routes,i,t.basename),[t.routes,i,t.basename]);return r?O.createElement(wI,{page:i,matches:r,...e}):null}function bI(i){let{manifest:e,routeModules:t}=J0(),[r,o]=O.useState([]);return O.useEffect(()=>{let l=!1;return hI(i,e,t).then(d=>{l||o(d)}),()=>{l=!0}},[i,e,t]),r}function wI({page:i,matches:e,...t}){let r=Fr(),{manifest:o,routeModules:l}=J0(),{basename:d}=Z0(),{loaderData:p,matches:f}=yI(),m=O.useMemo(()=>VE(i,e,f,o,r,"data"),[i,e,f,o,r]),y=O.useMemo(()=>VE(i,e,f,o,r,"assets"),[i,e,f,o,r]),b=O.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let I=new Set,U=!1;if(e.forEach(H=>{var K;let ne=o.routes[H.route.id];!ne||!ne.hasLoader||(!m.some(ce=>ce.route.id===H.route.id)&&H.route.id in p&&((K=l[H.route.id])!=null&&K.shouldRevalidate)||ne.hasClientLoader?U=!0:I.add(H.route.id))}),I.size===0)return[];let L=vI(i,d);return U&&I.size>0&&L.searchParams.set("_routes",e.filter(H=>I.has(H.route.id)).map(H=>H.route.id).join(",")),[L.pathname+L.search]},[d,p,r,o,m,e,i,l]),x=O.useMemo(()=>fI(y,o),[y,o]),R=bI(y);return O.createElement(O.Fragment,null,b.map(I=>O.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),x.map(I=>O.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),R.map(({key:I,link:U})=>O.createElement("link",{key:I,...U})))}function xI(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ew=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ew&&(window.__reactRouterVersion="7.5.0")}catch{}function TI({basename:i,children:e,window:t}){let r=O.useRef();r.current==null&&(r.current=hR({window:t,v5Compat:!0}));let o=r.current,[l,d]=O.useState({action:o.action,location:o.location}),p=O.useCallback(f=>{O.startTransition(()=>d(f))},[d]);return O.useLayoutEffect(()=>o.listen(p),[o,p]),O.createElement(eI,{basename:i,children:e,location:l.location,navigationType:l.action,navigator:o})}var tw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,At=O.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:l,replace:d,state:p,target:f,to:m,preventScrollReset:y,viewTransition:b,...x},R){let{basename:I}=O.useContext(Fi),U=typeof m=="string"&&tw.test(m),L,H=!1;if(typeof m=="string"&&U&&(L=m,ew))try{let C=new URL(window.location.href),P=m.startsWith("//")?new URL(C.protocol+m):new URL(m),M=Ga(P.pathname,I);P.origin===C.origin&&M!=null?m=M+P.search+P.hash:H=!0}catch{Ui(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=VR(m,{relative:o}),[K,ce,fe]=_I(r,x),be=II(m,{replace:d,state:p,target:f,preventScrollReset:y,relative:o,viewTransition:b});function j(C){e&&e(C),C.defaultPrevented||be(C)}let S=O.createElement("a",{...x,...fe,href:L||ne,onClick:H||l?e:j,ref:xI(R,ce),target:f,"data-discover":!U&&t==="render"?"true":void 0});return K&&!U?O.createElement(O.Fragment,null,S,O.createElement(EI,{page:ne})):S});At.displayName="Link";var AI=O.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:l,to:d,viewTransition:p,children:f,...m},y){let b=Vc(d,{relative:m.relative}),x=Fr(),R=O.useContext(hh),{navigator:I,basename:U}=O.useContext(Fi),L=R!=null&&kI(b)&&p===!0,H=I.encodeLocation?I.encodeLocation(b).pathname:b.pathname,ne=x.pathname,K=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(ne=ne.toLowerCase(),K=K?K.toLowerCase():null,H=H.toLowerCase()),K&&U&&(K=Ga(K,U)||K);const ce=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let fe=ne===H||!o&&ne.startsWith(H)&&ne.charAt(ce)==="/",be=K!=null&&(K===H||!o&&K.startsWith(H)&&K.charAt(H.length)==="/"),j={isActive:fe,isPending:be,isTransitioning:L},S=fe?e:void 0,C;typeof r=="function"?C=r(j):C=[r,fe?"active":null,be?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(j):l;return O.createElement(At,{...m,"aria-current":S,className:C,ref:y,style:P,to:d,viewTransition:p},typeof f=="function"?f(j):f)});AI.displayName="NavLink";var SI=O.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:l,method:d=Ad,action:p,onSubmit:f,relative:m,preventScrollReset:y,viewTransition:b,...x},R)=>{let I=DI(),U=OI(p,{relative:m}),L=d.toLowerCase()==="get"?"get":"post",H=typeof p=="string"&&tw.test(p),ne=K=>{if(f&&f(K),K.defaultPrevented)return;K.preventDefault();let ce=K.nativeEvent.submitter,fe=(ce==null?void 0:ce.getAttribute("formmethod"))||d;I(ce||K.currentTarget,{fetcherKey:e,method:fe,navigate:t,replace:o,state:l,relative:m,preventScrollReset:y,viewTransition:b})};return O.createElement("form",{ref:R,method:L,action:U,onSubmit:r?f:ne,...x,"data-discover":!H&&i==="render"?"true":void 0})});SI.displayName="Form";function RI(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nw(i){let e=O.useContext(Yo);return St(e,RI(i)),e}function II(i,{target:e,replace:t,state:r,preventScrollReset:o,relative:l,viewTransition:d}={}){let p=Wo(),f=Fr(),m=Vc(i,{relative:l});return O.useCallback(y=>{if(sI(y,e)){y.preventDefault();let b=t!==void 0?t:Ac(f)===Ac(m);p(i,{replace:b,state:r,preventScrollReset:o,relative:l,viewTransition:d})}},[f,p,m,t,r,e,i,o,l,d])}var CI=0,NI=()=>`__${String(++CI)}__`;function DI(){let{router:i}=nw("useSubmit"),{basename:e}=O.useContext(Fi),t=YR();return O.useCallback(async(r,o={})=>{let{action:l,method:d,encType:p,formData:f,body:m}=cI(r,e);if(o.navigate===!1){let y=o.fetcherKey||NI();await i.fetch(y,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||d,formEncType:o.encType||p,flushSync:o.flushSync})}else await i.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||d,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function OI(i,{relative:e}={}){let{basename:t}=O.useContext(Fi),r=O.useContext(pa);St(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),l={...Vc(i||".",{relative:e})},d=Fr();if(i==null){l.search=d.search;let p=new URLSearchParams(l.search),f=p.getAll("index");if(f.some(y=>y==="")){p.delete("index"),f.filter(b=>b).forEach(b=>p.append("index",b));let y=p.toString();l.search=y?`?${y}`:""}}return(!i||i===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:qa([t,l.pathname])),Ac(l)}function kI(i,e={}){let t=O.useContext(K0);St(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=nw("useViewTransitionState"),o=Vc(i,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Ga(t.currentLocation.pathname,r)||t.currentLocation.pathname,d=Ga(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Ld(o.pathname,d)!=null||Ld(o.pathname,l)!=null}new TextEncoder;const PI=()=>{};var UE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=function(i){const e=[];let t=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},jI=function(i){const e=[];let t=0,r=0;for(;t<i.length;){const o=i[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const l=i[t++];e[r++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=i[t++],d=i[t++],p=i[t++],f=((o&7)<<18|(l&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const l=i[t++],d=i[t++];e[r++]=String.fromCharCode((o&15)<<12|(l&63)<<6|d&63)}}return e.join("")},aw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const l=i[o],d=o+1<i.length,p=d?i[o+1]:0,f=o+2<i.length,m=f?i[o+2]:0,y=l>>2,b=(l&3)<<4|p>>4;let x=(p&15)<<2|m>>6,R=m&63;f||(R=64,d||(x=64)),r.push(t[y],t[b],t[x],t[R])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(iw(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):jI(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const l=t[i.charAt(o++)],p=o<i.length?t[i.charAt(o)]:0;++o;const m=o<i.length?t[i.charAt(o)]:64;++o;const b=o<i.length?t[i.charAt(o)]:64;if(++o,l==null||p==null||m==null||b==null)throw new MI;const x=l<<2|p>>4;if(r.push(x),m!==64){const R=p<<4&240|m>>2;if(r.push(R),b!==64){const I=m<<6&192|b;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class MI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LI=function(i){const e=iw(i);return aw.encodeByteArray(e,!0)},Vd=function(i){return LI(i).replace(/\./g,"")},rw=function(i){try{return aw.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=()=>VI().__FIREBASE_DEFAULTS__,zI=()=>{if(typeof process>"u"||typeof UE>"u")return;const i=UE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},BI=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&rw(i[1]);return e&&JSON.parse(e)},ph=()=>{try{return PI()||UI()||zI()||BI()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},sw=i=>{var e,t;return(t=(e=ph())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},ow=i=>{const e=sw(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},lw=()=>{var i;return(i=ph())===null||i===void 0?void 0:i.config},cw=i=>{var e;return(e=ph())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Vd(JSON.stringify(t)),Vd(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dn())}function GI(){var i;const e=(i=ph())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $I(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uw(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function KI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QI(){const i=Dn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function YI(){return!GI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dw(){try{return typeof indexedDB=="object"}catch{return!1}}function hw(){return new Promise((i,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}function XI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI="FirebaseError";class Ci extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=WI,Object.setPrototypeOf(this,Ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ms.prototype.create)}}class Ms{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],d=l?ZI(l,r):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Ci(o,p,r)}}function ZI(i,e){return i.replace(JI,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const JI=/\{\$([^}]+)}/g;function eC(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Rs(i,e){if(i===e)return!0;const t=Object.keys(i),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const l=i[o],d=e[o];if(zE(l)&&zE(d)){if(!Rs(l,d))return!1}else if(l!==d)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function zE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(i){const e=[];for(const[t,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hc(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,l]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function fc(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function tC(i,e){const t=new nC(i,e);return t.subscribe.bind(t)}class nC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");iC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=Qp),o.error===void 0&&(o.error=Qp),o.complete===void 0&&(o.complete=Qp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iC(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Qp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=1e3,rC=2,sC=4*60*60*1e3,oC=.5;function BE(i,e=aC,t=rC){const r=e*Math.pow(t,i),o=Math.round(oC*r*(Math.random()-.5)*2);return Math.min(sC,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(i){return i&&i._delegate?i._delegate:i}class Ri{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new FI;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uC(e))try{this.getOrInitializeService({instanceIdentifier:ws})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});r.resolve(l)}catch{}}}}clearInstance(e=ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ws){return this.instances.has(e)}getOptions(e=ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(l);r===p&&d.resolve(o)}return o}onInit(e,t){var r;const o=this.normalizeInstanceIdentifier(t),l=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(o,l);const d=this.instances.get(o);return d&&e(d,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cC(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ws){return this.component?this.component.multipleInstances?e:ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cC(i){return i===ws?void 0:i}function uC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new lC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Qe||(Qe={}));const hC={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},fC=Qe.INFO,pC={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},mC=(i,e,...t)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=pC[e];if(o)console[o](`[${r}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mh{constructor(e){this.name=e,this._logLevel=fC,this._logHandler=mC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const gC=(i,e)=>e.some(t=>i instanceof t);let FE,qE;function vC(){return FE||(FE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yC(){return qE||(qE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fw=new WeakMap,mm=new WeakMap,pw=new WeakMap,Yp=new WeakMap,rg=new WeakMap;function _C(i){const e=new Promise((t,r)=>{const o=()=>{i.removeEventListener("success",l),i.removeEventListener("error",d)},l=()=>{t(Dr(i.result)),o()},d=()=>{r(i.error),o()};i.addEventListener("success",l),i.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&fw.set(t,i)}).catch(()=>{}),rg.set(e,i),e}function EC(i){if(mm.has(i))return;const e=new Promise((t,r)=>{const o=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",d),i.removeEventListener("abort",d)},l=()=>{t(),o()},d=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",l),i.addEventListener("error",d),i.addEventListener("abort",d)});mm.set(i,e)}let gm={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return mm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||pw.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Dr(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function bC(i){gm=i(gm)}function wC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=i.call(Xp(this),e,...t);return pw.set(r,e.sort?e.sort():[e]),Dr(r)}:yC().includes(i)?function(...e){return i.apply(Xp(this),e),Dr(fw.get(this))}:function(...e){return Dr(i.apply(Xp(this),e))}}function xC(i){return typeof i=="function"?wC(i):(i instanceof IDBTransaction&&EC(i),gC(i,vC())?new Proxy(i,gm):i)}function Dr(i){if(i instanceof IDBRequest)return _C(i);if(Yp.has(i))return Yp.get(i);const e=xC(i);return e!==i&&(Yp.set(i,e),rg.set(e,i)),e}const Xp=i=>rg.get(i);function mw(i,e,{blocked:t,upgrade:r,blocking:o,terminated:l}={}){const d=indexedDB.open(i,e),p=Dr(d);return r&&d.addEventListener("upgradeneeded",f=>{r(Dr(d.result),f.oldVersion,f.newVersion,Dr(d.transaction),f)}),t&&d.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),p.then(f=>{l&&f.addEventListener("close",()=>l()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),p}const TC=["get","getKey","getAll","getAllKeys","count"],AC=["put","add","delete","clear"],Wp=new Map;function HE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Wp.get(e))return Wp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=AC.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||TC.includes(t)))return;const l=async function(d,...p){const f=this.transaction(d,o?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(p.shift())),(await Promise.all([m[t](...p),o&&f.done]))[0]};return Wp.set(e,l),l}bC(i=>({...i,get:(e,t,r)=>HE(e,t)||i.get(e,t,r),has:(e,t)=>!!HE(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(RC(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function RC(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vm="@firebase/app",GE="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=new mh("@firebase/app"),IC="@firebase/app-compat",CC="@firebase/analytics-compat",NC="@firebase/analytics",DC="@firebase/app-check-compat",OC="@firebase/app-check",kC="@firebase/auth",PC="@firebase/auth-compat",jC="@firebase/database",MC="@firebase/data-connect",LC="@firebase/database-compat",VC="@firebase/functions",UC="@firebase/functions-compat",zC="@firebase/installations",BC="@firebase/installations-compat",FC="@firebase/messaging",qC="@firebase/messaging-compat",HC="@firebase/performance",GC="@firebase/performance-compat",$C="@firebase/remote-config",KC="@firebase/remote-config-compat",QC="@firebase/storage",YC="@firebase/storage-compat",XC="@firebase/firestore",WC="@firebase/vertexai",ZC="@firebase/firestore-compat",JC="firebase",eN="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="[DEFAULT]",tN={[vm]:"fire-core",[IC]:"fire-core-compat",[NC]:"fire-analytics",[CC]:"fire-analytics-compat",[OC]:"fire-app-check",[DC]:"fire-app-check-compat",[kC]:"fire-auth",[PC]:"fire-auth-compat",[jC]:"fire-rtdb",[MC]:"fire-data-connect",[LC]:"fire-rtdb-compat",[VC]:"fire-fn",[UC]:"fire-fn-compat",[zC]:"fire-iid",[BC]:"fire-iid-compat",[FC]:"fire-fcm",[qC]:"fire-fcm-compat",[HC]:"fire-perf",[GC]:"fire-perf-compat",[$C]:"fire-rc",[KC]:"fire-rc-compat",[QC]:"fire-gcs",[YC]:"fire-gcs-compat",[XC]:"fire-fst",[ZC]:"fire-fst-compat",[WC]:"fire-vertex","fire-js":"fire-js",[JC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=new Map,nN=new Map,_m=new Map;function $E(i,e){try{i.container.addComponent(e)}catch(t){$a.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function zi(i){const e=i.name;if(_m.has(e))return $a.debug(`There were multiple attempts to register component ${e}.`),!1;_m.set(e,i);for(const t of Ud.values())$E(t,i);for(const t of nN.values())$E(t,i);return!0}function Zo(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Kn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Or=new Ms("app","Firebase",iN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ri("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Or.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=eN;function gw(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ym,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Or.create("bad-app-name",{appName:String(o)});if(t||(t=lw()),!t)throw Or.create("no-options");const l=Ud.get(o);if(l){if(Rs(t,l.options)&&Rs(r,l.config))return l;throw Or.create("duplicate-app",{appName:o})}const d=new dC(o);for(const f of _m.values())d.addComponent(f);const p=new aN(t,r,d);return Ud.set(o,p),p}function gh(i=ym){const e=Ud.get(i);if(!e&&i===ym&&lw())return gw();if(!e)throw Or.create("no-app",{appName:i});return e}function Xn(i,e,t){var r;let o=(r=tN[i])!==null&&r!==void 0?r:i;t&&(o+=`-${t}`);const l=o.match(/\s|\//),d=e.match(/\s|\//);if(l||d){const p=[`Unable to register library "${o}" with version "${e}":`];l&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$a.warn(p.join(" "));return}zi(new Ri(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN="firebase-heartbeat-database",sN=1,Sc="firebase-heartbeat-store";let Zp=null;function vw(){return Zp||(Zp=mw(rN,sN,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Sc)}catch(t){console.warn(t)}}}}).catch(i=>{throw Or.create("idb-open",{originalErrorMessage:i.message})})),Zp}async function oN(i){try{const t=(await vw()).transaction(Sc),r=await t.objectStore(Sc).get(yw(i));return await t.done,r}catch(e){if(e instanceof Ci)$a.warn(e.message);else{const t=Or.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$a.warn(t.message)}}}async function KE(i,e){try{const r=(await vw()).transaction(Sc,"readwrite");await r.objectStore(Sc).put(e,yw(i)),await r.done}catch(t){if(t instanceof Ci)$a.warn(t.message);else{const r=Or.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});$a.warn(r.message)}}}function yw(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=1024,cN=30;class uN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new hN(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=QE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(d=>d.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>cN){const d=fN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){$a.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=QE(),{heartbeatsToSend:r,unsentEntries:o}=dN(this._heartbeatsCache.heartbeats),l=Vd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return $a.warn(t),""}}}function QE(){return new Date().toISOString().substring(0,10)}function dN(i,e=lN){const t=[];let r=i.slice();for(const o of i){const l=t.find(d=>d.agent===o.agent);if(l){if(l.dates.push(o.date),YE(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),YE(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class hN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dw()?hw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await oN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return KE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return KE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function YE(i){return Vd(JSON.stringify({version:2,heartbeats:i})).length}function fN(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let r=1;r<i.length;r++)i[r].date<t&&(t=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(i){zi(new Ri("platform-logger",e=>new SC(e),"PRIVATE")),zi(new Ri("heartbeat",e=>new uN(e),"PRIVATE")),Xn(vm,GE,i),Xn(vm,GE,"esm2017"),Xn("fire-js","")}pN("");function sg(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(i);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(i,r[o])&&(t[r[o]]=i[r[o]]);return t}function Ls(i,e,t,r){function o(l){return l instanceof t?l:new t(function(d){d(l)})}return new(t||(t=Promise))(function(l,d){function p(y){try{m(r.next(y))}catch(b){d(b)}}function f(y){try{m(r.throw(y))}catch(b){d(b)}}function m(y){y.done?l(y.value):o(y.value).then(p,f)}m((r=r.apply(i,e||[])).next())})}function _w(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mN=_w,Ew=new Ms("auth","Firebase",_w());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd=new mh("@firebase/auth");function gN(i,...e){zd.logLevel<=Qe.WARN&&zd.warn(`Auth (${Jo}): ${i}`,...e)}function Rd(i,...e){zd.logLevel<=Qe.ERROR&&zd.error(`Auth (${Jo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(i,...e){throw lg(i,...e)}function Vi(i,...e){return lg(i,...e)}function og(i,e,t){const r=Object.assign(Object.assign({},mN()),{[e]:t});return new Ms("auth","Firebase",r).create(e,{appName:i.name})}function Ha(i){return og(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vN(i,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&di(i,"argument-error"),og(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lg(i,...e){if(typeof i!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(t,...r)}return Ew.create(i,...e)}function Te(i,e,...t){if(!i)throw lg(e,...t)}function Ba(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Rd(e),new Error(e)}function Ka(i,e){i||Ba(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function yN(){return XE()==="http:"||XE()==="https:"}function XE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yN()||uw()||"connection"in navigator)?navigator.onLine:!0}function EN(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ka(t>e,"Short delay should be less than long delay!"),this.isMobile=HI()||KI()}get(){return _N()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(i,e){Ka(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ba("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ba("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ba("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xN=new zc(3e4,6e4);function ma(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function qi(i,e,t,r,o={}){return ww(i,o,async()=>{let l={},d={};r&&(e==="GET"?d=r:l={body:JSON.stringify(r)});const p=Uc(Object.assign({key:i.config.apiKey},d)).slice(1),f=await i._getAdditionalHeaders();f["Content-Type"]="application/json",i.languageCode&&(f["X-Firebase-Locale"]=i.languageCode);const m=Object.assign({method:e,headers:f},l);return $I()||(m.referrerPolicy="no-referrer"),bw.fetch()(await xw(i,i.config.apiHost,t,p),m)})}async function ww(i,e,t){i._canInitEmulator=!1;const r=Object.assign(Object.assign({},bN),e);try{const o=new AN(i),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const d=await l.json();if("needConfirmation"in d)throw vd(i,"account-exists-with-different-credential",d);if(l.ok&&!("errorMessage"in d))return d;{const p=l.ok?d.errorMessage:d.error.message,[f,m]=p.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw vd(i,"credential-already-in-use",d);if(f==="EMAIL_EXISTS")throw vd(i,"email-already-in-use",d);if(f==="USER_DISABLED")throw vd(i,"user-disabled",d);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw og(i,y,m);di(i,y)}}catch(o){if(o instanceof Ci)throw o;di(i,"network-request-failed",{message:String(o)})}}async function Bc(i,e,t,r,o={}){const l=await qi(i,e,t,r,o);return"mfaPendingCredential"in l&&di(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function xw(i,e,t,r){const o=`${e}${t}?${r}`,l=i,d=l.config.emulator?cg(i.config,o):`${i.config.apiScheme}://${o}`;return wN.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(d).toString():d}function TN(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class AN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Vi(this.auth,"network-request-failed")),xN.get())})}}function vd(i,e,t){const r={appName:i.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=Vi(i,e,r);return o.customData._tokenResponse=t,o}function WE(i){return i!==void 0&&i.enterprise!==void 0}class SN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return TN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function RN(i,e){return qi(i,"GET","/v2/recaptchaConfig",ma(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(i,e){return qi(i,"POST","/v1/accounts:delete",e)}async function Bd(i,e){return qi(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CN(i,e=!1){const t=bt(i),r=await t.getIdToken(e),o=ug(r);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,d=l==null?void 0:l.sign_in_provider;return{claims:o,token:r,authTime:_c(Jp(o.auth_time)),issuedAtTime:_c(Jp(o.iat)),expirationTime:_c(Jp(o.exp)),signInProvider:d||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Jp(i){return Number(i)*1e3}function ug(i){const[e,t,r]=i.split(".");if(e===void 0||t===void 0||r===void 0)return Rd("JWT malformed, contained fewer than 3 sections"),null;try{const o=rw(t);return o?JSON.parse(o):(Rd("Failed to decode base64 JWT payload"),null)}catch(o){return Rd("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function ZE(i){const e=ug(i);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(i,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ci&&NN(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function NN({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=_c(this.lastLoginAt),this.creationTime=_c(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fd(i){var e;const t=i.auth,r=await i.getIdToken(),o=await Vo(i,Bd(t,{idToken:r}));Te(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];i._notifyReloadListener(l);const d=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Tw(l.providerUserInfo):[],p=kN(i.providerData,d),f=i.isAnonymous,m=!(i.email&&l.passwordHash)&&!(p!=null&&p.length),y=f?m:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new bm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(i,b)}async function ON(i){const e=bt(i);await Fd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kN(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function Tw(i){return i.map(e=>{var{providerId:t}=e,r=sg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(i,e){const t=await ww(i,{},async()=>{const r=Uc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=i.config,d=await xw(i,o,"/v1/token",`key=${l}`),p=await i._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",bw.fetch()(d,{method:"POST",headers:p,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function jN(i,e){return qi(i,"POST","/v2/accounts:revokeToken",ma(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ZE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=ZE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:l}=await PN(e,t);this.updateTokensAndExpiration(r,o,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:l}=t,d=new Po;return r&&(Te(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),o&&(Te(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),l&&(Te(typeof l=="number","internal-error",{appName:e}),d.expirationTime=l),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Po,this.toJSON())}_performRefresh(){return Ba("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(i,e){Te(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Li{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,l=sg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new DN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new bm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Vo(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return CN(this,e)}reload(){return ON(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Li(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Fd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(Ha(this.auth));const e=await this.getIdToken();return await Vo(this,IN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,l,d,p,f,m,y;const b=(r=t.displayName)!==null&&r!==void 0?r:void 0,x=(o=t.email)!==null&&o!==void 0?o:void 0,R=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,I=(d=t.photoURL)!==null&&d!==void 0?d:void 0,U=(p=t.tenantId)!==null&&p!==void 0?p:void 0,L=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,H=(m=t.createdAt)!==null&&m!==void 0?m:void 0,ne=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:K,emailVerified:ce,isAnonymous:fe,providerData:be,stsTokenManager:j}=t;Te(K&&j,e,"internal-error");const S=Po.fromJSON(this.name,j);Te(typeof K=="string",e,"internal-error"),Ar(b,e.name),Ar(x,e.name),Te(typeof ce=="boolean",e,"internal-error"),Te(typeof fe=="boolean",e,"internal-error"),Ar(R,e.name),Ar(I,e.name),Ar(U,e.name),Ar(L,e.name),Ar(H,e.name),Ar(ne,e.name);const C=new Li({uid:K,auth:e,email:x,emailVerified:ce,displayName:b,isAnonymous:fe,photoURL:I,phoneNumber:R,tenantId:U,stsTokenManager:S,createdAt:H,lastLoginAt:ne});return be&&Array.isArray(be)&&(C.providerData=be.map(P=>Object.assign({},P))),L&&(C._redirectEventId=L),C}static async _fromIdTokenResponse(e,t,r=!1){const o=new Po;o.updateFromServerResponse(t);const l=new Li({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Fd(l),l}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Tw(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),p=new Po;p.updateFromIdToken(r);const f=new Li({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new bm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=new Map;function Fa(i){Ka(i instanceof Function,"Expected a class definition");let e=JE.get(i);return e?(Ka(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,JE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Aw.type="NONE";const eb=Aw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(i,e,t){return`firebase:${i}:${e}:${t}`}class jo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:l}=this.auth;this.fullUserKey=Id(this.userKey,o.apiKey,l),this.fullPersistenceKey=Id("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Bd(this.auth,{idToken:e}).catch(()=>{});return t?Li._fromGetAccountInfoResponse(this.auth,t,e):null}return Li._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new jo(Fa(eb),e,r);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=o[0]||Fa(eb);const d=Id(r,e.config.apiKey,e.name);let p=null;for(const m of t)try{const y=await m._get(d);if(y){let b;if(typeof y=="string"){const x=await Bd(e,{idToken:y}).catch(()=>{});if(!x)break;b=await Li._fromGetAccountInfoResponse(e,x,y)}else b=Li._fromJSON(e,y);m!==l&&(p=b),l=m;break}}catch{}const f=o.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new jo(l,e,r):(l=f[0],p&&await l._set(d,p.toJSON()),await Promise.all(t.map(async m=>{if(m!==l)try{await m._remove(d)}catch{}})),new jo(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Cw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Sw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Dw(e))return"Blackberry";if(Ow(e))return"Webos";if(Rw(e))return"Safari";if((e.includes("chrome/")||Iw(e))&&!e.includes("edge/"))return"Chrome";if(Nw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Sw(i=Dn()){return/firefox\//i.test(i)}function Rw(i=Dn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Iw(i=Dn()){return/crios\//i.test(i)}function Cw(i=Dn()){return/iemobile/i.test(i)}function Nw(i=Dn()){return/android/i.test(i)}function Dw(i=Dn()){return/blackberry/i.test(i)}function Ow(i=Dn()){return/webos/i.test(i)}function dg(i=Dn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function MN(i=Dn()){var e;return dg(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function LN(){return QI()&&document.documentMode===10}function kw(i=Dn()){return dg(i)||Nw(i)||Ow(i)||Dw(i)||/windows phone/i.test(i)||Cw(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(i,e=[]){let t;switch(i){case"Browser":t=tb(Dn());break;case"Worker":t=`${tb(Dn())}-${i}`;break;default:t=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Jo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((d,p)=>{try{const f=e(l);d(f)}catch(f){p(f)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(i,e={}){return qi(i,"GET","/v2/passwordPolicy",ma(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=6;class BN{constructor(e){var t,r,o,l;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=d.minPasswordLength)!==null&&t!==void 0?t:zN,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,o,l,d,p;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(l=f.containsUppercaseLetter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(d=f.containsNumericCharacter)!==null&&d!==void 0?d:!0),f.isValid&&(f.isValid=(p=f.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nb(this),this.idTokenSubscription=new nb(this),this.beforeStateQueue=new VN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ew,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Fa(t)),this._initializationPromise=this.queue(async()=>{var r,o,l;if(!this._deleted&&(this.persistenceManager=await jo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Bd(this,{idToken:e}),r=await Li._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Kn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,p=o==null?void 0:o._redirectEventId,f=await this.tryRedirectSignIn(e);(!d||d===p)&&(f!=null&&f.user)&&(o=f.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Fd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=EN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(Ha(this));const t=e?bt(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(Ha(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(Ha(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await UN(this),t=new BN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ms("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await jN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Fa(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await jo.create(this,[Fa(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(p,this,"internal-error"),p.then(()=>{d||l(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,o);return()=>{d=!0,f()}}else{const f=e.addObserver(t);return()=>{d=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Pw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&gN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ga(i){return bt(i)}class nb{constructor(e){this.auth=e,this.observer=null,this.addObserver=tC(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qN(i){vh=i}function jw(i){return vh.loadJS(i)}function HN(){return vh.recaptchaEnterpriseScript}function GN(){return vh.gapiScript}function $N(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class KN{constructor(){this.enterprise=new QN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class QN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const YN="recaptcha-enterprise",Mw="NO_RECAPTCHA";class XN{constructor(e){this.type=YN,this.auth=ga(e)}async verify(e="verify",t=!1){async function r(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(d,p)=>{RN(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const m=new SN(f);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,d(m.siteKey)}}).catch(f=>{p(f)})})}function o(l,d,p){const f=window.grecaptcha;WE(f)?f.enterprise.ready(()=>{f.enterprise.execute(l,{action:e}).then(m=>{d(m)}).catch(()=>{d(Mw)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new KN().execute("siteKey",{action:"verify"}):new Promise((l,d)=>{r(this.auth).then(p=>{if(!t&&WE(window.grecaptcha))o(p,l,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let f=HN();f.length!==0&&(f+=p),jw(f).then(()=>{o(p,l,d)}).catch(m=>{d(m)})}}).catch(p=>{d(p)})})}}async function ib(i,e,t,r=!1,o=!1){const l=new XN(i);let d;if(o)d=Mw;else try{d=await l.verify(t)}catch{d=await l.verify(t,!0)}const p=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const f=p.phoneEnrollmentInfo.phoneNumber,m=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const f=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function qd(i,e,t,r,o){var l;if(!((l=i._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await ib(i,e,t,t==="getOobCode");return r(i,d)}else return r(i,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await ib(i,e,t,t==="getOobCode");return r(i,p)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(i,e){const t=Zo(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Rs(l,e??{}))return o;di(o,"already-initialized")}return t.initialize({options:e})}function ZN(i,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Fa);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function JN(i,e,t){const r=ga(i);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,l=Lw(e),{host:d,port:p}=e1(e),f=p===null?"":`:${p}`,m={url:`${l}//${d}${f}/`},y=Object.freeze({host:d,port:p,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(Rs(m,r.config.emulator)&&Rs(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,t1()}function Lw(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function e1(i){const e=Lw(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const l=o[1];return{host:l,port:ab(r.substr(l.length+1))}}else{const[l,d]=r.split(":");return{host:l,port:ab(d)}}}function ab(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function t1(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ba("not implemented")}_getIdTokenResponse(e){return Ba("not implemented")}_linkToIdToken(e,t){return Ba("not implemented")}_getReauthenticationResolver(e){return Ba("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vw(i,e){return qi(i,"POST","/v1/accounts:resetPassword",ma(i,e))}async function n1(i,e){return qi(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i1(i,e){return Bc(i,"POST","/v1/accounts:signInWithPassword",ma(i,e))}async function a1(i,e){return qi(i,"POST","/v1/accounts:sendOobCode",ma(i,e))}async function r1(i,e){return a1(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s1(i,e){return Bc(i,"POST","/v1/accounts:signInWithEmailLink",ma(i,e))}async function o1(i,e){return Bc(i,"POST","/v1/accounts:signInWithEmailLink",ma(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends hg{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Rc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Rc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qd(e,t,"signInWithPassword",i1);case"emailLink":return s1(e,{email:this._email,oobCode:this._password});default:di(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qd(e,r,"signUpPassword",n1);case"emailLink":return o1(e,{idToken:t,email:this._email,oobCode:this._password});default:di(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(i,e){return Bc(i,"POST","/v1/accounts:signInWithIdp",ma(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="http://localhost";class Is extends hg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Is(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):di("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=t,l=sg(t,["providerId","signInMethod"]);if(!r||!o)return null;const d=new Is(r,o);return d.idToken=l.idToken||void 0,d.accessToken=l.accessToken||void 0,d.secret=l.secret,d.nonce=l.nonce,d.pendingToken=l.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return Mo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Mo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Mo(e,t)}buildRequest(){const e={requestUri:l1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Uc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function u1(i){const e=hc(fc(i)).link,t=e?hc(fc(e)).deep_link_id:null,r=hc(fc(i)).deep_link_id;return(r?hc(fc(r)).link:null)||r||t||e||i}class fg{constructor(e){var t,r,o,l,d,p;const f=hc(fc(e)),m=(t=f.apiKey)!==null&&t!==void 0?t:null,y=(r=f.oobCode)!==null&&r!==void 0?r:null,b=c1((o=f.mode)!==null&&o!==void 0?o:null);Te(m&&y&&b,"argument-error"),this.apiKey=m,this.operation=b,this.code=y,this.continueUrl=(l=f.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(d=f.languageCode)!==null&&d!==void 0?d:null,this.tenantId=(p=f.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const t=u1(e);try{return new fg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){this.providerId=el.PROVIDER_ID}static credential(e,t){return Rc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=fg.parseLink(t);return Te(r,"argument-error"),Rc._fromEmailAndCode(e,r.code,r.tenantId)}}el.PROVIDER_ID="password";el.EMAIL_PASSWORD_SIGN_IN_METHOD="password";el.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc extends pg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Fc{constructor(){super("facebook.com")}static credential(e){return Is._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sr.credential(e.oauthAccessToken)}catch{return null}}}Sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends Fc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Is._fromParams({providerId:za.PROVIDER_ID,signInMethod:za.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return za.credentialFromTaggedObject(e)}static credentialFromError(e){return za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return za.credential(t,r)}catch{return null}}}za.GOOGLE_SIGN_IN_METHOD="google.com";za.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Fc{constructor(){super("github.com")}static credential(e){return Is._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.GITHUB_SIGN_IN_METHOD="github.com";Rr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends Fc{constructor(){super("twitter.com")}static credential(e,t){return Is._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ir.credential(t,r)}catch{return null}}}Ir.TWITTER_SIGN_IN_METHOD="twitter.com";Ir.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d1(i,e){return Bc(i,"POST","/v1/accounts:signUp",ma(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const l=await Li._fromIdTokenResponse(e,r,o),d=rb(r);return new Cs({user:l,providerId:d,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=rb(r);return new Cs({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function rb(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd extends Ci{constructor(e,t,r,o){var l;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Hd.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new Hd(e,t,r,o)}}function Uw(i,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Hd._fromErrorAndOperation(i,l,e,r):l})}async function h1(i,e,t=!1){const r=await Vo(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Cs._forOperation(i,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f1(i,e,t=!1){const{auth:r}=i;if(Kn(r.app))return Promise.reject(Ha(r));const o="reauthenticate";try{const l=await Vo(i,Uw(r,o,e,i),t);Te(l.idToken,r,"internal-error");const d=ug(l.idToken);Te(d,r,"internal-error");const{sub:p}=d;return Te(i.uid===p,r,"user-mismatch"),Cs._forOperation(i,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&di(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zw(i,e,t=!1){if(Kn(i.app))return Promise.reject(Ha(i));const r="signIn",o=await Uw(i,r,e),l=await Cs._fromIdTokenResponse(i,r,o);return t||await i._updateCurrentUser(l.user),l}async function p1(i,e){return zw(ga(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?gg._fromServerResponse(e,t):"totpInfo"in t?vg._fromServerResponse(e,t):di(e,"internal-error")}}class gg extends mg{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new gg(t)}}class vg extends mg{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new vg(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(i,e,t){var r;Te(((r=t.url)===null||r===void 0?void 0:r.length)>0,i,"invalid-continue-uri"),Te(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,i,"invalid-dynamic-link-domain"),Te(typeof t.linkDomain>"u"||t.linkDomain.length>0,i,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(Te(t.iOS.bundleId.length>0,i,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(Te(t.android.packageName.length>0,i,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yg(i){const e=ga(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function g1(i,e,t){const r=ga(i),o={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&m1(r,o,t),await qd(r,o,"getOobCode",r1)}async function v1(i,e,t){await Vw(bt(i),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&yg(i),r})}async function y1(i,e){const t=bt(i),r=await Vw(t,{oobCode:e}),o=r.requestType;switch(Te(o,t,"internal-error"),o){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Te(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Te(r.mfaInfo,t,"internal-error");default:Te(r.email,t,"internal-error")}let l=null;return r.mfaInfo&&(l=mg._fromServerResponse(ga(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:l},operation:o}}async function _1(i,e){const{data:t}=await y1(bt(i),e);return t.email}async function E1(i,e,t){if(Kn(i.app))return Promise.reject(Ha(i));const r=ga(i),d=await qd(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",d1).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&yg(i),f}),p=await Cs._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function b1(i,e,t){return Kn(i.app)?Promise.reject(Ha(i)):p1(bt(i),el.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&yg(i),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w1(i,e){return qi(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x1(i,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=bt(i),l={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},d=await Vo(r,w1(r.auth,l));r.displayName=d.displayName||null,r.photoURL=d.photoUrl||null;const p=r.providerData.find(({providerId:f})=>f==="password");p&&(p.displayName=r.displayName,p.photoURL=r.photoURL),await r._updateTokensIfNecessary(d)}function T1(i,e,t,r){return bt(i).onIdTokenChanged(e,t,r)}function A1(i,e,t){return bt(i).beforeAuthStateChanged(e,t)}function jr(i,e,t,r){return bt(i).onAuthStateChanged(e,t,r)}const Gd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Gd,"1"),this.storage.removeItem(Gd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=1e3,R1=10;class Fw extends Bw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,p,f)=>{this.notifyListeners(d,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!t&&this.localCache[r]===d||this.notifyListeners(r,d)},l=this.storage.getItem(r);LN()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,R1):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},S1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Fw.type="LOCAL";const I1=Fw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw extends Bw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}qw.type="SESSION";const Hw=qw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new yh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:l}=t.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(d).map(async m=>m(t.origin,l)),f=await C1(p);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(i="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,d;return new Promise((p,f)=>{const m=_g("",20);o.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(b){const x=b;if(x.data.eventId===m)switch(x.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),p(x.data.response);break;default:clearTimeout(y),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(){return window}function D1(i){oa().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(){return typeof oa().WorkerGlobalScope<"u"&&typeof oa().importScripts=="function"}async function O1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function k1(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function P1(){return Gw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="firebaseLocalStorageDb",j1=1,$d="firebaseLocalStorage",Kw="fbase_key";class qc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function _h(i,e){return i.transaction([$d],e?"readwrite":"readonly").objectStore($d)}function M1(){const i=indexedDB.deleteDatabase($w);return new qc(i).toPromise()}function wm(){const i=indexedDB.open($w,j1);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore($d,{keyPath:Kw})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains($d)?e(r):(r.close(),await M1(),e(await wm()))})})}async function sb(i,e,t){const r=_h(i,!0).put({[Kw]:e,value:t});return new qc(r).toPromise()}async function L1(i,e){const t=_h(i,!1).get(e),r=await new qc(t).toPromise();return r===void 0?null:r.value}function ob(i,e){const t=_h(i,!0).delete(e);return new qc(t).toPromise()}const V1=800,U1=3;class Qw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>U1)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Gw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yh._getInstance(P1()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await O1(),!this.activeServiceWorker)return;this.sender=new N1(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||k1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wm();return await sb(e,Gd,"1"),await ob(e,Gd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>sb(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>L1(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ob(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=_h(o,!1).getAll();return new qc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),V1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Qw.type="LOCAL";const z1=Qw;new zc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(i,e){return e?Fa(e):(Te(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg extends hg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Mo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function B1(i){return zw(i.auth,new Eg(i),i.bypassAuthState)}function F1(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),f1(t,new Eg(i),i.bypassAuthState)}async function q1(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),h1(t,new Eg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,t,r,o,l=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:l,error:d,type:p}=e;if(d){this.reject(d);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return B1;case"linkViaPopup":case"linkViaRedirect":return q1;case"reauthViaPopup":case"reauthViaRedirect":return F1;default:di(this.auth,"internal-error")}}resolve(e){Ka(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ka(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=new zc(2e3,1e4);async function G1(i,e,t){if(Kn(i.app))return Promise.reject(Vi(i,"operation-not-supported-in-this-environment"));const r=ga(i);vN(i,e,pg);const o=Yw(r,t);return new Ts(r,"signInViaPopup",e,o).executeNotNull()}class Ts extends Xw{constructor(e,t,r,o,l){super(e,t,o,l),this.provider=r,this.authWindow=null,this.pollId=null,Ts.currentPopupAction&&Ts.currentPopupAction.cancel(),Ts.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Ka(this.filter.length===1,"Popup operations only handle one event");const e=_g();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ts.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,H1.get())};e()}}Ts.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="pendingRedirect",Cd=new Map;class K1 extends Xw{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Cd.get(this.auth._key());if(!e){try{const r=await Q1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Cd.set(this.auth._key(),e)}return this.bypassAuthState||Cd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Q1(i,e){const t=W1(e),r=X1(i);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function Y1(i,e){Cd.set(i._key(),e)}function X1(i){return Fa(i._redirectPersistence)}function W1(i){return Id($1,i.config.apiKey,i.name)}async function Z1(i,e,t=!1){if(Kn(i.app))return Promise.reject(Ha(i));const r=ga(i),o=Yw(r,e),d=await new K1(r,o,t).execute();return d&&!t&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=10*60*1e3;class eD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Ww(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Vi(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=J1&&this.cachedEventUids.clear(),this.cachedEventUids.has(lb(e))}saveEventToCache(e){this.cachedEventUids.add(lb(e)),this.lastProcessedEventTime=Date.now()}}function lb(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Ww({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function tD(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ww(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(i,e={}){return qi(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aD=/^https?/;async function rD(i){if(i.config.emulator)return;const{authorizedDomains:e}=await nD(i);for(const t of e)try{if(sD(t))return}catch{}di(i,"unauthorized-domain")}function sD(i){const e=Em(),{protocol:t,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&r===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===r}if(!aD.test(t))return!1;if(iD.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=new zc(3e4,6e4);function cb(){const i=oa().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function lD(i){return new Promise((e,t)=>{var r,o,l;function d(){cb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cb(),t(Vi(i,"network-request-failed"))},timeout:oD.get()})}if(!((o=(r=oa().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=oa().gapi)===null||l===void 0)&&l.load)d();else{const p=$N("iframefcb");return oa()[p]=()=>{gapi.load?d():t(Vi(i,"network-request-failed"))},jw(`${GN()}?onload=${p}`).catch(f=>t(f))}}).catch(e=>{throw Nd=null,e})}let Nd=null;function cD(i){return Nd=Nd||lD(i),Nd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=new zc(5e3,15e3),dD="__/auth/iframe",hD="emulator/auth/iframe",fD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mD(i){const e=i.config;Te(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?cg(e,hD):`https://${i.config.authDomain}/${dD}`,r={apiKey:e.apiKey,appName:i.name,v:Jo},o=pD.get(i.config.apiHost);o&&(r.eid=o);const l=i._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${Uc(r).slice(1)}`}async function gD(i){const e=await cD(i),t=oa().gapi;return Te(t,i,"internal-error"),e.open({where:document.body,url:mD(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fD,dontclear:!0},r=>new Promise(async(o,l)=>{await r.restyle({setHideOnLeave:!1});const d=Vi(i,"network-request-failed"),p=oa().setTimeout(()=>{l(d)},uD.get());function f(){oa().clearTimeout(p),o(r)}r.ping(f).then(f,()=>{l(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yD=500,_D=600,ED="_blank",bD="http://localhost";class ub{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wD(i,e,t,r=yD,o=_D){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const f=Object.assign(Object.assign({},vD),{width:r.toString(),height:o.toString(),top:l,left:d}),m=Dn().toLowerCase();t&&(p=Iw(m)?ED:t),Sw(m)&&(e=e||bD,f.scrollbars="yes");const y=Object.entries(f).reduce((x,[R,I])=>`${x}${R}=${I},`,"");if(MN(m)&&p!=="_self")return xD(e||"",p),new ub(null);const b=window.open(e||"",p,y);Te(b,i,"popup-blocked");try{b.focus()}catch{}return new ub(b)}function xD(i,e){const t=document.createElement("a");t.href=i,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="__/auth/handler",AD="emulator/auth/handler",SD=encodeURIComponent("fac");async function db(i,e,t,r,o,l){Te(i.config.authDomain,i,"auth-domain-config-required"),Te(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:r,v:Jo,eventId:o};if(e instanceof pg){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",eC(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,b]of Object.entries({}))d[y]=b}if(e instanceof Fc){const y=e.getScopes().filter(b=>b!=="");y.length>0&&(d.scopes=y.join(","))}i.tenantId&&(d.tid=i.tenantId);const p=d;for(const y of Object.keys(p))p[y]===void 0&&delete p[y];const f=await i._getAppCheckToken(),m=f?`#${SD}=${encodeURIComponent(f)}`:"";return`${RD(i)}?${Uc(p).slice(1)}${m}`}function RD({config:i}){return i.emulator?cg(i,AD):`https://${i.authDomain}/${TD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="webStorageSupport";class ID{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hw,this._completeRedirectFn=Z1,this._overrideRedirectResult=Y1}async _openPopup(e,t,r,o){var l;Ka((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const d=await db(e,t,r,Em(),o);return wD(e,d,_g())}async _openRedirect(e,t,r,o){await this._originValidation(e);const l=await db(e,t,r,Em(),o);return D1(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Ka(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await gD(e),r=new eD(e);return t.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(em,{type:em},o=>{var l;const d=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[em];d!==void 0&&t(!!d),di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=rD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return kw()||Rw()||dg()}}const CD=ID;var hb="@firebase/auth",fb="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OD(i){zi(new Ri("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;Te(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:d,authDomain:p,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pw(i)},m=new FN(r,o,l,f);return ZN(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),zi(new Ri("auth-internal",e=>{const t=ga(e.getProvider("auth").getImmediate());return(r=>new ND(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xn(hb,fb,DD(i)),Xn(hb,fb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=5*60,PD=cw("authIdTokenMaxAge")||kD;let pb=null;const jD=i=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>PD)return;const o=t==null?void 0:t.token;pb!==o&&(pb=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Ns(i=gh()){const e=Zo(i,"auth");if(e.isInitialized())return e.getImmediate();const t=WN(i,{popupRedirectResolver:CD,persistence:[z1,I1,Hw]}),r=cw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const d=jD(l.toString());A1(t,d,()=>d(t.currentUser)),T1(t,p=>d(p))}}const o=sw("auth");return o&&JN(t,`http://${o}`),t}function MD(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}qN({loadJS(i){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=o=>{const l=Vi("internal-error");l.customData=o,t(l)},r.type="text/javascript",r.charset="UTF-8",MD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OD("Browser");var LD="firebase",VD="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn(LD,VD,"app");const Zw="@firebase/installations",bg="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=1e4,ex=`w:${bg}`,tx="FIS_v2",UD="https://firebaseinstallations.googleapis.com/v1",zD=60*60*1e3,BD="installations",FD="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ds=new Ms(BD,FD,qD);function nx(i){return i instanceof Ci&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix({projectId:i}){return`${UD}/projects/${i}/installations`}function ax(i){return{token:i.token,requestStatus:2,expiresIn:GD(i.expiresIn),creationTime:Date.now()}}async function rx(i,e){const r=(await e.json()).error;return Ds.create("request-failed",{requestName:i,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function sx({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function HD(i,{refreshToken:e}){const t=sx(i);return t.append("Authorization",$D(e)),t}async function ox(i){const e=await i();return e.status>=500&&e.status<600?i():e}function GD(i){return Number(i.replace("s","000"))}function $D(i){return`${tx} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KD({appConfig:i,heartbeatServiceProvider:e},{fid:t}){const r=ix(i),o=sx(i),l=e.getImmediate({optional:!0});if(l){const m=await l.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const d={fid:t,authVersion:tx,appId:i.appId,sdkVersion:ex},p={method:"POST",headers:o,body:JSON.stringify(d)},f=await ox(()=>fetch(r,p));if(f.ok){const m=await f.json();return{fid:m.fid||t,registrationStatus:2,refreshToken:m.refreshToken,authToken:ax(m.authToken)}}else throw await rx("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=/^[cdef][\w-]{21}$/,xm="";function XD(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const t=WD(i);return YD.test(t)?t:xm}catch{return xm}}function WD(i){return QD(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=new Map;function ux(i,e){const t=Eh(i);dx(t,e),ZD(t,e)}function dx(i,e){const t=cx.get(i);if(t)for(const r of t)r(e)}function ZD(i,e){const t=JD();t&&t.postMessage({key:i,fid:e}),e2()}let As=null;function JD(){return!As&&"BroadcastChannel"in self&&(As=new BroadcastChannel("[Firebase] FID Change"),As.onmessage=i=>{dx(i.data.key,i.data.fid)}),As}function e2(){cx.size===0&&As&&(As.close(),As=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="firebase-installations-database",n2=1,Os="firebase-installations-store";let tm=null;function wg(){return tm||(tm=mw(t2,n2,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(Os)}}})),tm}async function Kd(i,e){const t=Eh(i),o=(await wg()).transaction(Os,"readwrite"),l=o.objectStore(Os),d=await l.get(t);return await l.put(e,t),await o.done,(!d||d.fid!==e.fid)&&ux(i,e.fid),e}async function hx(i){const e=Eh(i),r=(await wg()).transaction(Os,"readwrite");await r.objectStore(Os).delete(e),await r.done}async function bh(i,e){const t=Eh(i),o=(await wg()).transaction(Os,"readwrite"),l=o.objectStore(Os),d=await l.get(t),p=e(d);return p===void 0?await l.delete(t):await l.put(p,t),await o.done,p&&(!d||d.fid!==p.fid)&&ux(i,p.fid),p}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xg(i){let e;const t=await bh(i.appConfig,r=>{const o=i2(r),l=a2(i,o);return e=l.registrationPromise,l.installationEntry});return t.fid===xm?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function i2(i){const e=i||{fid:XD(),registrationStatus:0};return fx(e)}function a2(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ds.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=r2(i,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:s2(i)}:{installationEntry:e}}async function r2(i,e){try{const t=await KD(i,e);return Kd(i.appConfig,t)}catch(t){throw nx(t)&&t.customData.serverCode===409?await hx(i.appConfig):await Kd(i.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function s2(i){let e=await mb(i.appConfig);for(;e.registrationStatus===1;)await lx(100),e=await mb(i.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await xg(i);return r||t}return e}function mb(i){return bh(i,e=>{if(!e)throw Ds.create("installation-not-found");return fx(e)})}function fx(i){return o2(i)?{fid:i.fid,registrationStatus:0}:i}function o2(i){return i.registrationStatus===1&&i.registrationTime+Jw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l2({appConfig:i,heartbeatServiceProvider:e},t){const r=c2(i,t),o=HD(i,t),l=e.getImmediate({optional:!0});if(l){const m=await l.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const d={installation:{sdkVersion:ex,appId:i.appId}},p={method:"POST",headers:o,body:JSON.stringify(d)},f=await ox(()=>fetch(r,p));if(f.ok){const m=await f.json();return ax(m)}else throw await rx("Generate Auth Token",f)}function c2(i,{fid:e}){return`${ix(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tg(i,e=!1){let t;const r=await bh(i.appConfig,l=>{if(!px(l))throw Ds.create("not-registered");const d=l.authToken;if(!e&&h2(d))return l;if(d.requestStatus===1)return t=u2(i,e),l;{if(!navigator.onLine)throw Ds.create("app-offline");const p=p2(l);return t=d2(i,p),p}});return t?await t:r.authToken}async function u2(i,e){let t=await gb(i.appConfig);for(;t.authToken.requestStatus===1;)await lx(100),t=await gb(i.appConfig);const r=t.authToken;return r.requestStatus===0?Tg(i,e):r}function gb(i){return bh(i,e=>{if(!px(e))throw Ds.create("not-registered");const t=e.authToken;return m2(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function d2(i,e){try{const t=await l2(i,e),r=Object.assign(Object.assign({},e),{authToken:t});return await Kd(i.appConfig,r),t}catch(t){if(nx(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await hx(i.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Kd(i.appConfig,r)}throw t}}function px(i){return i!==void 0&&i.registrationStatus===2}function h2(i){return i.requestStatus===2&&!f2(i)}function f2(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+zD}function p2(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function m2(i){return i.requestStatus===1&&i.requestTime+Jw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g2(i){const e=i,{installationEntry:t,registrationPromise:r}=await xg(e);return r?r.catch(console.error):Tg(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2(i,e=!1){const t=i;return await y2(t),(await Tg(t,e)).token}async function y2(i){const{registrationPromise:e}=await xg(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(i){if(!i||!i.options)throw nm("App Configuration");if(!i.name)throw nm("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!i.options[t])throw nm(t);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function nm(i){return Ds.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx="installations",E2="installations-internal",b2=i=>{const e=i.getProvider("app").getImmediate(),t=_2(e),r=Zo(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},w2=i=>{const e=i.getProvider("app").getImmediate(),t=Zo(e,mx).getImmediate();return{getId:()=>g2(t),getToken:o=>v2(t,o)}};function x2(){zi(new Ri(mx,b2,"PUBLIC")),zi(new Ri(E2,w2,"PRIVATE"))}x2();Xn(Zw,bg);Xn(Zw,bg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="analytics",T2="firebase_id",A2="origin",S2=60*1e3,R2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ag="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn=new mh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ai=new Ms("analytics","Analytics",I2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(i){if(!i.startsWith(Ag)){const e=Ai.create("invalid-gtag-resource",{gtagURL:i});return Wn.warn(e.message),""}return i}function gx(i){return Promise.all(i.map(e=>e.catch(t=>t)))}function N2(i,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(i,e)),t}function D2(i,e){const t=N2("firebase-js-sdk-policy",{createScriptURL:C2}),r=document.createElement("script"),o=`${Ag}?l=${i}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function O2(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function k2(i,e,t,r,o,l){const d=r[o];try{if(d)await e[d];else{const f=(await gx(t)).find(m=>m.measurementId===o);f&&await e[f.appId]}}catch(p){Wn.error(p)}i("config",o,l)}async function P2(i,e,t,r,o){try{let l=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const p=await gx(t);for(const f of d){const m=p.find(b=>b.measurementId===f),y=m&&e[m.appId];if(y)l.push(y);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),i("event",r,o||{})}catch(l){Wn.error(l)}}function j2(i,e,t,r){async function o(l,...d){try{if(l==="event"){const[p,f]=d;await P2(i,e,t,p,f)}else if(l==="config"){const[p,f]=d;await k2(i,e,t,r,p,f)}else if(l==="consent"){const[p,f]=d;i("consent",p,f)}else if(l==="get"){const[p,f,m]=d;i("get",p,f,m)}else if(l==="set"){const[p]=d;i("set",p)}else i(l,...d)}catch(p){Wn.error(p)}}return o}function M2(i,e,t,r,o){let l=function(...d){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(l=window[o]),window[o]=j2(l,i,e,t),{gtagCore:l,wrappedGtag:window[o]}}function L2(i){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Ag)&&t.src.includes(i))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=30,U2=1e3;class z2{constructor(e={},t=U2){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const vx=new z2;function B2(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function F2(i){var e;const{appId:t,apiKey:r}=i,o={method:"GET",headers:B2(r)},l=R2.replace("{app-id}",t),d=await fetch(l,o);if(d.status!==200&&d.status!==304){let p="";try{const f=await d.json();!((e=f.error)===null||e===void 0)&&e.message&&(p=f.error.message)}catch{}throw Ai.create("config-fetch-failed",{httpStatus:d.status,responseMessage:p})}return d.json()}async function q2(i,e=vx,t){const{appId:r,apiKey:o,measurementId:l}=i.options;if(!r)throw Ai.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:r};throw Ai.create("no-api-key")}const d=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new $2;return setTimeout(async()=>{p.abort()},S2),yx({appId:r,apiKey:o,measurementId:l},d,p,e)}async function yx(i,{throttleEndTimeMillis:e,backoffCount:t},r,o=vx){var l;const{appId:d,measurementId:p}=i;try{await H2(r,e)}catch(f){if(p)return Wn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:d,measurementId:p};throw f}try{const f=await F2(i);return o.deleteThrottleMetadata(d),f}catch(f){const m=f;if(!G2(m)){if(o.deleteThrottleMetadata(d),p)return Wn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:d,measurementId:p};throw f}const y=Number((l=m==null?void 0:m.customData)===null||l===void 0?void 0:l.httpStatus)===503?BE(t,o.intervalMillis,V2):BE(t,o.intervalMillis),b={throttleEndTimeMillis:Date.now()+y,backoffCount:t+1};return o.setThrottleMetadata(d,b),Wn.debug(`Calling attemptFetch again in ${y} millis`),yx(i,b,r,o)}}function H2(i,e){return new Promise((t,r)=>{const o=Math.max(e-Date.now(),0),l=setTimeout(t,o);i.addEventListener(()=>{clearTimeout(l),r(Ai.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function G2(i){if(!(i instanceof Ci)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class $2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function K2(i,e,t,r,o){if(o&&o.global){i("event",t,r);return}else{const l=await e,d=Object.assign(Object.assign({},r),{send_to:l});i("event",t,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q2(){if(dw())try{await hw()}catch(i){return Wn.warn(Ai.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return Wn.warn(Ai.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Y2(i,e,t,r,o,l,d){var p;const f=q2(i);f.then(R=>{t[R.measurementId]=R.appId,i.options.measurementId&&R.measurementId!==i.options.measurementId&&Wn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${R.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(R=>Wn.error(R)),e.push(f);const m=Q2().then(R=>{if(R)return r.getId()}),[y,b]=await Promise.all([f,m]);L2(l)||D2(l,y.measurementId),o("js",new Date);const x=(p=d==null?void 0:d.config)!==null&&p!==void 0?p:{};return x[A2]="firebase",x.update=!0,b!=null&&(x[T2]=b),o("config",y.measurementId,x),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.app=e}_delete(){return delete Ec[this.app.options.appId],Promise.resolve()}}let Ec={},yb=[];const _b={};let im="dataLayer",W2="gtag",Eb,_x,bb=!1;function Z2(){const i=[];if(uw()&&i.push("This is a browser extension environment."),XI()||i.push("Cookies are not available."),i.length>0){const e=i.map((r,o)=>`(${o+1}) ${r}`).join(" "),t=Ai.create("invalid-analytics-context",{errorInfo:e});Wn.warn(t.message)}}function J2(i,e,t){Z2();const r=i.options.appId;if(!r)throw Ai.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)Wn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ai.create("no-api-key");if(Ec[r]!=null)throw Ai.create("already-exists",{id:r});if(!bb){O2(im);const{wrappedGtag:l,gtagCore:d}=M2(Ec,yb,_b,im,W2);_x=l,Eb=d,bb=!0}return Ec[r]=Y2(i,yb,_b,e,Eb,im,t),new X2(i)}function eO(i,e,t,r){i=bt(i),K2(_x,Ec[i.app.options.appId],e,t,r).catch(o=>Wn.error(o))}const wb="@firebase/analytics",xb="0.10.12";function tO(){zi(new Ri(vb,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return J2(r,o,t)},"PUBLIC")),zi(new Ri("analytics-internal",i,"PRIVATE")),Xn(wb,xb),Xn(wb,xb,"esm2017");function i(e){try{const t=e.getProvider(vb).getImmediate();return{logEvent:(r,o,l)=>eO(t,r,o,l)}}catch(t){throw Ai.create("interop-component-reg-failed",{reason:t})}}}tO();var Tb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kr,Ex;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,S){function C(){}C.prototype=S.prototype,j.D=S.prototype,j.prototype=new C,j.prototype.constructor=j,j.C=function(P,M,z){for(var N=Array(arguments.length-2),he=2;he<arguments.length;he++)N[he-2]=arguments[he];return S.prototype[M].apply(P,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(j,S,C){C||(C=0);var P=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)P[M]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(M=0;16>M;++M)P[M]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=j.g[0],C=j.g[1],M=j.g[2];var z=j.g[3],N=S+(z^C&(M^z))+P[0]+3614090360&4294967295;S=C+(N<<7&4294967295|N>>>25),N=z+(M^S&(C^M))+P[1]+3905402710&4294967295,z=S+(N<<12&4294967295|N>>>20),N=M+(C^z&(S^C))+P[2]+606105819&4294967295,M=z+(N<<17&4294967295|N>>>15),N=C+(S^M&(z^S))+P[3]+3250441966&4294967295,C=M+(N<<22&4294967295|N>>>10),N=S+(z^C&(M^z))+P[4]+4118548399&4294967295,S=C+(N<<7&4294967295|N>>>25),N=z+(M^S&(C^M))+P[5]+1200080426&4294967295,z=S+(N<<12&4294967295|N>>>20),N=M+(C^z&(S^C))+P[6]+2821735955&4294967295,M=z+(N<<17&4294967295|N>>>15),N=C+(S^M&(z^S))+P[7]+4249261313&4294967295,C=M+(N<<22&4294967295|N>>>10),N=S+(z^C&(M^z))+P[8]+1770035416&4294967295,S=C+(N<<7&4294967295|N>>>25),N=z+(M^S&(C^M))+P[9]+2336552879&4294967295,z=S+(N<<12&4294967295|N>>>20),N=M+(C^z&(S^C))+P[10]+4294925233&4294967295,M=z+(N<<17&4294967295|N>>>15),N=C+(S^M&(z^S))+P[11]+2304563134&4294967295,C=M+(N<<22&4294967295|N>>>10),N=S+(z^C&(M^z))+P[12]+1804603682&4294967295,S=C+(N<<7&4294967295|N>>>25),N=z+(M^S&(C^M))+P[13]+4254626195&4294967295,z=S+(N<<12&4294967295|N>>>20),N=M+(C^z&(S^C))+P[14]+2792965006&4294967295,M=z+(N<<17&4294967295|N>>>15),N=C+(S^M&(z^S))+P[15]+1236535329&4294967295,C=M+(N<<22&4294967295|N>>>10),N=S+(M^z&(C^M))+P[1]+4129170786&4294967295,S=C+(N<<5&4294967295|N>>>27),N=z+(C^M&(S^C))+P[6]+3225465664&4294967295,z=S+(N<<9&4294967295|N>>>23),N=M+(S^C&(z^S))+P[11]+643717713&4294967295,M=z+(N<<14&4294967295|N>>>18),N=C+(z^S&(M^z))+P[0]+3921069994&4294967295,C=M+(N<<20&4294967295|N>>>12),N=S+(M^z&(C^M))+P[5]+3593408605&4294967295,S=C+(N<<5&4294967295|N>>>27),N=z+(C^M&(S^C))+P[10]+38016083&4294967295,z=S+(N<<9&4294967295|N>>>23),N=M+(S^C&(z^S))+P[15]+3634488961&4294967295,M=z+(N<<14&4294967295|N>>>18),N=C+(z^S&(M^z))+P[4]+3889429448&4294967295,C=M+(N<<20&4294967295|N>>>12),N=S+(M^z&(C^M))+P[9]+568446438&4294967295,S=C+(N<<5&4294967295|N>>>27),N=z+(C^M&(S^C))+P[14]+3275163606&4294967295,z=S+(N<<9&4294967295|N>>>23),N=M+(S^C&(z^S))+P[3]+4107603335&4294967295,M=z+(N<<14&4294967295|N>>>18),N=C+(z^S&(M^z))+P[8]+1163531501&4294967295,C=M+(N<<20&4294967295|N>>>12),N=S+(M^z&(C^M))+P[13]+2850285829&4294967295,S=C+(N<<5&4294967295|N>>>27),N=z+(C^M&(S^C))+P[2]+4243563512&4294967295,z=S+(N<<9&4294967295|N>>>23),N=M+(S^C&(z^S))+P[7]+1735328473&4294967295,M=z+(N<<14&4294967295|N>>>18),N=C+(z^S&(M^z))+P[12]+2368359562&4294967295,C=M+(N<<20&4294967295|N>>>12),N=S+(C^M^z)+P[5]+4294588738&4294967295,S=C+(N<<4&4294967295|N>>>28),N=z+(S^C^M)+P[8]+2272392833&4294967295,z=S+(N<<11&4294967295|N>>>21),N=M+(z^S^C)+P[11]+1839030562&4294967295,M=z+(N<<16&4294967295|N>>>16),N=C+(M^z^S)+P[14]+4259657740&4294967295,C=M+(N<<23&4294967295|N>>>9),N=S+(C^M^z)+P[1]+2763975236&4294967295,S=C+(N<<4&4294967295|N>>>28),N=z+(S^C^M)+P[4]+1272893353&4294967295,z=S+(N<<11&4294967295|N>>>21),N=M+(z^S^C)+P[7]+4139469664&4294967295,M=z+(N<<16&4294967295|N>>>16),N=C+(M^z^S)+P[10]+3200236656&4294967295,C=M+(N<<23&4294967295|N>>>9),N=S+(C^M^z)+P[13]+681279174&4294967295,S=C+(N<<4&4294967295|N>>>28),N=z+(S^C^M)+P[0]+3936430074&4294967295,z=S+(N<<11&4294967295|N>>>21),N=M+(z^S^C)+P[3]+3572445317&4294967295,M=z+(N<<16&4294967295|N>>>16),N=C+(M^z^S)+P[6]+76029189&4294967295,C=M+(N<<23&4294967295|N>>>9),N=S+(C^M^z)+P[9]+3654602809&4294967295,S=C+(N<<4&4294967295|N>>>28),N=z+(S^C^M)+P[12]+3873151461&4294967295,z=S+(N<<11&4294967295|N>>>21),N=M+(z^S^C)+P[15]+530742520&4294967295,M=z+(N<<16&4294967295|N>>>16),N=C+(M^z^S)+P[2]+3299628645&4294967295,C=M+(N<<23&4294967295|N>>>9),N=S+(M^(C|~z))+P[0]+4096336452&4294967295,S=C+(N<<6&4294967295|N>>>26),N=z+(C^(S|~M))+P[7]+1126891415&4294967295,z=S+(N<<10&4294967295|N>>>22),N=M+(S^(z|~C))+P[14]+2878612391&4294967295,M=z+(N<<15&4294967295|N>>>17),N=C+(z^(M|~S))+P[5]+4237533241&4294967295,C=M+(N<<21&4294967295|N>>>11),N=S+(M^(C|~z))+P[12]+1700485571&4294967295,S=C+(N<<6&4294967295|N>>>26),N=z+(C^(S|~M))+P[3]+2399980690&4294967295,z=S+(N<<10&4294967295|N>>>22),N=M+(S^(z|~C))+P[10]+4293915773&4294967295,M=z+(N<<15&4294967295|N>>>17),N=C+(z^(M|~S))+P[1]+2240044497&4294967295,C=M+(N<<21&4294967295|N>>>11),N=S+(M^(C|~z))+P[8]+1873313359&4294967295,S=C+(N<<6&4294967295|N>>>26),N=z+(C^(S|~M))+P[15]+4264355552&4294967295,z=S+(N<<10&4294967295|N>>>22),N=M+(S^(z|~C))+P[6]+2734768916&4294967295,M=z+(N<<15&4294967295|N>>>17),N=C+(z^(M|~S))+P[13]+1309151649&4294967295,C=M+(N<<21&4294967295|N>>>11),N=S+(M^(C|~z))+P[4]+4149444226&4294967295,S=C+(N<<6&4294967295|N>>>26),N=z+(C^(S|~M))+P[11]+3174756917&4294967295,z=S+(N<<10&4294967295|N>>>22),N=M+(S^(z|~C))+P[2]+718787259&4294967295,M=z+(N<<15&4294967295|N>>>17),N=C+(z^(M|~S))+P[9]+3951481745&4294967295,j.g[0]=j.g[0]+S&4294967295,j.g[1]=j.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,j.g[2]=j.g[2]+M&4294967295,j.g[3]=j.g[3]+z&4294967295}r.prototype.u=function(j,S){S===void 0&&(S=j.length);for(var C=S-this.blockSize,P=this.B,M=this.h,z=0;z<S;){if(M==0)for(;z<=C;)o(this,j,z),z+=this.blockSize;if(typeof j=="string"){for(;z<S;)if(P[M++]=j.charCodeAt(z++),M==this.blockSize){o(this,P),M=0;break}}else for(;z<S;)if(P[M++]=j[z++],M==this.blockSize){o(this,P),M=0;break}}this.h=M,this.o+=S},r.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var S=1;S<j.length-8;++S)j[S]=0;var C=8*this.o;for(S=j.length-8;S<j.length;++S)j[S]=C&255,C/=256;for(this.u(j),j=Array(16),S=C=0;4>S;++S)for(var P=0;32>P;P+=8)j[C++]=this.g[S]>>>P&255;return j};function l(j,S){var C=p;return Object.prototype.hasOwnProperty.call(C,j)?C[j]:C[j]=S(j)}function d(j,S){this.h=S;for(var C=[],P=!0,M=j.length-1;0<=M;M--){var z=j[M]|0;P&&z==S||(C[M]=z,P=!1)}this.g=C}var p={};function f(j){return-128<=j&&128>j?l(j,function(S){return new d([S|0],0>S?-1:0)}):new d([j|0],0>j?-1:0)}function m(j){if(isNaN(j)||!isFinite(j))return b;if(0>j)return L(m(-j));for(var S=[],C=1,P=0;j>=C;P++)S[P]=j/C|0,C*=4294967296;return new d(S,0)}function y(j,S){if(j.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(j.charAt(0)=="-")return L(y(j.substring(1),S));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=m(Math.pow(S,8)),P=b,M=0;M<j.length;M+=8){var z=Math.min(8,j.length-M),N=parseInt(j.substring(M,M+z),S);8>z?(z=m(Math.pow(S,z)),P=P.j(z).add(m(N))):(P=P.j(C),P=P.add(m(N)))}return P}var b=f(0),x=f(1),R=f(16777216);i=d.prototype,i.m=function(){if(U(this))return-L(this).m();for(var j=0,S=1,C=0;C<this.g.length;C++){var P=this.i(C);j+=(0<=P?P:4294967296+P)*S,S*=4294967296}return j},i.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(I(this))return"0";if(U(this))return"-"+L(this).toString(j);for(var S=m(Math.pow(j,6)),C=this,P="";;){var M=ce(C,S).g;C=H(C,M.j(S));var z=((0<C.g.length?C.g[0]:C.h)>>>0).toString(j);if(C=M,I(C))return z+P;for(;6>z.length;)z="0"+z;P=z+P}},i.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function I(j){if(j.h!=0)return!1;for(var S=0;S<j.g.length;S++)if(j.g[S]!=0)return!1;return!0}function U(j){return j.h==-1}i.l=function(j){return j=H(this,j),U(j)?-1:I(j)?0:1};function L(j){for(var S=j.g.length,C=[],P=0;P<S;P++)C[P]=~j.g[P];return new d(C,~j.h).add(x)}i.abs=function(){return U(this)?L(this):this},i.add=function(j){for(var S=Math.max(this.g.length,j.g.length),C=[],P=0,M=0;M<=S;M++){var z=P+(this.i(M)&65535)+(j.i(M)&65535),N=(z>>>16)+(this.i(M)>>>16)+(j.i(M)>>>16);P=N>>>16,z&=65535,N&=65535,C[M]=N<<16|z}return new d(C,C[C.length-1]&-2147483648?-1:0)};function H(j,S){return j.add(L(S))}i.j=function(j){if(I(this)||I(j))return b;if(U(this))return U(j)?L(this).j(L(j)):L(L(this).j(j));if(U(j))return L(this.j(L(j)));if(0>this.l(R)&&0>j.l(R))return m(this.m()*j.m());for(var S=this.g.length+j.g.length,C=[],P=0;P<2*S;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(var M=0;M<j.g.length;M++){var z=this.i(P)>>>16,N=this.i(P)&65535,he=j.i(M)>>>16,W=j.i(M)&65535;C[2*P+2*M]+=N*W,ne(C,2*P+2*M),C[2*P+2*M+1]+=z*W,ne(C,2*P+2*M+1),C[2*P+2*M+1]+=N*he,ne(C,2*P+2*M+1),C[2*P+2*M+2]+=z*he,ne(C,2*P+2*M+2)}for(P=0;P<S;P++)C[P]=C[2*P+1]<<16|C[2*P];for(P=S;P<2*S;P++)C[P]=0;return new d(C,0)};function ne(j,S){for(;(j[S]&65535)!=j[S];)j[S+1]+=j[S]>>>16,j[S]&=65535,S++}function K(j,S){this.g=j,this.h=S}function ce(j,S){if(I(S))throw Error("division by zero");if(I(j))return new K(b,b);if(U(j))return S=ce(L(j),S),new K(L(S.g),L(S.h));if(U(S))return S=ce(j,L(S)),new K(L(S.g),S.h);if(30<j.g.length){if(U(j)||U(S))throw Error("slowDivide_ only works with positive integers.");for(var C=x,P=S;0>=P.l(j);)C=fe(C),P=fe(P);var M=be(C,1),z=be(P,1);for(P=be(P,2),C=be(C,2);!I(P);){var N=z.add(P);0>=N.l(j)&&(M=M.add(C),z=N),P=be(P,1),C=be(C,1)}return S=H(j,M.j(S)),new K(M,S)}for(M=b;0<=j.l(S);){for(C=Math.max(1,Math.floor(j.m()/S.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),z=m(C),N=z.j(S);U(N)||0<N.l(j);)C-=P,z=m(C),N=z.j(S);I(z)&&(z=x),M=M.add(z),j=H(j,N)}return new K(M,j)}i.A=function(j){return ce(this,j).h},i.and=function(j){for(var S=Math.max(this.g.length,j.g.length),C=[],P=0;P<S;P++)C[P]=this.i(P)&j.i(P);return new d(C,this.h&j.h)},i.or=function(j){for(var S=Math.max(this.g.length,j.g.length),C=[],P=0;P<S;P++)C[P]=this.i(P)|j.i(P);return new d(C,this.h|j.h)},i.xor=function(j){for(var S=Math.max(this.g.length,j.g.length),C=[],P=0;P<S;P++)C[P]=this.i(P)^j.i(P);return new d(C,this.h^j.h)};function fe(j){for(var S=j.g.length+1,C=[],P=0;P<S;P++)C[P]=j.i(P)<<1|j.i(P-1)>>>31;return new d(C,j.h)}function be(j,S){var C=S>>5;S%=32;for(var P=j.g.length-C,M=[],z=0;z<P;z++)M[z]=0<S?j.i(z+C)>>>S|j.i(z+C+1)<<32-S:j.i(z+C);return new d(M,j.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ex=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=m,d.fromString=y,kr=d}).apply(typeof Tb<"u"?Tb:typeof self<"u"?self:typeof window<"u"?window:{});var yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bx,pc,wx,Dd,Tm,xx,Tx,Ax;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,_,E){return u==Array.prototype||u==Object.prototype||(u[_]=E.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof yd=="object"&&yd];for(var _=0;_<u.length;++_){var E=u[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function o(u,_){if(_)e:{var E=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var F=u[A];if(!(F in E))break e;E=E[F]}u=u[u.length-1],A=E[u],_=_(A),_!=A&&_!=null&&e(E,u,{configurable:!0,writable:!0,value:_})}}function l(u,_){u instanceof String&&(u+="");var E=0,A=!1,F={next:function(){if(!A&&E<u.length){var Z=E++;return{value:_(Z,u[Z]),done:!1}}return A=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(u){return u||function(){return l(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function f(u){var _=typeof u;return _=_!="object"?_:u?Array.isArray(u)?"array":_:"null",_=="array"||_=="object"&&typeof u.length=="number"}function m(u){var _=typeof u;return _=="object"&&u!=null||_=="function"}function y(u,_,E){return u.call.apply(u.bind,arguments)}function b(u,_,E){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,A),u.apply(_,F)}}return function(){return u.apply(_,arguments)}}function x(u,_,E){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:b,x.apply(null,arguments)}function R(u,_){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function I(u,_){function E(){}E.prototype=_.prototype,u.aa=_.prototype,u.prototype=new E,u.prototype.constructor=u,u.Qb=function(A,F,Z){for(var pe=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)pe[Xe-2]=arguments[Xe];return _.prototype[F].apply(A,pe)}}function U(u){const _=u.length;if(0<_){const E=Array(_);for(let A=0;A<_;A++)E[A]=u[A];return E}return[]}function L(u,_){for(let E=1;E<arguments.length;E++){const A=arguments[E];if(f(A)){const F=u.length||0,Z=A.length||0;u.length=F+Z;for(let pe=0;pe<Z;pe++)u[F+pe]=A[pe]}else u.push(A)}}class H{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function ne(u){return/^[\s\xa0]*$/.test(u)}function K(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function ce(u){return ce[" "](u),u}ce[" "]=function(){};var fe=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function be(u,_,E){for(const A in u)_.call(E,u[A],A,u)}function j(u,_){for(const E in u)_.call(void 0,u[E],E,u)}function S(u){const _={};for(const E in u)_[E]=u[E];return _}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,_){let E,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(E in A)u[E]=A[E];for(let Z=0;Z<C.length;Z++)E=C[Z],Object.prototype.hasOwnProperty.call(A,E)&&(u[E]=A[E])}}function M(u){var _=1;u=u.split(":");const E=[];for(;0<_&&u.length;)E.push(u.shift()),_--;return u.length&&E.push(u.join(":")),E}function z(u){p.setTimeout(()=>{throw u},0)}function N(){var u=ee;let _=null;return u.g&&(_=u.g,u.g=u.g.next,u.g||(u.h=null),_.next=null),_}class he{constructor(){this.h=this.g=null}add(_,E){const A=W.get();A.set(_,E),this.h?this.h.next=A:this.g=A,this.h=A}}var W=new H(()=>new G,u=>u.reset());class G{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,ue=!1,ee=new he,D=()=>{const u=p.Promise.resolve(void 0);ie=()=>{u.then(Q)}};var Q=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(E){z(E)}var _=W;_.j(u),100>_.h&&(_.h++,u.next=_.g,_.g=u)}ue=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(u,_){this.type=u,this.g=this.target=_,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,_=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};p.addEventListener("test",E,_),p.removeEventListener("test",E,_)}catch{}return u}();function De(u,_){if(J.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var E=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=_,_=u.relatedTarget){if(fe){e:{try{ce(_.nodeName);var F=!0;break e}catch{}F=!1}F||(_=null)}}else E=="mouseover"?_=u.fromElement:E=="mouseout"&&(_=u.toElement);this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:we[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&De.aa.h.call(this)}}I(De,J);var we={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var yt="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function Zt(u,_,E,A,F){this.listener=u,this.proxy=null,this.src=_,this.type=E,this.capture=!!A,this.ha=F,this.key=++Ke,this.da=this.fa=!1}function bn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Dt(u){this.src=u,this.g={},this.h=0}Dt.prototype.add=function(u,_,E,A,F){var Z=u.toString();u=this.g[Z],u||(u=this.g[Z]=[],this.h++);var pe=cn(u,_,A,F);return-1<pe?(_=u[pe],E||(_.fa=!1)):(_=new Zt(_,this.src,Z,!!A,F),_.fa=E,u.push(_)),_};function _t(u,_){var E=_.type;if(E in u.g){var A=u.g[E],F=Array.prototype.indexOf.call(A,_,void 0),Z;(Z=0<=F)&&Array.prototype.splice.call(A,F,1),Z&&(bn(_),u.g[E].length==0&&(delete u.g[E],u.h--))}}function cn(u,_,E,A){for(var F=0;F<u.length;++F){var Z=u[F];if(!Z.da&&Z.listener==_&&Z.capture==!!E&&Z.ha==A)return F}return-1}var Jt="closure_lm_"+(1e6*Math.random()|0),Zn={};function wn(u,_,E,A,F){if(Array.isArray(_)){for(var Z=0;Z<_.length;Z++)wn(u,_[Z],E,A,F);return null}return E=Se(E),u&&u[yt]?u.K(_,E,m(A)?!!A.capture:!1,F):gt(u,_,E,!1,A,F)}function gt(u,_,E,A,F,Z){if(!_)throw Error("Invalid event type");var pe=m(F)?!!F.capture:!!F,Xe=Ni(u);if(Xe||(u[Jt]=Xe=new Dt(u)),E=Xe.add(_,E,A,pe,Z),E.proxy)return E;if(A=un(),E.proxy=A,A.src=u,A.listener=E,u.addEventListener)me||(F=pe),F===void 0&&(F=!1),u.addEventListener(_.toString(),A,F);else if(u.attachEvent)u.attachEvent(en(_.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function un(){function u(E){return _.call(u.src,u.listener,E)}const _=Vn;return u}function On(u,_,E,A,F){if(Array.isArray(_))for(var Z=0;Z<_.length;Z++)On(u,_[Z],E,A,F);else A=m(A)?!!A.capture:!!A,E=Se(E),u&&u[yt]?(u=u.i,_=String(_).toString(),_ in u.g&&(Z=u.g[_],E=cn(Z,E,A,F),-1<E&&(bn(Z[E]),Array.prototype.splice.call(Z,E,1),Z.length==0&&(delete u.g[_],u.h--)))):u&&(u=Ni(u))&&(_=u.g[_.toString()],u=-1,_&&(u=cn(_,E,A,F)),(E=-1<u?_[u]:null)&&xn(E))}function xn(u){if(typeof u!="number"&&u&&!u.da){var _=u.src;if(_&&_[yt])_t(_.i,u);else{var E=u.type,A=u.proxy;_.removeEventListener?_.removeEventListener(E,A,u.capture):_.detachEvent?_.detachEvent(en(E),A):_.addListener&&_.removeListener&&_.removeListener(A),(E=Ni(_))?(_t(E,u),E.h==0&&(E.src=null,_[Jt]=null)):bn(u)}}}function en(u){return u in Zn?Zn[u]:Zn[u]="on"+u}function Vn(u,_){if(u.da)u=!0;else{_=new De(_,this);var E=u.listener,A=u.ha||u.src;u.fa&&xn(u),u=E.call(A,_)}return u}function Ni(u){return u=u[Jt],u instanceof Dt?u:null}var ge="__closure_events_fn_"+(1e9*Math.random()>>>0);function Se(u){return typeof u=="function"?u:(u[ge]||(u[ge]=function(_){return u.handleEvent(_)}),u[ge])}function Le(){oe.call(this),this.i=new Dt(this),this.M=this,this.F=null}I(Le,oe),Le.prototype[yt]=!0,Le.prototype.removeEventListener=function(u,_,E,A){On(this,u,_,E,A)};function Ce(u,_){var E,A=u.F;if(A)for(E=[];A;A=A.F)E.push(A);if(u=u.M,A=_.type||_,typeof _=="string")_=new J(_,u);else if(_ instanceof J)_.target=_.target||u;else{var F=_;_=new J(A,u),P(_,F)}if(F=!0,E)for(var Z=E.length-1;0<=Z;Z--){var pe=_.g=E[Z];F=at(pe,A,!0,_)&&F}if(pe=_.g=u,F=at(pe,A,!0,_)&&F,F=at(pe,A,!1,_)&&F,E)for(Z=0;Z<E.length;Z++)pe=_.g=E[Z],F=at(pe,A,!1,_)&&F}Le.prototype.N=function(){if(Le.aa.N.call(this),this.i){var u=this.i,_;for(_ in u.g){for(var E=u.g[_],A=0;A<E.length;A++)bn(E[A]);delete u.g[_],u.h--}}this.F=null},Le.prototype.K=function(u,_,E,A){return this.i.add(String(u),_,!1,E,A)},Le.prototype.L=function(u,_,E,A){return this.i.add(String(u),_,!0,E,A)};function at(u,_,E,A){if(_=u.i.g[String(_)],!_)return!0;_=_.concat();for(var F=!0,Z=0;Z<_.length;++Z){var pe=_[Z];if(pe&&!pe.da&&pe.capture==E){var Xe=pe.listener,Kt=pe.ha||pe.src;pe.fa&&_t(u.i,pe),F=Xe.call(Kt,A)!==!1&&F}}return F&&!A.defaultPrevented}function ft(u,_,E){if(typeof u=="function")E&&(u=x(u,E));else if(u&&typeof u.handleEvent=="function")u=x(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:p.setTimeout(u,_||0)}function Tn(u){u.g=ft(()=>{u.g=null,u.i&&(u.i=!1,Tn(u))},u.l);const _=u.h;u.h=null,u.m.apply(null,_)}class Xa extends oe{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Tn(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Un(u){oe.call(this),this.h=u,this.g={}}I(Un,oe);var Jn=[];function zn(u){be(u.g,function(_,E){this.g.hasOwnProperty(E)&&xn(_)},u),u.g={}}Un.prototype.N=function(){Un.aa.N.call(this),zn(this)},Un.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tn=p.JSON.stringify,ei=p.JSON.parse,Bn=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function hi(){}hi.prototype.h=null;function ye(u){return u.h||(u.h=u.i())}function de(){}var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Re(){J.call(this,"d")}I(Re,J);function ke(){J.call(this,"c")}I(ke,J);var Ue={},st=null;function Fn(){return st=st||new Le}Ue.La="serverreachability";function Wa(u){J.call(this,Ue.La,u)}I(Wa,J);function Za(u){const _=Fn();Ce(_,new Wa(_))}Ue.STAT_EVENT="statevent";function Yc(u,_){J.call(this,Ue.STAT_EVENT,u),this.stat=_}I(Yc,J);function wt(u){const _=Fn();Ce(_,new Yc(_,u))}Ue.Ma="timingevent";function $t(u,_){J.call(this,Ue.Ma,u),this.size=_}I($t,J);function zt(u,_){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},_)}function fi(){this.g=!0}fi.prototype.xa=function(){this.g=!1};function ll(u,_,E,A,F,Z){u.info(function(){if(u.g)if(Z)for(var pe="",Xe=Z.split("&"),Kt=0;Kt<Xe.length;Kt++){var We=Xe[Kt].split("=");if(1<We.length){var an=We[0];We=We[1];var Qt=an.split("_");pe=2<=Qt.length&&Qt[1]=="type"?pe+(an+"="+We+"&"):pe+(an+"=redacted&")}}else pe=null;else pe=Z;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+_+`
`+E+`
`+pe})}function Fh(u,_,E,A,F,Z,pe){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+_+`
`+E+`
`+Z+" "+pe})}function Ja(u,_,E,A){u.info(function(){return"XMLHTTP TEXT ("+_+"): "+Kr(u,E)+(A?" "+A:"")})}function Xc(u,_){u.info(function(){return"TIMEOUT: "+_})}fi.prototype.info=function(){};function Kr(u,_){if(!u.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(u=0;u<E.length;u++)if(Array.isArray(E[u])){var A=E[u];if(!(2>A.length)){var F=A[1];if(Array.isArray(F)&&!(1>F.length)){var Z=F[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var pe=1;pe<F.length;pe++)F[pe]=""}}}}return tn(E)}catch{return _}}var er={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},va={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hi;function Gi(){}I(Gi,hi),Gi.prototype.g=function(){return new XMLHttpRequest},Gi.prototype.i=function(){return{}},Hi=new Gi;function kn(u,_,E,A){this.j=u,this.i=_,this.l=E,this.R=A||1,this.U=new Un(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mt}function Mt(){this.i=null,this.g="",this.h=!1}var cl={},zs={};function Di(u,_,E){u.L=1,u.v=Zr(ti(_)),u.m=E,u.P=!0,ya(u,null)}function ya(u,_){u.F=Date.now(),Qr(u),u.A=ti(u.v);var E=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),ml(E.i,"t",A),u.C=0,E=u.j.J,u.h=new Mt,u.g=hu(u.j,E?_:null,!u.m),0<u.O&&(u.M=new Xa(x(u.Y,u,u.g),u.O)),_=u.U,E=u.g,A=u.ca;var F="readystatechange";Array.isArray(F)||(F&&(Jn[0]=F.toString()),F=Jn);for(var Z=0;Z<F.length;Z++){var pe=wn(E,F[Z],A||_.handleEvent,!1,_.h||_);if(!pe)break;_.g[pe.key]=pe}_=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,_)):(u.u="GET",u.g.ea(u.A,u.u,null,_)),Za(),ll(u.i,u.u,u.A,u.l,u.R,u.m)}kn.prototype.ca=function(u){u=u.target;const _=this.M;_&&vi(u)==3?_.j():this.Y(u)},kn.prototype.Y=function(u){try{if(u==this.g)e:{const Qt=vi(this.g);var _=this.g.Ba();const Sa=this.g.Z();if(!(3>Qt)&&(Qt!=3||this.g&&(this.h.h||this.g.oa()||au(this.g)))){this.J||Qt!=4||_==7||(_==8||0>=Sa?Za(3):Za(2)),tr(this);var E=this.g.Z();this.X=E;t:if(Wc(this)){var A=au(this.g);u="";var F=A.length,Z=vi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),$i(this);var pe="";break t}this.h.i=new p.TextDecoder}for(_=0;_<F;_++)this.h.h=!0,u+=this.h.i.decode(A[_],{stream:!(Z&&_==F-1)});A.length=0,this.h.g+=u,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=E==200,Fh(this.i,this.u,this.A,this.l,this.R,Qt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,Kt=this.g;if((Xe=Kt.g?Kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(Xe)){var We=Xe;break t}}We=null}if(E=We)Ja(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yr(this,E);else{this.o=!1,this.s=3,wt(12),dn(this),$i(this);break e}}if(this.P){E=!0;let hn;for(;!this.J&&this.C<pe.length;)if(hn=Zc(this,pe),hn==zs){Qt==4&&(this.s=4,wt(14),E=!1),Ja(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==cl){this.s=4,wt(15),Ja(this.i,this.l,pe,"[Invalid Chunk]"),E=!1;break}else Ja(this.i,this.l,hn,null),Yr(this,hn);if(Wc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qt!=4||pe.length!=0||this.h.h||(this.s=1,wt(16),E=!1),this.o=this.o&&E,!E)Ja(this.i,this.l,pe,"[Invalid Chunked Response]"),dn(this),$i(this);else if(0<pe.length&&!this.W){this.W=!0;var an=this.j;an.g==this&&an.ba&&!an.M&&(an.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),ss(an),an.M=!0,wt(11))}}else Ja(this.i,this.l,pe,null),Yr(this,pe);Qt==4&&dn(this),this.o&&!this.J&&(Qt==4?cu(this.j,this):(this.o=!1,Qr(this)))}else Kh(this.g),E==400&&0<pe.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),dn(this),$i(this)}}}catch{}finally{}};function Wc(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Zc(u,_){var E=u.C,A=_.indexOf(`
`,E);return A==-1?zs:(E=Number(_.substring(E,A)),isNaN(E)?cl:(A+=1,A+E>_.length?zs:(_=_.slice(A,A+E),u.C=A+E,_)))}kn.prototype.cancel=function(){this.J=!0,dn(this)};function Qr(u){u.S=Date.now()+u.I,Jc(u,u.I)}function Jc(u,_){if(u.B!=null)throw Error("WatchDog timer not null");u.B=zt(x(u.ba,u),_)}function tr(u){u.B&&(p.clearTimeout(u.B),u.B=null)}kn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Xc(this.i,this.A),this.L!=2&&(Za(),wt(17)),dn(this),this.s=2,$i(this)):Jc(this,this.S-u)};function $i(u){u.j.G==0||u.J||cu(u.j,u)}function dn(u){tr(u);var _=u.M;_&&typeof _.ma=="function"&&_.ma(),u.M=null,zn(u.U),u.g&&(_=u.g,u.g=null,_.abort(),_.ma())}function Yr(u,_){try{var E=u.j;if(E.G!=0&&(E.g==u||ul(E.h,u))){if(!u.K&&ul(E.h,u)&&E.G==3){try{var A=E.Da.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<u.F)Zs(E),Xs(E);else break e;El(E),wt(18)}}else E.za=F[1],0<E.za-E.T&&37500>F[2]&&E.F&&E.v==0&&!E.C&&(E.C=zt(x(E.Za,E),6e3));if(1>=Fs(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Aa(E,11)}else if((u.K||E.g==u)&&Zs(E),!ne(_))for(F=E.Da.g.parse(_),_=0;_<F.length;_++){let We=F[_];if(E.T=We[0],We=We[1],E.G==2)if(We[0]=="c"){E.K=We[1],E.ia=We[2];const an=We[3];an!=null&&(E.la=an,E.j.info("VER="+E.la));const Qt=We[4];Qt!=null&&(E.Aa=Qt,E.j.info("SVER="+E.Aa));const Sa=We[5];Sa!=null&&typeof Sa=="number"&&0<Sa&&(A=1.5*Sa,E.L=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const hn=u.g;if(hn){const Ji=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ji){var Z=A.h;Z.g||Ji.indexOf("spdy")==-1&&Ji.indexOf("quic")==-1&&Ji.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(qs(Z,Z.h),Z.h=null))}if(A.D){const wl=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;wl&&(A.ya=wl,ct(A.I,A.D,wl))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-u.F,E.j.info("Handshake RTT: "+E.R+"ms")),A=E;var pe=u;if(A.qa=du(A,A.J?A.ia:null,A.W),pe.K){Pn(A.h,pe);var Xe=pe,Kt=A.L;Kt&&(Xe.I=Kt),Xe.B&&(tr(Xe),Qr(Xe)),A.g=pe}else ou(A);0<E.i.length&&Ws(E)}else We[0]!="stop"&&We[0]!="close"||Aa(E,7);else E.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Aa(E,7):yl(E):We[0]!="noop"&&E.l&&E.l.ta(We),E.v=0)}}Za(4)}catch{}}var eu=class{constructor(u,_){this.g=u,this.map=_}};function _a(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Bs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Fs(u){return u.h?1:u.g?u.g.size:0}function ul(u,_){return u.h?u.h==_:u.g?u.g.has(_):!1}function qs(u,_){u.g?u.g.add(_):u.h=_}function Pn(u,_){u.h&&u.h==_?u.h=null:u.g&&u.g.has(_)&&u.g.delete(_)}_a.prototype.cancel=function(){if(this.i=dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function dl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let _=u.i;for(const E of u.g.values())_=_.concat(E.D);return _}return U(u.i)}function qh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(f(u)){for(var _=[],E=u.length,A=0;A<E;A++)_.push(u[A]);return _}_=[],E=0;for(A in u)_[E++]=u[A];return _}function Hs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(f(u)||typeof u=="string"){var _=[];u=u.length;for(var E=0;E<u;E++)_.push(E);return _}_=[],E=0;for(const A in u)_[E++]=A;return _}}}function hl(u,_){if(u.forEach&&typeof u.forEach=="function")u.forEach(_,void 0);else if(f(u)||typeof u=="string")Array.prototype.forEach.call(u,_,void 0);else for(var E=Hs(u),A=qh(u),F=A.length,Z=0;Z<F;Z++)_.call(void 0,A[Z],E&&E[Z],u)}var Xr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hh(u,_){if(u){u=u.split("&");for(var E=0;E<u.length;E++){var A=u[E].indexOf("="),F=null;if(0<=A){var Z=u[E].substring(0,A);F=u[E].substring(A+1)}else Z=u[E];_(Z,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Bt(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Bt){this.h=u.h,Wr(this,u.j),this.o=u.o,this.g=u.g,nr(this,u.s),this.l=u.l;var _=u.i,E=new ba;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),Ea(this,E),this.m=u.m}else u&&(_=String(u).match(Xr))?(this.h=!1,Wr(this,_[1]||"",!0),this.o=pi(_[2]||""),this.g=pi(_[3]||"",!0),nr(this,_[4]),this.l=pi(_[5]||"",!0),Ea(this,_[6]||"",!0),this.m=pi(_[7]||"")):(this.h=!1,this.i=new ba(null,this.h))}Bt.prototype.toString=function(){var u=[],_=this.j;_&&u.push(Jr(_,fl,!0),":");var E=this.g;return(E||_=="file")&&(u.push("//"),(_=this.o)&&u.push(Jr(_,fl,!0),"@"),u.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&u.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(Jr(E,E.charAt(0)=="/"?Gh:pl,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",Jr(E,Gs)),u.join("")};function ti(u){return new Bt(u)}function Wr(u,_,E){u.j=E?pi(_,!0):_,u.j&&(u.j=u.j.replace(/:$/,""))}function nr(u,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);u.s=_}else u.s=null}function Ea(u,_,E){_ instanceof ba?(u.i=_,nu(u.i,u.h)):(E||(_=Jr(_,$h)),u.i=new ba(_,u.h))}function ct(u,_,E){u.i.set(_,E)}function Zr(u){return ct(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function pi(u,_){return u?_?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Jr(u,_,E){return typeof u=="string"?(u=encodeURI(u).replace(_,tu),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function tu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var fl=/[#\/\?@]/g,pl=/[#\?:]/g,Gh=/[#\?]/g,$h=/[#\?@]/g,Gs=/#/g;function ba(u,_){this.h=this.g=null,this.i=u||null,this.j=!!_}function mi(u){u.g||(u.g=new Map,u.h=0,u.i&&Hh(u.i,function(_,E){u.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}i=ba.prototype,i.add=function(u,_){mi(this),this.i=null,u=Ki(this,u);var E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(_),this.h+=1,this};function wa(u,_){mi(u),_=Ki(u,_),u.g.has(_)&&(u.i=null,u.h-=u.g.get(_).length,u.g.delete(_))}function xa(u,_){return mi(u),_=Ki(u,_),u.g.has(_)}i.forEach=function(u,_){mi(this),this.g.forEach(function(E,A){E.forEach(function(F){u.call(_,F,A,this)},this)},this)},i.na=function(){mi(this);const u=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let A=0;A<_.length;A++){const F=u[A];for(let Z=0;Z<F.length;Z++)E.push(_[A])}return E},i.V=function(u){mi(this);let _=[];if(typeof u=="string")xa(this,u)&&(_=_.concat(this.g.get(Ki(this,u))));else{u=Array.from(this.g.values());for(let E=0;E<u.length;E++)_=_.concat(u[E])}return _},i.set=function(u,_){return mi(this),this.i=null,u=Ki(this,u),xa(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[_]),this.h+=1,this},i.get=function(u,_){return u?(u=this.V(u),0<u.length?String(u[0]):_):_};function ml(u,_,E){wa(u,_),0<E.length&&(u.i=null,u.g.set(Ki(u,_),U(E)),u.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var A=_[E];const Z=encodeURIComponent(String(A)),pe=this.V(A);for(A=0;A<pe.length;A++){var F=Z;pe[A]!==""&&(F+="="+encodeURIComponent(String(pe[A]))),u.push(F)}}return this.i=u.join("&")};function Ki(u,_){return _=String(_),u.j&&(_=_.toLowerCase()),_}function nu(u,_){_&&!u.j&&(mi(u),u.i=null,u.g.forEach(function(E,A){var F=A.toLowerCase();A!=F&&(wa(this,A),ml(this,F,E))},u)),u.j=_}function es(u,_){const E=new fi;if(p.Image){const A=new Image;A.onload=R(gi,E,"TestLoadImage: loaded",!0,_,A),A.onerror=R(gi,E,"TestLoadImage: error",!1,_,A),A.onabort=R(gi,E,"TestLoadImage: abort",!1,_,A),A.ontimeout=R(gi,E,"TestLoadImage: timeout",!1,_,A),p.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else _(!1)}function Oi(u,_){const E=new fi,A=new AbortController,F=setTimeout(()=>{A.abort(),gi(E,"TestPingServer: timeout",!1,_)},1e4);fetch(u,{signal:A.signal}).then(Z=>{clearTimeout(F),Z.ok?gi(E,"TestPingServer: ok",!0,_):gi(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(F),gi(E,"TestPingServer: error",!1,_)})}function gi(u,_,E,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(E)}catch{}}function ts(){this.g=new Bn}function Qi(u,_,E){const A=E||"";try{hl(u,function(F,Z){let pe=F;m(F)&&(pe=tn(F)),_.push(A+Z+"="+encodeURIComponent(pe))})}catch(F){throw _.push(A+"type="+encodeURIComponent("_badmap")),F}}function ir(u){this.l=u.Ub||null,this.j=u.eb||!1}I(ir,hi),ir.prototype.g=function(){return new Ta(this.l,this.j)},ir.prototype.i=function(u){return function(){return u}}({});function Ta(u,_){Le.call(this),this.D=u,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Ta,Le),i=Ta.prototype,i.open=function(u,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=_,this.readyState=1,Xi(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(_.body=u),(this.D||p).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yi(this)),this.readyState=0},i.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xi(this)),this.g&&(this.readyState=3,Xi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function gl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}i.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var _=u.value?u.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!u.done}))&&(this.response=this.responseText+=_)}u.done?Yi(this):Xi(this),this.readyState==3&&gl(this)}},i.Ra=function(u){this.g&&(this.response=this.responseText=u,Yi(this))},i.Qa=function(u){this.g&&(this.response=u,Yi(this))},i.ga=function(){this.g&&Yi(this)};function Yi(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Xi(u)}i.setRequestHeader=function(u,_){this.u.append(u,_)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=_.next();return u.join(`\r
`)};function Xi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function vl(u){let _="";return be(u,function(E,A){_+=A,_+=":",_+=E,_+=`\r
`}),_}function nn(u,_,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=vl(E),typeof u=="string"?E!=null&&encodeURIComponent(String(E)):ct(u,_,E))}function rt(u){Le.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(rt,Le);var $s=/^https?$/i,ns=["POST","PUT"];i=rt.prototype,i.Ha=function(u){this.J=u},i.ea=function(u,_,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);_=_?_.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hi.g(),this.v=this.o?ye(this.o):ye(Hi),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(_,String(u),!0),this.B=!1}catch(Z){iu(this,Z);return}if(u=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)E.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Z of A.keys())E.set(Z,A.get(Z));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(Z=>Z.toLowerCase()=="content-type"),F=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(ns,_,void 0))||A||F||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,pe]of E)this.g.setRequestHeader(Z,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{is(this),this.u=!0,this.g.send(u),this.u=!1}catch(Z){iu(this,Z)}};function iu(u,_){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=_,u.m=5,Ks(u),Wi(u)}function Ks(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ce(this,"complete"),Ce(this,"abort"),Wi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wi(this,!0)),rt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Qs(this):this.bb())},i.bb=function(){Qs(this)};function Qs(u){if(u.h&&typeof d<"u"&&(!u.v[1]||vi(u)!=4||u.Z()!=2)){if(u.u&&vi(u)==4)ft(u.Ea,0,u);else if(Ce(u,"readystatechange"),vi(u)==4){u.h=!1;try{const pe=u.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var A;if(A=pe===0){var F=String(u.D).match(Xr)[1]||null;!F&&p.self&&p.self.location&&(F=p.self.location.protocol.slice(0,-1)),A=!$s.test(F?F.toLowerCase():"")}E=A}if(E)Ce(u,"complete"),Ce(u,"success");else{u.m=6;try{var Z=2<vi(u)?u.g.statusText:""}catch{Z=""}u.l=Z+" ["+u.Z()+"]",Ks(u)}}finally{Wi(u)}}}}function Wi(u,_){if(u.g){is(u);const E=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,_||Ce(u,"ready");try{E.onreadystatechange=A}catch{}}}function is(u){u.I&&(p.clearTimeout(u.I),u.I=null)}i.isActive=function(){return!!this.g};function vi(u){return u.g?u.g.readyState:0}i.Z=function(){try{return 2<vi(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(u){if(this.g){var _=this.g.responseText;return u&&_.indexOf(u)==0&&(_=_.substring(u.length)),ei(_)}};function au(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Kh(u){const _={};u=(u.g&&2<=vi(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(ne(u[A]))continue;var E=M(u[A]);const F=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Z=_[F]||[];_[F]=Z,Z.push(E)}j(_,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function as(u,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||_}function Ys(u){this.Aa=0,this.i=[],this.j=new fi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=as("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=as("baseRetryDelayMs",5e3,u),this.cb=as("retryDelaySeedMs",1e4,u),this.Wa=as("forwardChannelMaxRetries",2,u),this.wa=as("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new _a(u&&u.concurrentRequestLimit),this.Da=new ts,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ys.prototype,i.la=8,i.G=1,i.connect=function(u,_,E,A){wt(0),this.W=u,this.H=_||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.I=du(this,null,this.W),Ws(this)};function yl(u){if(ru(u),u.G==3){var _=u.U++,E=ti(u.I);if(ct(E,"SID",u.K),ct(E,"RID",_),ct(E,"TYPE","terminate"),rs(u,E),_=new kn(u,u.j,_),_.L=2,_.v=Zr(ti(E)),E=!1,p.navigator&&p.navigator.sendBeacon)try{E=p.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&p.Image&&(new Image().src=_.v,E=!0),E||(_.g=hu(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Qr(_)}uu(u)}function Xs(u){u.g&&(ss(u),u.g.cancel(),u.g=null)}function ru(u){Xs(u),u.u&&(p.clearTimeout(u.u),u.u=null),Zs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function Ws(u){if(!Bs(u.h)&&!u.s){u.s=!0;var _=u.Ga;ie||D(),ue||(ie(),ue=!0),ee.add(_,u),u.B=0}}function Qh(u,_){return Fs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=_.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=zt(x(u.Ga,u,_),bl(u,u.B)),u.B++,!0)}i.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const F=new kn(this,this.j,u);let Z=this.o;if(this.S&&(Z?(Z=S(Z),P(Z,this.S)):Z=this.S),this.m!==null||this.O||(F.H=Z,Z=null),this.P)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,4096<_){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=su(this,F,_),E=ti(this.I),ct(E,"RID",u),ct(E,"CVER",22),this.D&&ct(E,"X-HTTP-Session-Id",this.D),rs(this,E),Z&&(this.O?_="headers="+encodeURIComponent(String(vl(Z)))+"&"+_:this.m&&nn(E,this.m,Z)),qs(this.h,F),this.Ua&&ct(E,"TYPE","init"),this.P?(ct(E,"$req",_),ct(E,"SID","null"),F.T=!0,Di(F,E,null)):Di(F,E,_),this.G=2}}else this.G==3&&(u?_l(this,u):this.i.length==0||Bs(this.h)||_l(this))};function _l(u,_){var E;_?E=_.l:E=u.U++;const A=ti(u.I);ct(A,"SID",u.K),ct(A,"RID",E),ct(A,"AID",u.T),rs(u,A),u.m&&u.o&&nn(A,u.m,u.o),E=new kn(u,u.j,E,u.B+1),u.m===null&&(E.H=u.o),_&&(u.i=_.D.concat(u.i)),_=su(u,E,1e3),E.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),qs(u.h,E),Di(E,A,_)}function rs(u,_){u.H&&be(u.H,function(E,A){ct(_,A,E)}),u.l&&hl({},function(E,A){ct(_,A,E)})}function su(u,_,E){E=Math.min(u.i.length,E);var A=u.l?x(u.l.Na,u.l,u):null;e:{var F=u.i;let Z=-1;for(;;){const pe=["count="+E];Z==-1?0<E?(Z=F[0].g,pe.push("ofs="+Z)):Z=0:pe.push("ofs="+Z);let Xe=!0;for(let Kt=0;Kt<E;Kt++){let We=F[Kt].g;const an=F[Kt].map;if(We-=Z,0>We)Z=Math.max(0,F[Kt].g-100),Xe=!1;else try{Qi(an,pe,"req"+We+"_")}catch{A&&A(an)}}if(Xe){A=pe.join("&");break e}}}return u=u.i.splice(0,E),_.D=u,A}function ou(u){if(!u.g&&!u.u){u.Y=1;var _=u.Fa;ie||D(),ue||(ie(),ue=!0),ee.add(_,u),u.v=0}}function El(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=zt(x(u.Fa,u),bl(u,u.v)),u.v++,!0)}i.Fa=function(){if(this.u=null,lu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=zt(x(this.ab,this),u)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),Xs(this),lu(this))};function ss(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function lu(u){u.g=new kn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var _=ti(u.qa);ct(_,"RID","rpc"),ct(_,"SID",u.K),ct(_,"AID",u.T),ct(_,"CI",u.F?"0":"1"),!u.F&&u.ja&&ct(_,"TO",u.ja),ct(_,"TYPE","xmlhttp"),rs(u,_),u.m&&u.o&&nn(_,u.m,u.o),u.L&&(u.g.I=u.L);var E=u.g;u=u.ia,E.L=1,E.v=Zr(ti(_)),E.m=null,E.P=!0,ya(E,u)}i.Za=function(){this.C!=null&&(this.C=null,Xs(this),El(this),wt(19))};function Zs(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function cu(u,_){var E=null;if(u.g==_){Zs(u),ss(u),u.g=null;var A=2}else if(ul(u.h,_))E=_.D,Pn(u.h,_),A=1;else return;if(u.G!=0){if(_.o)if(A==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var F=u.B;A=Fn(),Ce(A,new $t(A,E)),Ws(u)}else ou(u);else if(F=_.s,F==3||F==0&&0<_.X||!(A==1&&Qh(u,_)||A==2&&El(u)))switch(E&&0<E.length&&(_=u.h,_.i=_.i.concat(E)),F){case 1:Aa(u,5);break;case 4:Aa(u,10);break;case 3:Aa(u,6);break;default:Aa(u,2)}}}function bl(u,_){let E=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(E*=2),E*_}function Aa(u,_){if(u.j.info("Error code "+_),_==2){var E=x(u.fb,u),A=u.Xa;const F=!A;A=new Bt(A||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Wr(A,"https"),Zr(A),F?es(A.toString(),E):Oi(A.toString(),E)}else wt(2);u.G=0,u.l&&u.l.sa(_),uu(u),ru(u)}i.fb=function(u){u?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function uu(u){if(u.G=0,u.ka=[],u.l){const _=dl(u.h);(_.length!=0||u.i.length!=0)&&(L(u.ka,_),L(u.ka,u.i),u.h.i.length=0,U(u.i),u.i.length=0),u.l.ra()}}function du(u,_,E){var A=E instanceof Bt?ti(E):new Bt(E);if(A.g!="")_&&(A.g=_+"."+A.g),nr(A,A.s);else{var F=p.location;A=F.protocol,_=_?_+"."+F.hostname:F.hostname,F=+F.port;var Z=new Bt(null);A&&Wr(Z,A),_&&(Z.g=_),F&&nr(Z,F),E&&(Z.l=E),A=Z}return E=u.D,_=u.ya,E&&_&&ct(A,E,_),ct(A,"VER",u.la),rs(u,A),A}function hu(u,_,E){if(_&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=u.Ca&&!u.pa?new rt(new ir({eb:E})):new rt(u.pa),_.Ha(u.J),_}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function fu(){}i=fu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Js(){}Js.prototype.g=function(u,_){return new jn(u,_)};function jn(u,_){Le.call(this),this.g=new Ys(_),this.l=u,this.h=_&&_.messageUrlParams||null,u=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(u?u["X-WebChannel-Content-Type"]=_.messageContentType:u={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(u?u["X-WebChannel-Client-Profile"]=_.va:u={"X-WebChannel-Client-Profile":_.va}),this.g.S=u,(u=_&&_.Sb)&&!ne(u)&&(this.g.m=u),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!ne(_)&&(this.g.D=_,u=this.h,u!==null&&_ in u&&(u=this.h,_ in u&&delete u[_])),this.j=new Zi(this)}I(jn,Le),jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){yl(this.g)},jn.prototype.o=function(u){var _=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.u&&(E={},E.__data__=tn(u),u=E);_.i.push(new eu(_.Ya++,u)),_.G==3&&Ws(_)},jn.prototype.N=function(){this.g.l=null,delete this.j,yl(this.g),delete this.g,jn.aa.N.call(this)};function pu(u){Re.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var _=u.__sm__;if(_){e:{for(const E in _){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,_=_!==null&&u in _?_[u]:void 0),this.data=_}else this.data=u}I(pu,Re);function mu(){ke.call(this),this.status=1}I(mu,ke);function Zi(u){this.g=u}I(Zi,fu),Zi.prototype.ua=function(){Ce(this.g,"a")},Zi.prototype.ta=function(u){Ce(this.g,new pu(u))},Zi.prototype.sa=function(u){Ce(this.g,new mu)},Zi.prototype.ra=function(){Ce(this.g,"b")},Js.prototype.createWebChannel=Js.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,Ax=function(){return new Js},Tx=function(){return Fn()},xx=Ue,Tm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},er.NO_ERROR=0,er.TIMEOUT=8,er.HTTP_ERROR=6,Dd=er,va.COMPLETE="complete",wx=va,de.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",Le.prototype.listen=Le.prototype.K,pc=de,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,bx=rt}).apply(typeof yd<"u"?yd:typeof self<"u"?self:typeof window<"u"?window:{});const Ab="@firebase/firestore",Sb="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Cn.UNAUTHENTICATED=new Cn(null),Cn.GOOGLE_CREDENTIALS=new Cn("google-credentials-uid"),Cn.FIRST_PARTY=new Cn("first-party-uid"),Cn.MOCK_USER=new Cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tl="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new mh("@firebase/firestore");function No(){return ks.logLevel}function _e(i,...e){if(ks.logLevel<=Qe.DEBUG){const t=e.map(Sg);ks.debug(`Firestore (${tl}): ${i}`,...t)}}function Qa(i,...e){if(ks.logLevel<=Qe.ERROR){const t=e.map(Sg);ks.error(`Firestore (${tl}): ${i}`,...t)}}function Uo(i,...e){if(ks.logLevel<=Qe.WARN){const t=e.map(Sg);ks.warn(`Firestore (${tl}): ${i}`,...t)}}function Sg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(i="Unexpected state"){const e=`FIRESTORE (${tl}) INTERNAL ASSERTION FAILED: `+i;throw Qa(e),new Error(e)}function it(i,e){i||je()}function Me(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends Ci{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Cn.UNAUTHENTICATED))}shutdown(){}}class iO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class aO{constructor(e){this.t=e,this.currentUser=Cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){it(this.o===void 0);let r=this.i;const o=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let l=new la;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new la,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const f=l;e.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},p=f=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(f=>p(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?p(f):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new la)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(it(typeof r.accessToken=="string"),new Sx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string"),new Cn(e)}}class rO{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Cn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class sO{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new rO(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Rb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oO{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Kn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){it(this.o===void 0);const r=l=>{l.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.R;return this.R=l.token,_e("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const o=l=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Rb(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(it(typeof t.token=="string"),this.R=t.token,new Rb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<i;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=lO(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<t&&(r+=e.charAt(o[l]%62))}return r}}function Fe(i,e){return i<e?-1:i>e?1:0}function Am(i,e){let t=0;for(;t<i.length&&t<e.length;){const r=i.codePointAt(t),o=e.codePointAt(t);if(r!==o){if(r<128&&o<128)return Fe(r,o);{const l=Rx(),d=cO(l.encode(Ib(i,t)),l.encode(Ib(e,t)));return d!==0?d:Fe(r,o)}}t+=r>65535?2:1}return Fe(i.length,e.length)}function Ib(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function cO(i,e){for(let t=0;t<i.length&&t<e.length;++t)if(i[t]!==e[t])return Fe(i[t],e[t]);return Fe(i.length,e.length)}function zo(i,e,t){return i.length===e.length&&i.every((r,o)=>t(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=-62135596800,Nb=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Nb);return new Ct(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ee(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ee(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Cb)throw new Ee(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Nb}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Cb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new Ct(0,0))}static max(){return new Ve(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="__name__";class sa{constructor(e,t,r){t===void 0?t=0:t>e.length&&je(),r===void 0?r=e.length-t:r>e.length-t&&je(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return sa.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof sa?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const l=sa.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Fe(e.length,t.length)}static compareSegments(e,t){const r=sa.isNumericId(e),o=sa.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?sa.extractNumericId(e).compare(sa.extractNumericId(t)):Am(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return kr.fromString(e.substring(4,e.length-2))}}class Et extends sa{construct(e,t,r){return new Et(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ee(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Et(t)}static emptyPath(){return new Et([])}}const uO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends sa{construct(e,t,r){return new _n(e,t,r)}static isValidIdentifier(e){return uO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Db}static keyField(){return new _n([Db])}static fromServerFormat(e){const t=[];let r="",o=0;const l=()=>{if(r.length===0)throw new Ee(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new Ee(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ee(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(r+=p,o++):(l(),o++)}if(l(),d)throw new Ee(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(t)}static emptyPath(){return new _n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Et.fromString(e))}static fromName(e){return new Ie(Et.fromString(e).popFirst(5))}static empty(){return new Ie(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Et(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=-1;function dO(i,e){const t=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=Ve.fromTimestamp(r===1e9?new Ct(t+1,0):new Ct(t,r));return new Mr(o,Ie.empty(),e)}function hO(i){return new Mr(i.readTime,i.key,Ic)}class Mr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Mr(Ve.min(),Ie.empty(),Ic)}static max(){return new Mr(Ve.max(),Ie.empty(),Ic)}}function fO(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=Ie.comparator(i.documentKey,e.documentKey),t!==0?t:Fe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(i){if(i.code!==se.FAILED_PRECONDITION||i.message!==pO)throw i;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,r)=>{t(e)})}static reject(e){return new le((t,r)=>{r(e)})}static waitFor(e){return new le((t,r)=>{let o=0,l=0,d=!1;e.forEach(p=>{++o,p.next(()=>{++l,d&&l===o&&t()},f=>r(f))}),d=!0,l===o&&t()})}static or(e){let t=le.resolve(!1);for(const r of e)t=t.next(o=>o?le.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,l)=>{r.push(t.call(this,o,l))}),this.waitFor(r)}static mapArray(e,t){return new le((r,o)=>{const l=e.length,d=new Array(l);let p=0;for(let f=0;f<l;f++){const m=f;t(e[m]).next(y=>{d[m]=y,++p,p===l&&r(d)},y=>o(y))}})}static doWhile(e,t){return new le((r,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):r()};l()})}}function gO(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function il(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}wh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg=-1;function xh(i){return i==null}function Qd(i){return i===0&&1/i==-1/0}function vO(i){return typeof i=="number"&&Number.isInteger(i)&&!Qd(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx="";function yO(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Ob(e)),e=_O(i.get(t),e);return Ob(e)}function _O(i,e){let t=e;const r=i.length;for(let o=0;o<r;o++){const l=i.charAt(o);switch(l){case"\0":t+="";break;case Cx:t+="";break;default:t+=l}}return t}function Ob(i){return i+Cx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function qr(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function EO(i,e){const t=[];for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&t.push(e(i[r],r,i));return t}function Nx(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,t){this.comparator=e,this.root=t||vn.EMPTY}insert(e,t){return new Nt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _d(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _d(this.root,e,this.comparator,!1)}getReverseIterator(){return new _d(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _d(this.root,e,this.comparator,!0)}}class _d{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,t,r,o,l){this.key=e,this.value=t,this.color=r??vn.RED,this.left=o??vn.EMPTY,this.right=l??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,l){return new vn(e??this.key,t??this.value,r??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,r),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return vn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw je();const e=this.left.check();if(e!==this.right.check())throw je();return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw je()}get value(){throw je()}get color(){throw je()}get left(){throw je()}get right(){throw je()}copy(e,t,r,o,l){return this}insert(e,t,r){return new vn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Pb(this.data.getIterator())}getIteratorFrom(e){return new Pb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Wt(this.comparator);return t.data=e,t}}class Pb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new ui([])}unionWith(e){let t=new Wt(_n.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ui(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zo(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Dx("Invalid base64 string: "+l):l}}(e);return new En(t)}static fromUint8Array(e){const t=function(o){let l="";for(let d=0;d<o.length;++d)l+=String.fromCharCode(o[d]);return l}(e);return new En(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}En.EMPTY_BYTE_STRING=new En("");const bO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lr(i){if(it(!!i),typeof i=="string"){let e=0;const t=bO.exec(i);if(it(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ut(i.seconds),nanos:Ut(i.nanos)}}function Ut(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Vr(i){return typeof i=="string"?En.fromBase64String(i):En.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="server_timestamp",kx="__type__",Px="__previous_value__",jx="__local_write_time__";function Ig(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[kx])===null||t===void 0?void 0:t.stringValue)===Ox}function Th(i){const e=i.mapValue.fields[Px];return Ig(e)?Th(e):e}function Cc(i){const e=Lr(i.mapValue.fields[jx].timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,t,r,o,l,d,p,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=f,this.useFetchStreams=m}}const Yd="(default)";class Nc{constructor(e,t){this.projectId=e,this.database=t||Yd}static empty(){return new Nc("","")}get isDefaultDatabase(){return this.database===Yd}isEqual(e){return e instanceof Nc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="__type__",xO="__max__",Ed={mapValue:{}},Lx="__vector__",Xd="value";function Ur(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ig(i)?4:AO(i)?9007199254740991:TO(i)?10:11:je()}function da(i,e){if(i===e)return!0;const t=Ur(i);if(t!==Ur(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Cc(i).isEqual(Cc(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const d=Lr(o.timestampValue),p=Lr(l.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,l){return Vr(o.bytesValue).isEqual(Vr(l.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return Ut(o.geoPointValue.latitude)===Ut(l.geoPointValue.latitude)&&Ut(o.geoPointValue.longitude)===Ut(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Ut(o.integerValue)===Ut(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const d=Ut(o.doubleValue),p=Ut(l.doubleValue);return d===p?Qd(d)===Qd(p):isNaN(d)&&isNaN(p)}return!1}(i,e);case 9:return zo(i.arrayValue.values||[],e.arrayValue.values||[],da);case 10:case 11:return function(o,l){const d=o.mapValue.fields||{},p=l.mapValue.fields||{};if(kb(d)!==kb(p))return!1;for(const f in d)if(d.hasOwnProperty(f)&&(p[f]===void 0||!da(d[f],p[f])))return!1;return!0}(i,e);default:return je()}}function Dc(i,e){return(i.values||[]).find(t=>da(t,e))!==void 0}function Bo(i,e){if(i===e)return 0;const t=Ur(i),r=Ur(e);if(t!==r)return Fe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(i.booleanValue,e.booleanValue);case 2:return function(l,d){const p=Ut(l.integerValue||l.doubleValue),f=Ut(d.integerValue||d.doubleValue);return p<f?-1:p>f?1:p===f?0:isNaN(p)?isNaN(f)?0:-1:1}(i,e);case 3:return jb(i.timestampValue,e.timestampValue);case 4:return jb(Cc(i),Cc(e));case 5:return Am(i.stringValue,e.stringValue);case 6:return function(l,d){const p=Vr(l),f=Vr(d);return p.compareTo(f)}(i.bytesValue,e.bytesValue);case 7:return function(l,d){const p=l.split("/"),f=d.split("/");for(let m=0;m<p.length&&m<f.length;m++){const y=Fe(p[m],f[m]);if(y!==0)return y}return Fe(p.length,f.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,d){const p=Fe(Ut(l.latitude),Ut(d.latitude));return p!==0?p:Fe(Ut(l.longitude),Ut(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Mb(i.arrayValue,e.arrayValue);case 10:return function(l,d){var p,f,m,y;const b=l.fields||{},x=d.fields||{},R=(p=b[Xd])===null||p===void 0?void 0:p.arrayValue,I=(f=x[Xd])===null||f===void 0?void 0:f.arrayValue,U=Fe(((m=R==null?void 0:R.values)===null||m===void 0?void 0:m.length)||0,((y=I==null?void 0:I.values)===null||y===void 0?void 0:y.length)||0);return U!==0?U:Mb(R,I)}(i.mapValue,e.mapValue);case 11:return function(l,d){if(l===Ed.mapValue&&d===Ed.mapValue)return 0;if(l===Ed.mapValue)return 1;if(d===Ed.mapValue)return-1;const p=l.fields||{},f=Object.keys(p),m=d.fields||{},y=Object.keys(m);f.sort(),y.sort();for(let b=0;b<f.length&&b<y.length;++b){const x=Am(f[b],y[b]);if(x!==0)return x;const R=Bo(p[f[b]],m[y[b]]);if(R!==0)return R}return Fe(f.length,y.length)}(i.mapValue,e.mapValue);default:throw je()}}function jb(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Fe(i,e);const t=Lr(i),r=Lr(e),o=Fe(t.seconds,r.seconds);return o!==0?o:Fe(t.nanos,r.nanos)}function Mb(i,e){const t=i.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const l=Bo(t[o],r[o]);if(l)return l}return Fe(t.length,r.length)}function Fo(i){return Sm(i)}function Sm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const r=Lr(t);return`time(${r.seconds},${r.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return Vr(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return Ie.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let r="[",o=!0;for(const l of t.values||[])o?o=!1:r+=",",r+=Sm(l);return r+"]"}(i.arrayValue):"mapValue"in i?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const d of r)l?l=!1:o+=",",o+=`${d}:${Sm(t.fields[d])}`;return o+"}"}(i.mapValue):je()}function Od(i){switch(Ur(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Th(i);return e?16+Od(e):16;case 5:return 2*i.stringValue.length;case 6:return Vr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,l)=>o+Od(l),0)}(i.arrayValue);case 10:case 11:return function(r){let o=0;return qr(r.fields,(l,d)=>{o+=l.length+Od(d)}),o}(i.mapValue);default:throw je()}}function Lb(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Rm(i){return!!i&&"integerValue"in i}function Cg(i){return!!i&&"arrayValue"in i}function Vb(i){return!!i&&"nullValue"in i}function Ub(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function kd(i){return!!i&&"mapValue"in i}function TO(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Mx])===null||t===void 0?void 0:t.stringValue)===Lx}function bc(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return qr(i.mapValue.fields,(t,r)=>e.mapValue.fields[t]=bc(r)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=bc(i.arrayValue.values[t]);return e}return Object.assign({},i)}function AO(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===xO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.value=e}static empty(){return new Qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!kd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bc(t)}setAll(e){let t=_n.emptyPath(),r={},o=[];e.forEach((d,p)=>{if(!t.isImmediateParentOf(p)){const f=this.getFieldsMap(t);this.applyChanges(f,r,o),r={},o=[],t=p.popLast()}d?r[p.lastSegment()]=bc(d):o.push(p.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,o)}delete(e){const t=this.field(e.popLast());kd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return da(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];kd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){qr(t,(o,l)=>e[o]=l);for(const o of r)delete e[o]}clone(){return new Qn(bc(this.value))}}function Vx(i){const e=[];return qr(i.fields,(t,r)=>{const o=new _n([t]);if(kd(r)){const l=Vx(r.mapValue).fields;if(l.length===0)e.push(o);else for(const d of l)e.push(o.child(d))}else e.push(o)}),new ui(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,t,r,o,l,d,p){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=l,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Nn(e,0,Ve.min(),Ve.min(),Ve.min(),Qn.empty(),0)}static newFoundDocument(e,t,r,o){return new Nn(e,1,t,Ve.min(),r,o,0)}static newNoDocument(e,t){return new Nn(e,2,t,Ve.min(),Ve.min(),Qn.empty(),0)}static newUnknownDocument(e,t){return new Nn(e,3,t,Ve.min(),Ve.min(),Qn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,t){this.position=e,this.inclusive=t}}function zb(i,e,t){let r=0;for(let o=0;o<i.position.length;o++){const l=e[o],d=i.position[o];if(l.field.isKeyField()?r=Ie.comparator(Ie.fromName(d.referenceValue),t.key):r=Bo(d,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function Bb(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!da(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t="asc"){this.field=e,this.dir=t}}function SO(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{}class Gt extends Ux{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new IO(e,t,r):t==="array-contains"?new DO(e,r):t==="in"?new OO(e,r):t==="not-in"?new kO(e,r):t==="array-contains-any"?new PO(e,r):new Gt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new CO(e,r):new NO(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Bo(t,this.value)):t!==null&&Ur(this.value)===Ur(t)&&this.matchesComparison(Bo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bi extends Ux{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Bi(e,t)}matches(e){return zx(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function zx(i){return i.op==="and"}function Bx(i){return RO(i)&&zx(i)}function RO(i){for(const e of i.filters)if(e instanceof Bi)return!1;return!0}function Im(i){if(i instanceof Gt)return i.field.canonicalString()+i.op.toString()+Fo(i.value);if(Bx(i))return i.filters.map(e=>Im(e)).join(",");{const e=i.filters.map(t=>Im(t)).join(",");return`${i.op}(${e})`}}function Fx(i,e){return i instanceof Gt?function(r,o){return o instanceof Gt&&r.op===o.op&&r.field.isEqual(o.field)&&da(r.value,o.value)}(i,e):i instanceof Bi?function(r,o){return o instanceof Bi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((l,d,p)=>l&&Fx(d,o.filters[p]),!0):!1}(i,e):void je()}function qx(i){return i instanceof Gt?function(t){return`${t.field.canonicalString()} ${t.op} ${Fo(t.value)}`}(i):i instanceof Bi?function(t){return t.op.toString()+" {"+t.getFilters().map(qx).join(" ,")+"}"}(i):"Filter"}class IO extends Gt{constructor(e,t,r){super(e,t,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const t=Ie.comparator(e.key,this.key);return this.matchesComparison(t)}}class CO extends Gt{constructor(e,t){super(e,"in",t),this.keys=Hx("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class NO extends Gt{constructor(e,t){super(e,"not-in",t),this.keys=Hx("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Hx(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ie.fromName(r.referenceValue))}class DO extends Gt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Cg(t)&&Dc(t.arrayValue,this.value)}}class OO extends Gt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Dc(this.value.arrayValue,t)}}class kO extends Gt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Dc(this.value.arrayValue,t)}}class PO extends Gt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Cg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Dc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,t=null,r=[],o=[],l=null,d=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=d,this.endAt=p,this.le=null}}function Fb(i,e=null,t=[],r=[],o=null,l=null,d=null){return new jO(i,e,t,r,o,l,d)}function Ng(i){const e=Me(i);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Im(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),xh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Fo(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Fo(r)).join(",")),e.le=t}return e.le}function Dg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!SO(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Fx(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Bb(i.startAt,e.startAt)&&Bb(i.endAt,e.endAt)}function Cm(i){return Ie.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,t=null,r=[],o=[],l=null,d="F",p=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=d,this.startAt=p,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function MO(i,e,t,r,o,l,d,p){return new al(i,e,t,r,o,l,d,p)}function Og(i){return new al(i)}function qb(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Gx(i){return i.collectionGroup!==null}function wc(i){const e=Me(i);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Wt(_n.comparator);return d.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(p=p.add(m.field))})}),p})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new Oc(l,r))}),t.has(_n.keyField().canonicalString())||e.he.push(new Oc(_n.keyField(),r))}return e.he}function ca(i){const e=Me(i);return e.Pe||(e.Pe=$x(e,wc(i))),e.Pe}function LO(i){const e=Me(i);return e.Te||(e.Te=$x(e,i.explicitOrderBy)),e.Te}function $x(i,e){if(i.limitType==="F")return Fb(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Oc(o.field,l)});const t=i.endAt?new Wd(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new Wd(i.startAt.position,i.startAt.inclusive):null;return Fb(i.path,i.collectionGroup,e,i.filters,i.limit,t,r)}}function Nm(i,e){const t=i.filters.concat([e]);return new al(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Zd(i,e,t){return new al(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Ah(i,e){return Dg(ca(i),ca(e))&&i.limitType===e.limitType}function Kx(i){return`${Ng(ca(i))}|lt:${i.limitType}`}function Do(i){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>qx(o)).join(", ")}]`),xh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>Fo(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>Fo(o)).join(",")),`Target(${r})`}(ca(i))}; limitType=${i.limitType})`}function Sh(i,e){return e.isFoundDocument()&&function(r,o){const l=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Ie.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(i,e)&&function(r,o){for(const l of wc(r))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(i,e)&&function(r,o){for(const l of r.filters)if(!l.matches(o))return!1;return!0}(i,e)&&function(r,o){return!(r.startAt&&!function(d,p,f){const m=zb(d,p,f);return d.inclusive?m<=0:m<0}(r.startAt,wc(r),o)||r.endAt&&!function(d,p,f){const m=zb(d,p,f);return d.inclusive?m>=0:m>0}(r.endAt,wc(r),o))}(i,e)}function VO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Qx(i){return(e,t)=>{let r=!1;for(const o of wc(i)){const l=UO(o,e,t);if(l!==0)return l;r=r||o.field.isKeyField()}return 0}}function UO(i,e,t){const r=i.field.isKeyField()?Ie.comparator(e.key,t.key):function(l,d,p){const f=d.data.field(l),m=p.data.field(l);return f!==null&&m!==null?Bo(f,m):je()}(i.field,e,t);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return je()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,l]of r)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){qr(this.inner,(t,r)=>{for(const[o,l]of r)e(o,l)})}isEmpty(){return Nx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=new Nt(Ie.comparator);function Ya(){return zO}const Yx=new Nt(Ie.comparator);function mc(...i){let e=Yx;for(const t of i)e=e.insert(t.key,t);return e}function Xx(i){let e=Yx;return i.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ss(){return xc()}function Wx(){return xc()}function xc(){return new Vs(i=>i.toString(),(i,e)=>i.isEqual(e))}const BO=new Nt(Ie.comparator),FO=new Wt(Ie.comparator);function Ye(...i){let e=FO;for(const t of i)e=e.add(t);return e}const qO=new Wt(Fe);function HO(){return qO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qd(e)?"-0":e}}function Zx(i){return{integerValue:""+i}}function GO(i,e){return vO(e)?Zx(e):kg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(){this._=void 0}}function $O(i,e,t){return i instanceof Jd?function(o,l){const d={fields:{[kx]:{stringValue:Ox},[jx]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Ig(l)&&(l=Th(l)),l&&(d.fields[Px]=l),{mapValue:d}}(t,e):i instanceof kc?eT(i,e):i instanceof Pc?tT(i,e):function(o,l){const d=Jx(o,l),p=Hb(d)+Hb(o.Ie);return Rm(d)&&Rm(o.Ie)?Zx(p):kg(o.serializer,p)}(i,e)}function KO(i,e,t){return i instanceof kc?eT(i,e):i instanceof Pc?tT(i,e):t}function Jx(i,e){return i instanceof eh?function(r){return Rm(r)||function(l){return!!l&&"doubleValue"in l}(r)}(e)?e:{integerValue:0}:null}class Jd extends Rh{}class kc extends Rh{constructor(e){super(),this.elements=e}}function eT(i,e){const t=nT(e);for(const r of i.elements)t.some(o=>da(o,r))||t.push(r);return{arrayValue:{values:t}}}class Pc extends Rh{constructor(e){super(),this.elements=e}}function tT(i,e){let t=nT(e);for(const r of i.elements)t=t.filter(o=>!da(o,r));return{arrayValue:{values:t}}}class eh extends Rh{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Hb(i){return Ut(i.integerValue||i.doubleValue)}function nT(i){return Cg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function QO(i,e){return i.field.isEqual(e.field)&&function(r,o){return r instanceof kc&&o instanceof kc||r instanceof Pc&&o instanceof Pc?zo(r.elements,o.elements,da):r instanceof eh&&o instanceof eh?da(r.Ie,o.Ie):r instanceof Jd&&o instanceof Jd}(i.transform,e.transform)}class YO{constructor(e,t){this.version=e,this.transformResults=t}}class Si{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Si}static exists(e){return new Si(void 0,e)}static updateTime(e){return new Si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pd(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Ih{}function iT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Pg(i.key,Si.none()):new Hc(i.key,i.data,Si.none());{const t=i.data,r=Qn.empty();let o=new Wt(_n.comparator);for(let l of e.fields)if(!o.has(l)){let d=t.field(l);d===null&&l.length>1&&(l=l.popLast(),d=t.field(l)),d===null?r.delete(l):r.set(l,d),o=o.add(l)}return new Hr(i.key,r,new ui(o.toArray()),Si.none())}}function XO(i,e,t){i instanceof Hc?function(o,l,d){const p=o.value.clone(),f=$b(o.fieldTransforms,l,d.transformResults);p.setAll(f),l.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(i,e,t):i instanceof Hr?function(o,l,d){if(!Pd(o.precondition,l))return void l.convertToUnknownDocument(d.version);const p=$b(o.fieldTransforms,l,d.transformResults),f=l.data;f.setAll(aT(o)),f.setAll(p),l.convertToFoundDocument(d.version,f).setHasCommittedMutations()}(i,e,t):function(o,l,d){l.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,t)}function Tc(i,e,t,r){return i instanceof Hc?function(l,d,p,f){if(!Pd(l.precondition,d))return p;const m=l.value.clone(),y=Kb(l.fieldTransforms,f,d);return m.setAll(y),d.convertToFoundDocument(d.version,m).setHasLocalMutations(),null}(i,e,t,r):i instanceof Hr?function(l,d,p,f){if(!Pd(l.precondition,d))return p;const m=Kb(l.fieldTransforms,f,d),y=d.data;return y.setAll(aT(l)),y.setAll(m),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),p===null?null:p.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(b=>b.field))}(i,e,t,r):function(l,d,p){return Pd(l.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(i,e,t)}function WO(i,e){let t=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),l=Jx(r.transform,o||null);l!=null&&(t===null&&(t=Qn.empty()),t.set(r.field,l))}return t||null}function Gb(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&zo(r,o,(l,d)=>QO(l,d))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Hc extends Ih{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Hr extends Ih{constructor(e,t,r,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function aT(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=i.data.field(t);e.set(t,r)}}),e}function $b(i,e,t){const r=new Map;it(i.length===t.length);for(let o=0;o<t.length;o++){const l=i[o],d=l.transform,p=e.data.field(l.field);r.set(l.field,KO(d,p,t[o]))}return r}function Kb(i,e,t){const r=new Map;for(const o of i){const l=o.transform,d=t.data.field(o.field);r.set(o.field,$O(l,d,e))}return r}class Pg extends Ih{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZO extends Ih{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&XO(l,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Tc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Tc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Wx();return this.mutations.forEach(o=>{const l=e.get(o.key),d=l.overlayedDocument;let p=this.applyToLocalView(d,l.mutatedFields);p=t.has(o.key)?null:p;const f=iT(d,p);f!==null&&r.set(o.key,f),d.isValidDocument()||d.convertToNoDocument(Ve.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ye())}isEqual(e){return this.batchId===e.batchId&&zo(this.mutations,e.mutations,(t,r)=>Gb(t,r))&&zo(this.baseMutations,e.baseMutations,(t,r)=>Gb(t,r))}}class jg{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){it(e.mutations.length===r.length);let o=function(){return BO}();const l=e.mutations;for(let d=0;d<l.length;d++)o=o.insert(l[d].key,r[d].version);return new jg(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,t,r){this.alias=e,this.aggregateType=t,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht,Je;function ik(i){switch(i){case se.OK:return je();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return je()}}function rT(i){if(i===void 0)return Qa("GRPC error has no .code"),se.UNKNOWN;switch(i){case Ht.OK:return se.OK;case Ht.CANCELLED:return se.CANCELLED;case Ht.UNKNOWN:return se.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return se.INTERNAL;case Ht.UNAVAILABLE:return se.UNAVAILABLE;case Ht.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Ht.NOT_FOUND:return se.NOT_FOUND;case Ht.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Ht.ABORTED:return se.ABORTED;case Ht.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Ht.DATA_LOSS:return se.DATA_LOSS;default:return je()}}(Je=Ht||(Ht={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=new kr([4294967295,4294967295],0);function Qb(i){const e=Rx().encode(i),t=new Ex;return t.update(e),new Uint8Array(t.digest())}function Yb(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new kr([t,r],0),new kr([o,l],0)]}class Mg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new gc(`Invalid padding: ${t}`);if(r<0)throw new gc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new gc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new gc(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=kr.fromNumber(this.Ee)}Ae(e,t,r){let o=e.add(t.multiply(kr.fromNumber(r)));return o.compare(ak)===1&&(o=new kr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Qb(e),[r,o]=Yb(t);for(let l=0;l<this.hashCount;l++){const d=this.Ae(r,o,l);if(!this.Re(d))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),d=new Mg(l,o,t);return r.forEach(p=>d.insert(p)),d}insert(e){if(this.Ee===0)return;const t=Qb(e),[r,o]=Yb(t);for(let l=0;l<this.hashCount;l++){const d=this.Ae(r,o,l);this.Ve(d)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class gc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,t,r,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Gc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ch(Ve.min(),o,new Nt(Fe),Ya(),Ye())}}class Gc{constructor(e,t,r,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Gc(r,t,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,t,r,o){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=o}}class sT{constructor(e,t){this.targetId=e,this.ge=t}}class oT{constructor(e,t,r=En.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class Xb{constructor(){this.pe=0,this.ye=Wb(),this.we=En.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ye(),t=Ye(),r=Ye();return this.ye.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:je()}}),new Gc(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=Wb()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,it(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class rk{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ya(),this.$e=bd(),this.Ue=bd(),this.Ke=new Nt(Fe)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:je()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,r=e.ge.count,o=this.Xe(t);if(o){const l=o.target;if(Cm(l))if(r===0){const d=new Ie(l.path);this.ze(t,d,Nn.newNoDocument(d,Ve.min()))}else it(r===1);else{const d=this.et(t);if(d!==r){const p=this.tt(e),f=p?this.nt(p,e,d):1;if(f!==0){this.Ye(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,m)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:l=0}=t;let d,p;try{d=Vr(r).toUint8Array()}catch(f){if(f instanceof Dx)return Uo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{p=new Mg(d,o,l)}catch(f){return Uo(f instanceof gc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return p.Ee===0?null:p}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let o=0;return r.forEach(l=>{const d=this.ke.it(),p=`projects/${d.projectId}/databases/${d.database}/documents/${l.path.canonicalString()}`;e.mightContain(p)||(this.ze(t,l,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((l,d)=>{const p=this.Xe(d);if(p){if(l.current&&Cm(p.target)){const f=new Ie(p.target.path);this._t(f).has(d)||this.ut(d,f)||this.ze(d,f,Nn.newNoDocument(f,e))}l.ve&&(t.set(d,l.Fe()),l.Me())}});let r=Ye();this.Ue.forEach((l,d)=>{let p=!0;d.forEachWhile(f=>{const m=this.Xe(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(r=r.add(l))}),this.Qe.forEach((l,d)=>d.setReadTime(e));const o=new Ch(e,t,this.Ke,this.Qe,r);return this.Qe=Ya(),this.$e=bd(),this.Ue=bd(),this.Ke=new Nt(Fe),o}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Xb,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Wt(Fe),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Wt(Fe),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||_e("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Xb),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function bd(){return new Nt(Ie.comparator)}function Wb(){return new Nt(Ie.comparator)}const sk={asc:"ASCENDING",desc:"DESCENDING"},ok={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lk={and:"AND",or:"OR"};class ck{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Dm(i,e){return i.useProto3Json||xh(e)?e:{value:e}}function th(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function uk(i,e){return th(i,e.toTimestamp())}function ua(i){return it(!!i),Ve.fromTimestamp(function(t){const r=Lr(t);return new Ct(r.seconds,r.nanos)}(i))}function Lg(i,e){return Om(i,e).canonicalString()}function Om(i,e){const t=function(o){return new Et(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function cT(i){const e=Et.fromString(i);return it(mT(e)),e}function km(i,e){return Lg(i.databaseId,e.path)}function am(i,e){const t=cT(e);if(t.get(1)!==i.databaseId.projectId)throw new Ee(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Ee(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Ie(dT(t))}function uT(i,e){return Lg(i.databaseId,e)}function dk(i){const e=cT(i);return e.length===4?Et.emptyPath():dT(e)}function Pm(i){return new Et(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function dT(i){return it(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function Zb(i,e,t){return{name:km(i,e),fields:t.value.mapValue.fields}}function hk(i,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:je()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(m,y){return m.useProto3Json?(it(y===void 0||typeof y=="string"),En.fromBase64String(y||"")):(it(y===void 0||y instanceof Buffer||y instanceof Uint8Array),En.fromUint8Array(y||new Uint8Array))}(i,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(m){const y=m.code===void 0?se.UNKNOWN:rT(m.code);return new Ee(y,m.message||"")}(d);t=new oT(r,o,l,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=am(i,r.document.name),l=ua(r.document.updateTime),d=r.document.createTime?ua(r.document.createTime):Ve.min(),p=new Qn({mapValue:{fields:r.document.fields}}),f=Nn.newFoundDocument(o,l,d,p),m=r.targetIds||[],y=r.removedTargetIds||[];t=new jd(m,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=am(i,r.document),l=r.readTime?ua(r.readTime):Ve.min(),d=Nn.newNoDocument(o,l),p=r.removedTargetIds||[];t=new jd([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=am(i,r.document),l=r.removedTargetIds||[];t=new jd([],l,o,null)}else{if(!("filter"in e))return je();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:l}=r,d=new nk(o,l),p=r.targetId;t=new sT(p,d)}}return t}function fk(i,e){let t;if(e instanceof Hc)t={update:Zb(i,e.key,e.value)};else if(e instanceof Pg)t={delete:km(i,e.key)};else if(e instanceof Hr)t={update:Zb(i,e.key,e.data),updateMask:wk(e.fieldMask)};else{if(!(e instanceof ZO))return je();t={verify:km(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(l,d){const p=d.transform;if(p instanceof Jd)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof kc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Pc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof eh)return{fieldPath:d.field.canonicalString(),increment:p.Ie};throw je()}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:uk(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:je()}(i,e.precondition)),t}function pk(i,e){return i&&i.length>0?(it(e!==void 0),i.map(t=>function(o,l){let d=o.updateTime?ua(o.updateTime):ua(l);return d.isEqual(Ve.min())&&(d=ua(l)),new YO(d,o.transformResults||[])}(t,e))):[]}function mk(i,e){return{documents:[uT(i,e.path)]}}function hT(i,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=uT(i,o);const l=function(m){if(m.length!==0)return pT(Bi.create(m,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const d=function(m){if(m.length!==0)return m.map(y=>function(x){return{field:Cr(x.field),direction:_k(x.dir)}}(y))}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const p=Dm(i,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:t,parent:o}}function gk(i,e,t,r){const{ht:o,parent:l}=hT(i,e),d={},p=[];let f=0;return t.forEach(m=>{const y="aggregate_"+f++;d[y]=m.alias,m.aggregateType==="count"?p.push({alias:y,count:{}}):m.aggregateType==="avg"?p.push({alias:y,avg:{field:Cr(m.fieldPath)}}):m.aggregateType==="sum"&&p.push({alias:y,sum:{field:Cr(m.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:p,structuredQuery:o.structuredQuery},parent:o.parent},Pt:d,parent:l}}function vk(i){let e=dk(i.parent);const t=i.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){it(r===1);const y=t.from[0];y.allDescendants?o=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=function(b){const x=fT(b);return x instanceof Bi&&Bx(x)?x.getFilters():[x]}(t.where));let d=[];t.orderBy&&(d=function(b){return b.map(x=>function(I){return new Oc(Oo(I.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(x))}(t.orderBy));let p=null;t.limit&&(p=function(b){let x;return x=typeof b=="object"?b.value:b,xh(x)?null:x}(t.limit));let f=null;t.startAt&&(f=function(b){const x=!!b.before,R=b.values||[];return new Wd(R,x)}(t.startAt));let m=null;return t.endAt&&(m=function(b){const x=!b.before,R=b.values||[];return new Wd(R,x)}(t.endAt)),MO(e,o,d,l,p,"F",f,m)}function yk(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function fT(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Oo(t.unaryFilter.field);return Gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Oo(t.unaryFilter.field);return Gt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Oo(t.unaryFilter.field);return Gt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Oo(t.unaryFilter.field);return Gt.create(d,"!=",{nullValue:"NULL_VALUE"});default:return je()}}(i):i.fieldFilter!==void 0?function(t){return Gt.create(Oo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return je()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return Bi.create(t.compositeFilter.filters.map(r=>fT(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return je()}}(t.compositeFilter.op))}(i):je()}function _k(i){return sk[i]}function Ek(i){return ok[i]}function bk(i){return lk[i]}function Cr(i){return{fieldPath:i.canonicalString()}}function Oo(i){return _n.fromServerFormat(i.fieldPath)}function pT(i){return i instanceof Gt?function(t){if(t.op==="=="){if(Ub(t.value))return{unaryFilter:{field:Cr(t.field),op:"IS_NAN"}};if(Vb(t.value))return{unaryFilter:{field:Cr(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ub(t.value))return{unaryFilter:{field:Cr(t.field),op:"IS_NOT_NAN"}};if(Vb(t.value))return{unaryFilter:{field:Cr(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cr(t.field),op:Ek(t.op),value:t.value}}}(i):i instanceof Bi?function(t){const r=t.getFilters().map(o=>pT(o));return r.length===1?r[0]:{compositeFilter:{op:bk(t.op),filters:r}}}(i):je()}function wk(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function mT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,t,r,o,l=Ve.min(),d=Ve.min(),p=En.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=f}withSequenceNumber(e){return new Nr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e){this.Tt=e}}function Tk(i){const e=vk({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Zd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(){this.Tn=new Sk}addToCollectionParentIndex(e,t){return this.Tn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(Mr.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(Mr.min())}updateCollectionGroup(e,t,r){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class Sk{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Wt(Et.comparator),l=!o.has(r);return this.index[t]=o.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Wt(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gT=41943040;class $n{static withCacheSize(e){return new $n(e,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$n.DEFAULT_COLLECTION_PERCENTILE=10,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$n.DEFAULT=new $n(gT,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$n.DISABLED=new $n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new qo(0)}static Kn(){return new qo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="LruGarbageCollector",Rk=1048576;function t0([i,e],[t,r]){const o=Fe(i,t);return o===0?Fe(e,r):o}class Ik{constructor(e){this.Hn=e,this.buffer=new Wt(t0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();t0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ck{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){_e(e0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){il(t)?_e(e0,"Ignoring IndexedDB error during garbage collection: ",t):await nl(t)}await this.er(3e5)})}}class Nk{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return le.resolve(wh.ae);const r=new Ik(t);return this.tr.forEachTarget(e,o=>r.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>r.Zn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(Jb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jb):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,o,l,d,p,f,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(r=b,p=Date.now(),this.removeTargets(e,r,t))).next(b=>(l=b,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(b=>(m=Date.now(),No()<=Qe.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-y}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${l} targets in `+(f-p)+`ms
	Removed ${b} documents in `+(m-f)+`ms
Total Duration: ${m-y}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:b})))}}function Dk(i,e){return new Nk(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(){this.changes=new Vs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?le.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&Tc(r.mutation,o,ui.empty(),Ct.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ye()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ye()){const o=Ss();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(l=>{let d=mc();return l.forEach((p,f)=>{d=d.insert(p,f.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=Ss();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ye()))}populateOverlays(e,t,r){const o=[];return r.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((d,p)=>{t.set(d,p)})})}computeViews(e,t,r,o){let l=Ya();const d=xc(),p=function(){return xc()}();return t.forEach((f,m)=>{const y=r.get(m.key);o.has(m.key)&&(y===void 0||y.mutation instanceof Hr)?l=l.insert(m.key,m):y!==void 0?(d.set(m.key,y.mutation.getFieldMask()),Tc(y.mutation,m,y.mutation.getFieldMask(),Ct.now())):d.set(m.key,ui.empty())}),this.recalculateAndSaveOverlays(e,l).next(f=>(f.forEach((m,y)=>d.set(m,y)),t.forEach((m,y)=>{var b;return p.set(m,new kk(y,(b=d.get(m))!==null&&b!==void 0?b:null))}),p))}recalculateAndSaveOverlays(e,t){const r=xc();let o=new Nt((d,p)=>d-p),l=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const p of d)p.keys().forEach(f=>{const m=t.get(f);if(m===null)return;let y=r.get(f)||ui.empty();y=p.applyToLocalView(m,y),r.set(f,y);const b=(o.get(p.batchId)||Ye()).add(f);o=o.insert(p.batchId,b)})}).next(()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const f=p.getNext(),m=f.key,y=f.value,b=Wx();y.forEach(x=>{if(!l.has(x)){const R=iT(t.get(x),r.get(x));R!==null&&b.set(x,R),l=l.add(x)}}),d.push(this.documentOverlayCache.saveOverlays(e,m,b))}return le.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(d){return Ie.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Gx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(l=>{const d=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-l.size):le.resolve(Ss());let p=Ic,f=l;return d.next(m=>le.forEach(m,(y,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),l.get(y)?le.resolve():this.remoteDocumentCache.getEntry(e,y).next(x=>{f=f.insert(y,x)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,f,m,Ye())).next(y=>({batchId:p,changes:Xx(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ie(t)).next(r=>{let o=mc();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const l=t.collectionGroup;let d=mc();return this.indexManager.getCollectionParents(e,l).next(p=>le.forEach(p,f=>{const m=function(b,x){return new al(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next(y=>{y.forEach((b,x)=>{d=d.insert(b,x)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,r,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(d=>(l=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,o))).next(d=>{l.forEach((f,m)=>{const y=m.getKey();d.get(y)===null&&(d=d.insert(y,Nn.newInvalidDocument(y)))});let p=mc();return d.forEach((f,m)=>{const y=l.get(f);y!==void 0&&Tc(y.mutation,m,ui.empty(),Ct.now()),Sh(t,m)&&(p=p.insert(f,m))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return le.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:ua(o.createTime)}}(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:Tk(o.bundledQuery),readTime:ua(o.readTime)}}(t)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(){this.overlays=new Nt(Ie.comparator),this.Rr=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ss();return le.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&r.set(o,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,l)=>{this.Et(e,t,l)}),le.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Rr.get(r);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(r)),le.resolve()}getOverlaysForCollection(e,t,r){const o=Ss(),l=t.length+1,d=new Ie(t.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const f=p.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&f.largestBatchId>r&&o.set(f.getKey(),f)}return le.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let l=new Nt((m,y)=>m-y);const d=this.overlays.getIterator();for(;d.hasNext();){const m=d.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let y=l.get(m.largestBatchId);y===null&&(y=Ss(),l=l.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const p=Ss(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,y)=>p.set(m,y)),!(p.size()>=o)););return le.resolve(p)}Et(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(r.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new ek(t,r));let l=this.Rr.get(t);l===void 0&&(l=Ye(),this.Rr.set(t,l)),this.Rr.set(t,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(){this.sessionToken=En.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(){this.Vr=new Wt(ln.mr),this.gr=new Wt(ln.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new ln(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new ln(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new Ie(new Et([])),r=new ln(t,e),o=new ln(t,e+1),l=[];return this.gr.forEachInRange([r,o],d=>{this.wr(d),l.push(d.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ie(new Et([])),r=new ln(t,e),o=new ln(t,e+1);let l=Ye();return this.gr.forEachInRange([r,o],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new ln(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class ln{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ie.comparator(e.key,t.key)||Fe(e.Cr,t.Cr)}static pr(e,t){return Fe(e.Cr,t.Cr)||Ie.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Wt(ln.mr)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new JO(l,t,r,o);this.mutationQueue.push(d);for(const p of o)this.Mr=this.Mr.add(new ln(p.key,l)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return le.resolve(d)}lookupMutationBatch(e,t){return le.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Nr(r),l=o<0?0:o;return le.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?Rg:this.Fr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ln(t,0),o=new ln(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([r,o],d=>{const p=this.Or(d.Cr);l.push(p)}),le.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Wt(Fe);return t.forEach(o=>{const l=new ln(o,0),d=new ln(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,d],p=>{r=r.add(p.Cr)})}),le.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let l=r;Ie.isDocumentKey(l)||(l=l.child(""));const d=new ln(new Ie(l),0);let p=new Wt(Fe);return this.Mr.forEachWhile(f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(p=p.add(f.Cr)),!0)},d),le.resolve(this.Br(p))}Br(e){const t=[];return e.forEach(r=>{const o=this.Or(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){it(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return le.forEach(t.mutations,o=>{const l=new ln(o.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new ln(t,0),o=this.Mr.firstAfterOrEqual(r);return le.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e){this.kr=e,this.docs=function(){return new Nt(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),l=o?o.size:0,d=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return le.resolve(r?r.document.mutableCopy():Nn.newInvalidDocument(t))}getEntries(e,t){let r=Ya();return t.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():Nn.newInvalidDocument(o))}),le.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let l=Ya();const d=t.path,p=new Ie(d.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(p);for(;f.hasNext();){const{key:m,value:{document:y}}=f.getNext();if(!d.isPrefixOf(m.path))break;m.path.length>d.length+1||fO(hO(y),r)<=0||(o.has(y.key)||Sh(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return le.resolve(l)}getAllFromCollectionGroup(e,t,r,o){je()}qr(e,t){return le.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new zk(this)}getSize(e){return le.resolve(this.size)}}class zk extends Ok{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(r)}),le.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.persistence=e,this.Qr=new Vs(t=>Ng(t),Dg),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Vg,this.targetCount=0,this.Kr=qo.Un()}forEachTarget(e,t){return this.Qr.forEach((r,o)=>t(o)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),le.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new qo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.zn(t),le.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,r){let o=0;const l=[];return this.Qr.forEach((d,p)=>{p.sequenceNumber<=t&&r.get(p.targetId)===null&&(this.Qr.delete(d),l.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),le.waitFor(l).next(()=>o)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return le.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),le.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(d=>{l.push(o.markPotentiallyOrphaned(e,d))}),le.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),le.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ur.vr(t);return le.resolve(r)}containsKey(e,t){return le.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new wh(0),this.zr=!1,this.zr=!0,this.jr=new Lk,this.referenceDelegate=e(this),this.Hr=new Bk(this),this.indexManager=new Ak,this.remoteDocumentCache=function(o){return new Uk(o)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new xk(t),this.Yr=new jk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Mk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new Vk(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){_e("MemoryPersistence","Starting transaction:",e);const o=new Fk(this.Gr.next());return this.referenceDelegate.Zr(),r(o).next(l=>this.referenceDelegate.Xr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}ei(e,t){return le.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class Fk extends mO{constructor(e){super(),this.currentSequenceNumber=e}}class Ug{constructor(e){this.persistence=e,this.ti=new Vg,this.ni=null}static ri(e){return new Ug(e)}get ii(){if(this.ni)return this.ni;throw je()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),le.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),le.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ii.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.ii,r=>{const o=Ie.fromPath(r);return this.si(e,o).next(l=>{l||t.removeEntry(o,Ve.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return le.or([()=>le.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class nh{constructor(e,t){this.persistence=e,this.oi=new Vs(r=>yO(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=Dk(this,t)}static ri(e,t){return new nh(e,t)}Zr(){}Xr(e){return le.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return le.forEach(this.oi,(r,o)=>this.ar(e,r,o).next(l=>l?le.resolve():t(o)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.qr(e,d=>this.ar(e,d,t).next(p=>{p||(r++,l.removeEntry(d,Ve.min()))})).next(()=>l.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),le.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),le.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Od(e.data.value)),t}ar(e,t,r){return le.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return le.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=o}static Yi(e,t){let r=Ye(),o=Ye();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new zg(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return YI()?8:gO(Dn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,o){const l={result:null};return this.rs(e,t).next(d=>{l.result=d}).next(()=>{if(!l.result)return this.ss(e,t,o,r).next(d=>{l.result=d})}).next(()=>{if(l.result)return;const d=new qk;return this._s(e,t,d).next(p=>{if(l.result=p,this.Xi)return this.us(e,t,d,p.size)})}).next(()=>l.result)}us(e,t,r,o){return r.documentReadCount<this.es?(No()<=Qe.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Do(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),le.resolve()):(No()<=Qe.DEBUG&&_e("QueryEngine","Query:",Do(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ts*o?(No()<=Qe.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Do(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ca(t))):le.resolve())}rs(e,t){if(qb(t))return le.resolve(null);let r=ca(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Zd(t,null,"F"),r=ca(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const d=Ye(...l);return this.ns.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,r).next(f=>{const m=this.cs(t,p);return this.ls(t,m,d,f.readTime)?this.rs(e,Zd(t,null,"F")):this.hs(e,m,t,f)}))})))}ss(e,t,r,o){return qb(t)||o.isEqual(Ve.min())?le.resolve(null):this.ns.getDocuments(e,r).next(l=>{const d=this.cs(t,l);return this.ls(t,d,r,o)?le.resolve(null):(No()<=Qe.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Do(t)),this.hs(e,d,t,dO(o,Ic)).next(p=>p))})}cs(e,t){let r=new Wt(Qx(e));return t.forEach((o,l)=>{Sh(e,l)&&(r=r.add(l))}),r}ls(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}_s(e,t,r){return No()<=Qe.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Do(t)),this.ns.getDocumentsMatchingQuery(e,t,Mr.min(),r)}hs(e,t,r,o){return this.ns.getDocumentsMatchingQuery(e,r,o).next(l=>(t.forEach(d=>{l=l.insert(d.key,d)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg="LocalStore",Gk=3e8;class $k{constructor(e,t,r,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new Nt(Fe),this.Is=new Vs(l=>Ng(l),Dg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Pk(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function Kk(i,e,t,r){return new $k(i,e,t,r)}async function yT(i,e){const t=Me(i);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(l=>(o=l,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const d=[],p=[];let f=Ye();for(const m of o){d.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}for(const m of l){p.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(r,f).next(m=>({Rs:m,removedBatchIds:d,addedBatchIds:p}))})})}function Qk(i,e){const t=Me(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(p,f,m,y){const b=m.batch,x=b.keys();let R=le.resolve();return x.forEach(I=>{R=R.next(()=>y.getEntry(f,I)).next(U=>{const L=m.docVersions.get(I);it(L!==null),U.version.compareTo(L)<0&&(b.applyToRemoteDocument(U,m),U.isValidDocument()&&(U.setReadTime(m.commitVersion),y.addEntry(U)))})}),R.next(()=>p.mutationQueue.removeMutationBatch(f,b))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(p){let f=Ye();for(let m=0;m<p.mutationResults.length;++m)p.mutationResults[m].transformResults.length>0&&(f=f.add(p.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function _T(i){const e=Me(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function Yk(i,e){const t=Me(i),r=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const p=[];e.targetChanges.forEach((y,b)=>{const x=o.get(b);if(!x)return;p.push(t.Hr.removeMatchingKeys(l,y.removedDocuments,b).next(()=>t.Hr.addMatchingKeys(l,y.addedDocuments,b)));let R=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?R=R.withResumeToken(En.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):y.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(y.resumeToken,r)),o=o.insert(b,R),function(U,L,H){return U.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=Gk?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(x,R,y)&&p.push(t.Hr.updateTargetData(l,R))});let f=Ya(),m=Ye();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))}),p.push(Xk(l,d,e.documentUpdates).next(y=>{f=y.Vs,m=y.fs})),!r.isEqual(Ve.min())){const y=t.Hr.getLastRemoteSnapshotVersion(l).next(b=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,r));p.push(y)}return le.waitFor(p).next(()=>d.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,f,m)).next(()=>f)}).then(l=>(t.Ts=o,l))}function Xk(i,e,t){let r=Ye(),o=Ye();return t.forEach(l=>r=r.add(l)),e.getEntries(i,r).next(l=>{let d=Ya();return t.forEach((p,f)=>{const m=l.get(p);f.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(p)),f.isNoDocument()&&f.version.isEqual(Ve.min())?(e.removeEntry(p,f.readTime),d=d.insert(p,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),d=d.insert(p,f)):_e(Bg,"Ignoring outdated watch update for ",p,". Current version:",m.version," Watch version:",f.version)}),{Vs:d,fs:o}})}function Wk(i,e){const t=Me(i);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Rg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Zk(i,e){const t=Me(i);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Hr.getTargetData(r,e).next(l=>l?(o=l,le.resolve(o)):t.Hr.allocateTargetId(r).next(d=>(o=new Nr(e,d,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ts.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function jm(i,e,t){const r=Me(i),o=r.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,d=>r.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!il(d))throw d;_e(Bg,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ts=r.Ts.remove(e),r.Is.delete(o.target)}function n0(i,e,t){const r=Me(i);let o=Ve.min(),l=Ye();return r.persistence.runTransaction("Execute query","readwrite",d=>function(f,m,y){const b=Me(f),x=b.Is.get(y);return x!==void 0?le.resolve(b.Ts.get(x)):b.Hr.getTargetData(m,y)}(r,d,ca(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(d,p.targetId).next(f=>{l=f})}).next(()=>r.Ps.getDocumentsMatchingQuery(d,e,t?o:Ve.min(),t?l:Ye())).next(p=>(Jk(r,VO(e),p),{documents:p,gs:l})))}function Jk(i,e,t){let r=i.Es.get(e)||Ve.min();t.forEach((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),i.Es.set(e,r)}class i0{constructor(){this.activeTargetIds=HO()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eP{constructor(){this.ho=new i0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new i0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="ConnectivityMonitor";class r0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){_e(a0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){_e(a0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wd=null;function Mm(){return wd===null?wd=function(){return 268435456+Math.round(2147483648*Math.random())}():wd++,"0x"+wd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="RestConnection",nP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iP{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${o}`,this.wo=this.databaseId.database===Yd?`project_id=${r}`:`project_id=${r}&database_id=${o}`}So(e,t,r,o,l){const d=Mm(),p=this.bo(e,t.toUriEncodedString());_e(rm,`Sending RPC '${e}' ${d}:`,p,r);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,o,l),this.vo(e,p,f,r).then(m=>(_e(rm,`Received RPC '${e}' ${d}: `,m),m),m=>{throw Uo(rm,`RPC '${e}' ${d} failed with error: `,m,"url: ",p,"request:",r),m})}Co(e,t,r,o,l,d){return this.So(e,t,r,o,l)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),r&&r.headers.forEach((o,l)=>e[l]=o)}bo(e,t){const r=nP[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn="WebChannelConnection";class rP extends iP{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,o){const l=Mm();return new Promise((d,p)=>{const f=new bx;f.setWithCredentials(!0),f.listenOnce(wx.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Dd.NO_ERROR:const y=f.getResponseJson();_e(Rn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),d(y);break;case Dd.TIMEOUT:_e(Rn,`RPC '${e}' ${l} timed out`),p(new Ee(se.DEADLINE_EXCEEDED,"Request time out"));break;case Dd.HTTP_ERROR:const b=f.getStatus();if(_e(Rn,`RPC '${e}' ${l} failed with status:`,b,"response text:",f.getResponseText()),b>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const R=x==null?void 0:x.error;if(R&&R.status&&R.message){const I=function(L){const H=L.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(H)>=0?H:se.UNKNOWN}(R.status);p(new Ee(I,R.message))}else p(new Ee(se.UNKNOWN,"Server responded with status "+f.getStatus()))}else p(new Ee(se.UNAVAILABLE,"Connection failed."));break;default:je()}}finally{_e(Rn,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(o);_e(Rn,`RPC '${e}' ${l} sending request:`,o),f.send(t,"POST",m,r,15)})}Wo(e,t,r){const o=Mm(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Ax(),p=Tx(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const y=l.join("");_e(Rn,`Creating RPC '${e}' stream ${o}: ${y}`,f);const b=d.createWebChannel(y,f);let x=!1,R=!1;const I=new aP({Fo:L=>{R?_e(Rn,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(x||(_e(Rn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),x=!0),_e(Rn,`RPC '${e}' stream ${o} sending:`,L),b.send(L))},Mo:()=>b.close()}),U=(L,H,ne)=>{L.listen(H,K=>{try{ne(K)}catch(ce){setTimeout(()=>{throw ce},0)}})};return U(b,pc.EventType.OPEN,()=>{R||(_e(Rn,`RPC '${e}' stream ${o} transport opened.`),I.Qo())}),U(b,pc.EventType.CLOSE,()=>{R||(R=!0,_e(Rn,`RPC '${e}' stream ${o} transport closed`),I.Uo())}),U(b,pc.EventType.ERROR,L=>{R||(R=!0,Uo(Rn,`RPC '${e}' stream ${o} transport errored:`,L),I.Uo(new Ee(se.UNAVAILABLE,"The operation could not be completed")))}),U(b,pc.EventType.MESSAGE,L=>{var H;if(!R){const ne=L.data[0];it(!!ne);const K=ne,ce=(K==null?void 0:K.error)||((H=K[0])===null||H===void 0?void 0:H.error);if(ce){_e(Rn,`RPC '${e}' stream ${o} received error:`,ce);const fe=ce.status;let be=function(C){const P=Ht[C];if(P!==void 0)return rT(P)}(fe),j=ce.message;be===void 0&&(be=se.INTERNAL,j="Unknown error status: "+fe+" with message "+ce.message),R=!0,I.Uo(new Ee(be,j)),b.close()}else _e(Rn,`RPC '${e}' stream ${o} received:`,ne),I.Ko(ne)}}),U(p,xx.STAT_EVENT,L=>{L.stat===Tm.PROXY?_e(Rn,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Tm.NOPROXY&&_e(Rn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{I.$o()},0),I}}function sm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(i){return new ck(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,t,r=1e3,o=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=o,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-r);o>0&&_e("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="PersistentStream";class bT{constructor(e,t,r,o,l,d,p,f){this.Ti=e,this.n_=r,this.r_=o,this.connection=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new ET(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(Qa(t.toString()),Qa("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.i_===t&&this.V_(r,o)},r=>{e(()=>{const o=new Ee(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(o)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{r(()=>this.m_(o))}),this.stream.onMessage(o=>{r(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return _e(s0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(_e(s0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sP extends bT{constructor(e,t,r,o,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,d),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=hk(this.serializer,e),r=function(l){if(!("targetChange"in l))return Ve.min();const d=l.targetChange;return d.targetIds&&d.targetIds.length?Ve.min():d.readTime?ua(d.readTime):Ve.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=Pm(this.serializer),t.addTarget=function(l,d){let p;const f=d.target;if(p=Cm(f)?{documents:mk(l,f)}:{query:hT(l,f).ht},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=lT(l,d.resumeToken);const m=Dm(l,d.expectedCount);m!==null&&(p.expectedCount=m)}else if(d.snapshotVersion.compareTo(Ve.min())>0){p.readTime=th(l,d.snapshotVersion.toTimestamp());const m=Dm(l,d.expectedCount);m!==null&&(p.expectedCount=m)}return p}(this.serializer,e);const r=yk(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=Pm(this.serializer),t.removeTarget=e,this.I_(t)}}class oP extends bT{constructor(e,t,r,o,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,d),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return it(!!e.streamToken),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){it(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=pk(e.writeResults,e.commitTime),r=ua(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=Pm(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>fk(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{}class cP extends lP{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new Ee(se.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection.So(e,Om(t,r),o,l,d)).catch(l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ee(se.UNKNOWN,l.toString())})}Co(e,t,r,o,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Co(e,Om(t,r),o,d,p,l)).catch(d=>{throw d.name==="FirebaseError"?(d.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Ee(se.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class uP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Qa(t),this.N_=!1):_e("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="RemoteStore";class dP{constructor(e,t,r,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(d=>{r.enqueueAndForget(async()=>{Us(this)&&(_e(Ps,"Restarting streams for network reachability change."),await async function(f){const m=Me(f);m.W_.add(4),await $c(m),m.j_.set("Unknown"),m.W_.delete(4),await Dh(m)}(this))})}),this.j_=new uP(r,o)}}async function Dh(i){if(Us(i))for(const e of i.G_)await e(!0)}async function $c(i){for(const e of i.G_)await e(!1)}function wT(i,e){const t=Me(i);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),Gg(t)?Hg(t):rl(t).c_()&&qg(t,e))}function Fg(i,e){const t=Me(i),r=rl(t);t.K_.delete(e),r.c_()&&xT(t,e),t.K_.size===0&&(r.c_()?r.P_():Us(t)&&t.j_.set("Unknown"))}function qg(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}rl(i).y_(e)}function xT(i,e){i.H_.Ne(e),rl(i).w_(e)}function Hg(i){i.H_=new rk({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.K_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),rl(i).start(),i.j_.B_()}function Gg(i){return Us(i)&&!rl(i).u_()&&i.K_.size>0}function Us(i){return Me(i).W_.size===0}function TT(i){i.H_=void 0}async function hP(i){i.j_.set("Online")}async function fP(i){i.K_.forEach((e,t)=>{qg(i,e)})}async function pP(i,e){TT(i),Gg(i)?(i.j_.q_(e),Hg(i)):i.j_.set("Unknown")}async function mP(i,e,t){if(i.j_.set("Online"),e instanceof oT&&e.state===2&&e.cause)try{await async function(o,l){const d=l.cause;for(const p of l.targetIds)o.K_.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.K_.delete(p),o.H_.removeTarget(p))}(i,e)}catch(r){_e(Ps,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ih(i,r)}else if(e instanceof jd?i.H_.We(e):e instanceof sT?i.H_.Ze(e):i.H_.je(e),!t.isEqual(Ve.min()))try{const r=await _T(i.localStore);t.compareTo(r)>=0&&await function(l,d){const p=l.H_.ot(d);return p.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const y=l.K_.get(m);y&&l.K_.set(m,y.withResumeToken(f.resumeToken,d))}}),p.targetMismatches.forEach((f,m)=>{const y=l.K_.get(f);if(!y)return;l.K_.set(f,y.withResumeToken(En.EMPTY_BYTE_STRING,y.snapshotVersion)),xT(l,f);const b=new Nr(y.target,f,m,y.sequenceNumber);qg(l,b)}),l.remoteSyncer.applyRemoteEvent(p)}(i,t)}catch(r){_e(Ps,"Failed to raise snapshot:",r),await ih(i,r)}}async function ih(i,e,t){if(!il(e))throw e;i.W_.add(1),await $c(i),i.j_.set("Offline"),t||(t=()=>_T(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{_e(Ps,"Retrying IndexedDB access"),await t(),i.W_.delete(1),await Dh(i)})}function AT(i,e){return e().catch(t=>ih(i,t,e))}async function Oh(i){const e=Me(i),t=zr(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:Rg;for(;gP(e);)try{const o=await Wk(e.localStore,r);if(o===null){e.U_.length===0&&t.P_();break}r=o.batchId,vP(e,o)}catch(o){await ih(e,o)}ST(e)&&RT(e)}function gP(i){return Us(i)&&i.U_.length<10}function vP(i,e){i.U_.push(e);const t=zr(i);t.c_()&&t.S_&&t.b_(e.mutations)}function ST(i){return Us(i)&&!zr(i).u_()&&i.U_.length>0}function RT(i){zr(i).start()}async function yP(i){zr(i).C_()}async function _P(i){const e=zr(i);for(const t of i.U_)e.b_(t.mutations)}async function EP(i,e,t){const r=i.U_.shift(),o=jg.from(r,e,t);await AT(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Oh(i)}async function bP(i,e){e&&zr(i).S_&&await async function(r,o){if(function(d){return ik(d)&&d!==se.ABORTED}(o.code)){const l=r.U_.shift();zr(r).h_(),await AT(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Oh(r)}}(i,e),ST(i)&&RT(i)}async function o0(i,e){const t=Me(i);t.asyncQueue.verifyOperationInProgress(),_e(Ps,"RemoteStore received new credentials");const r=Us(t);t.W_.add(3),await $c(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Dh(t)}async function wP(i,e){const t=Me(i);e?(t.W_.delete(2),await Dh(t)):e||(t.W_.add(2),await $c(t),t.j_.set("Unknown"))}function rl(i){return i.J_||(i.J_=function(t,r,o){const l=Me(t);return l.M_(),new sP(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{xo:hP.bind(null,i),No:fP.bind(null,i),Lo:pP.bind(null,i),p_:mP.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),Gg(i)?Hg(i):i.j_.set("Unknown")):(await i.J_.stop(),TT(i))})),i.J_}function zr(i){return i.Y_||(i.Y_=function(t,r,o){const l=Me(t);return l.M_(),new oP(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:yP.bind(null,i),Lo:bP.bind(null,i),D_:_P.bind(null,i),v_:EP.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await Oh(i)):(await i.Y_.stop(),i.U_.length>0&&(_e(Ps,`Stopping write stream with ${i.U_.length} pending writes`),i.U_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,t,r,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new la,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,l){const d=Date.now()+r,p=new $g(e,t,d,o,l);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kg(i,e){if(Qa("AsyncQueue",`${e}: ${i}`),il(i))return new Ee(se.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{static emptySet(e){return new Lo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ie.comparator(t.key,r.key):(t,r)=>Ie.comparator(t.key,r.key),this.keyedMap=mc(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Lo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Lo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(){this.Z_=new Nt(Ie.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):je():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ho{constructor(e,t,r,o,l,d,p,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,o,l){const d=[];return t.forEach(p=>{d.push({type:0,doc:p})}),new Ho(e,t,Lo.emptySet(t),d,r,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ah(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class TP{constructor(){this.queries=c0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const o=Me(t),l=o.queries;o.queries=c0(),l.forEach((d,p)=>{for(const f of p.ta)f.onError(r)})})(this,new Ee(se.ABORTED,"Firestore shutting down"))}}function c0(){return new Vs(i=>Kx(i),Ah)}async function IT(i,e){const t=Me(i);let r=3;const o=e.query;let l=t.queries.get(o);l?!l.na()&&e.ra()&&(r=2):(l=new xP,r=e.ra()?0:1);try{switch(r){case 0:l.ea=await t.onListen(o,!0);break;case 1:l.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(d){const p=Kg(d,`Initialization of query '${Do(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&Qg(t)}async function CT(i,e){const t=Me(i),r=e.query;let o=3;const l=t.queries.get(r);if(l){const d=l.ta.indexOf(e);d>=0&&(l.ta.splice(d,1),l.ta.length===0?o=e.ra()?0:1:!l.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function AP(i,e){const t=Me(i);let r=!1;for(const o of e){const l=o.query,d=t.queries.get(l);if(d){for(const p of d.ta)p.oa(o)&&(r=!0);d.ea=o}}r&&Qg(t)}function SP(i,e,t){const r=Me(i),o=r.queries.get(e);if(o)for(const l of o.ta)l.onError(t);r.queries.delete(e)}function Qg(i){i.ia.forEach(e=>{e.next()})}var Lm,u0;(u0=Lm||(Lm={}))._a="default",u0.Cache="cache";class NT{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Ho(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Lm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e){this.key=e}}class OT{constructor(e){this.key=e}}class RP{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ye(),this.mutatedKeys=Ye(),this.ya=Qx(e),this.wa=new Lo(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new l0,o=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,d=o,p=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((y,b)=>{const x=o.get(y),R=Sh(this.query,b)?b:null,I=!!x&&this.mutatedKeys.has(x.key),U=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let L=!1;x&&R?x.data.isEqual(R.data)?I!==U&&(r.track({type:3,doc:R}),L=!0):this.va(x,R)||(r.track({type:2,doc:R}),L=!0,(f&&this.ya(R,f)>0||m&&this.ya(R,m)<0)&&(p=!0)):!x&&R?(r.track({type:0,doc:R}),L=!0):x&&!R&&(r.track({type:1,doc:x}),L=!0,(f||m)&&(p=!0)),L&&(R?(d=d.add(R),l=U?l.add(y):l.delete(y)):(d=d.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const y=this.query.limitType==="F"?d.last():d.first();d=d.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{wa:d,Da:r,ls:p,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((y,b)=>function(R,I){const U=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je()}};return U(R)-U(I)}(y.type,b.type)||this.ya(y.doc,b.doc)),this.Ca(r),o=o!=null&&o;const p=t&&!o?this.Fa():[],f=this.pa.size===0&&this.current&&!o?1:0,m=f!==this.ga;return this.ga=f,d.length!==0||m?{snapshot:new Ho(this.query,e.wa,l,d,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:p}:{Ma:p}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new l0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ye(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new OT(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new DT(r))}),t}Oa(e){this.fa=e.gs,this.pa=Ye();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Ho.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Yg="SyncEngine";class IP{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class CP{constructor(e){this.key=e,this.Ba=!1}}class NP{constructor(e,t,r,o,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Vs(p=>Kx(p),Ah),this.qa=new Map,this.Qa=new Set,this.$a=new Nt(Ie.comparator),this.Ua=new Map,this.Ka=new Vg,this.Wa={},this.Ga=new Map,this.za=qo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function DP(i,e,t=!0){const r=VT(i);let o;const l=r.ka.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Na()):o=await kT(r,e,t,!0),o}async function OP(i,e){const t=VT(i);await kT(t,e,!0,!1)}async function kT(i,e,t,r){const o=await Zk(i.localStore,ca(e)),l=o.targetId,d=i.sharedClientState.addLocalQueryTarget(l,t);let p;return r&&(p=await kP(i,e,l,d==="current",o.resumeToken)),i.isPrimaryClient&&t&&wT(i.remoteStore,o),p}async function kP(i,e,t,r,o){i.Ha=(b,x,R)=>async function(U,L,H,ne){let K=L.view.ba(H);K.ls&&(K=await n0(U.localStore,L.query,!1).then(({documents:j})=>L.view.ba(j,K)));const ce=ne&&ne.targetChanges.get(L.targetId),fe=ne&&ne.targetMismatches.get(L.targetId)!=null,be=L.view.applyChanges(K,U.isPrimaryClient,ce,fe);return h0(U,L.targetId,be.Ma),be.snapshot}(i,b,x,R);const l=await n0(i.localStore,e,!0),d=new RP(e,l.gs),p=d.ba(l.documents),f=Gc.createSynthesizedTargetChangeForCurrentChange(t,r&&i.onlineState!=="Offline",o),m=d.applyChanges(p,i.isPrimaryClient,f);h0(i,t,m.Ma);const y=new IP(e,t,d);return i.ka.set(e,y),i.qa.has(t)?i.qa.get(t).push(e):i.qa.set(t,[e]),m.snapshot}async function PP(i,e,t){const r=Me(i),o=r.ka.get(e),l=r.qa.get(o.targetId);if(l.length>1)return r.qa.set(o.targetId,l.filter(d=>!Ah(d,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await jm(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&Fg(r.remoteStore,o.targetId),Vm(r,o.targetId)}).catch(nl)):(Vm(r,o.targetId),await jm(r.localStore,o.targetId,!0))}async function jP(i,e){const t=Me(i),r=t.ka.get(e),o=t.qa.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Fg(t.remoteStore,r.targetId))}async function MP(i,e,t){const r=qP(i);try{const o=await function(d,p){const f=Me(d),m=Ct.now(),y=p.reduce((R,I)=>R.add(I.key),Ye());let b,x;return f.persistence.runTransaction("Locally write mutations","readwrite",R=>{let I=Ya(),U=Ye();return f.ds.getEntries(R,y).next(L=>{I=L,I.forEach((H,ne)=>{ne.isValidDocument()||(U=U.add(H))})}).next(()=>f.localDocuments.getOverlayedDocuments(R,I)).next(L=>{b=L;const H=[];for(const ne of p){const K=WO(ne,b.get(ne.key).overlayedDocument);K!=null&&H.push(new Hr(ne.key,K,Vx(K.value.mapValue),Si.exists(!0)))}return f.mutationQueue.addMutationBatch(R,m,H,p)}).next(L=>{x=L;const H=L.applyToLocalDocumentSet(b,U);return f.documentOverlayCache.saveOverlays(R,L.batchId,H)})}).then(()=>({batchId:x.batchId,changes:Xx(b)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(d,p,f){let m=d.Wa[d.currentUser.toKey()];m||(m=new Nt(Fe)),m=m.insert(p,f),d.Wa[d.currentUser.toKey()]=m}(r,o.batchId,t),await Kc(r,o.changes),await Oh(r.remoteStore)}catch(o){const l=Kg(o,"Failed to persist write");t.reject(l)}}async function PT(i,e){const t=Me(i);try{const r=await Yk(t.localStore,e);e.targetChanges.forEach((o,l)=>{const d=t.Ua.get(l);d&&(it(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?it(d.Ba):o.removedDocuments.size>0&&(it(d.Ba),d.Ba=!1))}),await Kc(t,r,e)}catch(r){await nl(r)}}function d0(i,e,t){const r=Me(i);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.ka.forEach((l,d)=>{const p=d.view.sa(e);p.snapshot&&o.push(p.snapshot)}),function(d,p){const f=Me(d);f.onlineState=p;let m=!1;f.queries.forEach((y,b)=>{for(const x of b.ta)x.sa(p)&&(m=!0)}),m&&Qg(f)}(r.eventManager,e),o.length&&r.La.p_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function LP(i,e,t){const r=Me(i);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Ua.get(e),l=o&&o.key;if(l){let d=new Nt(Ie.comparator);d=d.insert(l,Nn.newNoDocument(l,Ve.min()));const p=Ye().add(l),f=new Ch(Ve.min(),new Map,new Nt(Fe),d,p);await PT(r,f),r.$a=r.$a.remove(l),r.Ua.delete(e),Xg(r)}else await jm(r.localStore,e,!1).then(()=>Vm(r,e,t)).catch(nl)}async function VP(i,e){const t=Me(i),r=e.batch.batchId;try{const o=await Qk(t.localStore,e);MT(t,r,null),jT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Kc(t,o)}catch(o){await nl(o)}}async function UP(i,e,t){const r=Me(i);try{const o=await function(d,p){const f=Me(d);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return f.mutationQueue.lookupMutationBatch(m,p).next(b=>(it(b!==null),y=b.keys(),f.mutationQueue.removeMutationBatch(m,b))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,y,p)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>f.localDocuments.getDocuments(m,y))})}(r.localStore,e);MT(r,e,t),jT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Kc(r,o)}catch(o){await nl(o)}}function jT(i,e){(i.Ga.get(e)||[]).forEach(t=>{t.resolve()}),i.Ga.delete(e)}function MT(i,e,t){const r=Me(i);let o=r.Wa[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),r.Wa[r.currentUser.toKey()]=o}}function Vm(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.qa.get(e))i.ka.delete(r),t&&i.La.Ja(r,t);i.qa.delete(e),i.isPrimaryClient&&i.Ka.br(e).forEach(r=>{i.Ka.containsKey(r)||LT(i,r)})}function LT(i,e){i.Qa.delete(e.path.canonicalString());const t=i.$a.get(e);t!==null&&(Fg(i.remoteStore,t),i.$a=i.$a.remove(e),i.Ua.delete(t),Xg(i))}function h0(i,e,t){for(const r of t)r instanceof DT?(i.Ka.addReference(r.key,e),zP(i,r)):r instanceof OT?(_e(Yg,"Document no longer in limbo: "+r.key),i.Ka.removeReference(r.key,e),i.Ka.containsKey(r.key)||LT(i,r.key)):je()}function zP(i,e){const t=e.key,r=t.path.canonicalString();i.$a.get(t)||i.Qa.has(r)||(_e(Yg,"New document in limbo: "+t),i.Qa.add(r),Xg(i))}function Xg(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const t=new Ie(Et.fromString(e)),r=i.za.next();i.Ua.set(r,new CP(t)),i.$a=i.$a.insert(t,r),wT(i.remoteStore,new Nr(ca(Og(t.path)),r,"TargetPurposeLimboResolution",wh.ae))}}async function Kc(i,e,t){const r=Me(i),o=[],l=[],d=[];r.ka.isEmpty()||(r.ka.forEach((p,f)=>{d.push(r.Ha(f,e,t).then(m=>{var y;if((m||t)&&r.isPrimaryClient){const b=m?!m.fromCache:(y=t==null?void 0:t.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(f.targetId,b?"current":"not-current")}if(m){o.push(m);const b=zg.Yi(f.targetId,m);l.push(b)}}))}),await Promise.all(d),r.La.p_(o),await async function(f,m){const y=Me(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>le.forEach(m,x=>le.forEach(x.Hi,R=>y.persistence.referenceDelegate.addReference(b,x.targetId,R)).next(()=>le.forEach(x.Ji,R=>y.persistence.referenceDelegate.removeReference(b,x.targetId,R)))))}catch(b){if(!il(b))throw b;_e(Bg,"Failed to update sequence numbers: "+b)}for(const b of m){const x=b.targetId;if(!b.fromCache){const R=y.Ts.get(x),I=R.snapshotVersion,U=R.withLastLimboFreeSnapshotVersion(I);y.Ts=y.Ts.insert(x,U)}}}(r.localStore,l))}async function BP(i,e){const t=Me(i);if(!t.currentUser.isEqual(e)){_e(Yg,"User change. New user:",e.toKey());const r=await yT(t.localStore,e);t.currentUser=e,function(l,d){l.Ga.forEach(p=>{p.forEach(f=>{f.reject(new Ee(se.CANCELLED,d))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Kc(t,r.Rs)}}function FP(i,e){const t=Me(i),r=t.Ua.get(e);if(r&&r.Ba)return Ye().add(r.key);{let o=Ye();const l=t.qa.get(e);if(!l)return o;for(const d of l){const p=t.ka.get(d);o=o.unionWith(p.view.Sa)}return o}}function VT(i){const e=Me(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=PT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LP.bind(null,e),e.La.p_=AP.bind(null,e.eventManager),e.La.Ja=SP.bind(null,e.eventManager),e}function qP(i){const e=Me(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UP.bind(null,e),e}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return Kk(this.persistence,new Hk,e.initialUser,this.serializer)}Xa(e){return new vT(Ug.ri,this.serializer)}Za(e){return new eP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class HP extends ah{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){it(this.persistence.referenceDelegate instanceof nh);const r=this.persistence.referenceDelegate.garbageCollector;return new Ck(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?$n.withCacheSize(this.cacheSizeBytes):$n.DEFAULT;return new vT(r=>nh.ri(r,t),this.serializer)}}class Um{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>d0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BP.bind(null,this.syncEngine),await wP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new TP}()}createDatastore(e){const t=Nh(e.databaseInfo.databaseId),r=function(l){return new rP(l)}(e.databaseInfo);return function(l,d,p,f){return new cP(l,d,p,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,o,l,d,p){return new dP(r,o,l,d,p)}(this.localStore,this.datastore,e.asyncQueue,t=>d0(this.syncEngine,t,0),function(){return r0.D()?new r0:new tP}())}createSyncEngine(e,t){return function(o,l,d,p,f,m,y){const b=new NP(o,l,d,p,f,m);return y&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Me(o);_e(Ps,"RemoteStore shutting down."),l.W_.add(5),await $c(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Um.provider={build:()=>new Um};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Qa("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="FirestoreClient";class GP{constructor(e,t,r,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Cn.UNAUTHENTICATED,this.clientId=Ix.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async d=>{_e(Br,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(r,d=>(_e(Br,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new la;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Kg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function om(i,e){i.asyncQueue.verifyOperationInProgress(),_e(Br,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let r=t.initialUser;i.setCredentialChangeListener(async o=>{r.isEqual(o)||(await yT(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function f0(i,e){i.asyncQueue.verifyOperationInProgress();const t=await $P(i);_e(Br,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(r=>o0(e.remoteStore,r)),i.setAppCheckTokenChangeListener((r,o)=>o0(e.remoteStore,o)),i._onlineComponents=e}async function $P(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){_e(Br,"Using user provided OfflineComponentProvider");try{await om(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===se.FAILED_PRECONDITION||o.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Uo("Error using user provided cache. Falling back to memory cache: "+t),await om(i,new ah)}}else _e(Br,"Using default OfflineComponentProvider"),await om(i,new HP(void 0));return i._offlineComponents}async function Wg(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(_e(Br,"Using user provided OnlineComponentProvider"),await f0(i,i._uninitializedComponentsProvider._online)):(_e(Br,"Using default OnlineComponentProvider"),await f0(i,new Um))),i._onlineComponents}function KP(i){return Wg(i).then(e=>e.syncEngine)}function QP(i){return Wg(i).then(e=>e.datastore)}async function zT(i){const e=await Wg(i),t=e.eventManager;return t.onListen=DP.bind(null,e.syncEngine),t.onUnlisten=PP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=OP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=jP.bind(null,e.syncEngine),t}function YP(i,e,t={}){const r=new la;return i.asyncQueue.enqueueAndForget(async()=>function(l,d,p,f,m){const y=new UT({next:x=>{y.su(),d.enqueueAndForget(()=>CT(l,b));const R=x.docs.has(p);!R&&x.fromCache?m.reject(new Ee(se.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&x.fromCache&&f&&f.source==="server"?m.reject(new Ee(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(x)},error:x=>m.reject(x)}),b=new NT(Og(p.path),y,{includeMetadataChanges:!0,Ta:!0});return IT(l,b)}(await zT(i),i.asyncQueue,e,t,r)),r.promise}function XP(i,e,t={}){const r=new la;return i.asyncQueue.enqueueAndForget(async()=>function(l,d,p,f,m){const y=new UT({next:x=>{y.su(),d.enqueueAndForget(()=>CT(l,b)),x.fromCache&&f.source==="server"?m.reject(new Ee(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(x)},error:x=>m.reject(x)}),b=new NT(p,y,{includeMetadataChanges:!0,Ta:!0});return IT(l,b)}(await zT(i),i.asyncQueue,e,t,r)),r.promise}function WP(i,e,t){const r=new la;return i.asyncQueue.enqueueAndForget(async()=>{try{const o=await QP(i);r.resolve(async function(d,p,f){var m;const y=Me(d),{request:b,Pt:x,parent:R}=gk(y.serializer,LO(p),f);y.connection.fo||delete b.parent;const I=(await y.Co("RunAggregationQuery",y.serializer.databaseId,R,b,1)).filter(L=>!!L.result);it(I.length===1);const U=(m=I[0].result)===null||m===void 0?void 0:m.aggregateFields;return Object.keys(U).reduce((L,H)=>(L[x[H]]=U[H],L),{})}(o,e,t))}catch(o){r.reject(o)}}),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(i,e,t){if(!t)throw new Ee(se.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ZP(i,e,t,r){if(e===!0&&r===!0)throw new Ee(se.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function m0(i){if(!Ie.isDocumentKey(i))throw new Ee(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function g0(i){if(Ie.isDocumentKey(i))throw new Ee(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function kh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":je()}function Ii(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ee(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=kh(i);throw new Ee(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="firestore.googleapis.com",v0=!0;class y0{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qT,this.ssl=v0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:v0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Rk)throw new Ee(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ee(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ee(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ee(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ph{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new y0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new y0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new nO;switch(r.type){case"firstParty":return new sO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ee(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=p0.get(t);r&&(_e("ComponentProvider","Removing Datastore"),p0.delete(t),r.terminate())}(this),Promise.resolve()}}function JP(i,e,t,r={}){var o;const l=(i=Ii(i,Ph))._getSettings(),d=Object.assign(Object.assign({},l),{emulatorOptions:i._getEmulatorOptions()}),p=`${e}:${t}`;l.host!==qT&&l.host!==p&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},l),{host:p,ssl:!1,emulatorOptions:r});if(!Rs(f,d)&&(i._setSettings(f),r.mockUserToken)){let m,y;if(typeof r.mockUserToken=="string")m=r.mockUserToken,y=Cn.MOCK_USER;else{m=qI(r.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new Ee(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Cn(b)}i._authCredentials=new iO(new Sx(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gr(this.firestore,e,this._query)}}class Ln{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ln(this.firestore,e,this._key)}}class Pr extends Gr{constructor(e,t,r){super(e,t,Og(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ln(this.firestore,null,new Ie(e))}withConverter(e){return new Pr(this.firestore,e,this._path)}}function Tt(i,e,...t){if(i=bt(i),FT("collection","path",e),i instanceof Ph){const r=Et.fromString(e,...t);return g0(r),new Pr(i,null,r)}{if(!(i instanceof Ln||i instanceof Pr))throw new Ee(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(Et.fromString(e,...t));return g0(r),new Pr(i.firestore,null,r)}}function jc(i,e,...t){if(i=bt(i),arguments.length===1&&(e=Ix.newId()),FT("doc","path",e),i instanceof Ph){const r=Et.fromString(e,...t);return m0(r),new Ln(i,null,new Ie(r))}{if(!(i instanceof Ln||i instanceof Pr))throw new Ee(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(Et.fromString(e,...t));return m0(r),new Ln(i.firestore,i instanceof Pr?i.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="AsyncQueue";class E0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ET(this,"async_queue_retry"),this.Su=()=>{const r=sm();r&&_e(_0,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=sm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=sm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new la;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!il(e))throw e;_e(_0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const o=function(d){let p=d.message||"";return d.stack&&(p=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),p}(r);throw Qa("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=$g.createAndSchedule(this,e,t,r,l=>this.Fu(l));return this.fu.push(o),o}Du(){this.gu&&je()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class $r extends Ph{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new E0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new E0(e),this._firestoreClient=void 0,await e}}}function ci(i,e){const t=typeof i=="object"?i:gh(),r=typeof i=="string"?i:Yd,o=Zo(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const l=ow("firestore");l&&JP(o,...l)}return o}function jh(i){if(i._terminated)throw new Ee(se.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||ej(i),i._firestoreClient}function ej(i){var e,t,r;const o=i._freezeSettings(),l=function(p,f,m,y){return new wO(p,f,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,BT(y.experimentalLongPollingOptions),y.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new GP(i._authCredentials,i._appCheckCredentials,i._queue,l,i._componentsProvider&&function(p){const f=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(f),_online:f}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class nj{constructor(e,t,r){this._userDataWriter=t,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Go(En.fromBase64String(e))}catch(t){throw new Ee(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Go(En.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ee(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ee(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ee(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=/^__.*__$/;class aj{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Hr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hc(e,this.data,t,this.fieldTransforms)}}class HT{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Hr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function GT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je()}}class tv{constructor(e,t,r,o,l,d){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new tv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:r,Qu:!1});return o.$u(e),o}Uu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:r,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return rh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(GT(this.Lu)&&ij.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class rj{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Nh(e)}ju(e,t,r,o=!1){return new tv({Lu:e,methodName:t,zu:r,path:_n.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lh(i){const e=i._freezeSettings(),t=Nh(i._databaseId);return new rj(i._databaseId,!!e.ignoreUndefinedProperties,t)}function $T(i,e,t,r,o,l={}){const d=i.ju(l.merge||l.mergeFields?2:0,e,t,o);nv("Data must be an object, but it was:",d,r);const p=KT(r,d);let f,m;if(l.merge)f=new ui(d.fieldMask),m=d.fieldTransforms;else if(l.mergeFields){const y=[];for(const b of l.mergeFields){const x=zm(e,b,t);if(!d.contains(x))throw new Ee(se.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);YT(y,x)||y.push(x)}f=new ui(y),m=d.fieldTransforms.filter(b=>f.covers(b.field))}else f=null,m=d.fieldTransforms;return new aj(new Qn(p),f,m)}class Vh extends Zg{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vh}}function sj(i,e,t,r){const o=i.ju(1,e,t);nv("Data must be an object, but it was:",o,r);const l=[],d=Qn.empty();qr(r,(f,m)=>{const y=iv(e,f,t);m=bt(m);const b=o.Uu(y);if(m instanceof Vh)l.push(y);else{const x=Qc(m,b);x!=null&&(l.push(y),d.set(y,x))}});const p=new ui(l);return new HT(d,p,o.fieldTransforms)}function oj(i,e,t,r,o,l){const d=i.ju(1,e,t),p=[zm(e,r,t)],f=[o];if(l.length%2!=0)throw new Ee(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)p.push(zm(e,l[x])),f.push(l[x+1]);const m=[],y=Qn.empty();for(let x=p.length-1;x>=0;--x)if(!YT(m,p[x])){const R=p[x];let I=f[x];I=bt(I);const U=d.Uu(R);if(I instanceof Vh)m.push(R);else{const L=Qc(I,U);L!=null&&(m.push(R),y.set(R,L))}}const b=new ui(m);return new HT(y,b,d.fieldTransforms)}function lj(i,e,t,r=!1){return Qc(t,i.ju(r?4:3,e))}function Qc(i,e){if(QT(i=bt(i)))return nv("Unsupported field value:",e,i),KT(i,e);if(i instanceof Zg)return function(r,o){if(!GT(o.Lu))throw o.Wu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,o){const l=[];let d=0;for(const p of r){let f=Qc(p,o.Ku(d));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),d++}return{arrayValue:{values:l}}}(i,e)}return function(r,o){if((r=bt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return GO(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Ct.fromDate(r);return{timestampValue:th(o.serializer,l)}}if(r instanceof Ct){const l=new Ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:th(o.serializer,l)}}if(r instanceof Jg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Go)return{bytesValue:lT(o.serializer,r._byteString)};if(r instanceof Ln){const l=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(l))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Lg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ev)return function(d,p){return{mapValue:{fields:{[Mx]:{stringValue:Lx},[Xd]:{arrayValue:{values:d.toArray().map(m=>{if(typeof m!="number")throw p.Wu("VectorValues must only contain numeric values.");return kg(p.serializer,m)})}}}}}}(r,o);throw o.Wu(`Unsupported field value: ${kh(r)}`)}(i,e)}function KT(i,e){const t={};return Nx(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qr(i,(r,o)=>{const l=Qc(o,e.qu(r));l!=null&&(t[r]=l)}),{mapValue:{fields:t}}}function QT(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ct||i instanceof Jg||i instanceof Go||i instanceof Ln||i instanceof Zg||i instanceof ev)}function nv(i,e,t){if(!QT(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const r=kh(t);throw r==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+r)}}function zm(i,e,t){if((e=bt(e))instanceof Mh)return e._internalPath;if(typeof e=="string")return iv(i,e);throw rh("Field path arguments must be of type string or ",i,!1,void 0,t)}const cj=new RegExp("[~\\*/\\[\\]]");function iv(i,e,t){if(e.search(cj)>=0)throw rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Mh(...e.split("."))._internalPath}catch{throw rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function rh(i,e,t,r,o){const l=r&&!r.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let f="";return(l||d)&&(f+=" (found",l&&(f+=` in field ${r}`),d&&(f+=` in document ${o}`),f+=")"),new Ee(se.INVALID_ARGUMENT,p+i+f)}function YT(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,t,r,o,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Uh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class uj extends XT{data(){return super.data()}}function Uh(i,e){return typeof e=="string"?iv(i,e):e instanceof Mh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Ee(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class av{}class rv extends av{}function yn(i,e,...t){let r=[];e instanceof av&&r.push(e),r=r.concat(t),function(l){const d=l.filter(f=>f instanceof sv).length,p=l.filter(f=>f instanceof zh).length;if(d>1||d>0&&p>0)throw new Ee(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)i=o._apply(i);return i}class zh extends rv{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new zh(e,t,r)}_apply(e){const t=this._parse(e);return WT(e._query,t),new Gr(e.firestore,e.converter,Nm(e._query,t))}_parse(e){const t=Lh(e.firestore);return function(l,d,p,f,m,y,b){let x;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Ee(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){w0(b,y);const I=[];for(const U of b)I.push(b0(f,l,U));x={arrayValue:{values:I}}}else x=b0(f,l,b)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||w0(b,y),x=lj(p,d,b,y==="in"||y==="not-in");return Gt.create(m,y,x)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function nt(i,e,t){const r=e,o=Uh("where",i);return zh._create(o,r,t)}class sv extends av{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new sv(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Bi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let d=o;const p=l.getFlattenedFilters();for(const f of p)WT(d,f),d=Nm(d,f)}(e._query,t),new Gr(e.firestore,e.converter,Nm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ov extends rv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ov(e,t)}_apply(e){const t=function(o,l,d){if(o.startAt!==null)throw new Ee(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Ee(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Oc(l,d)}(e._query,this._field,this._direction);return new Gr(e.firestore,e.converter,function(o,l){const d=o.explicitOrderBy.concat([l]);return new al(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function hj(i,e="asc"){const t=e,r=Uh("orderBy",i);return ov._create(r,t)}class lv extends rv{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new lv(e,t,r)}_apply(e){return new Gr(e.firestore,e.converter,Zd(e._query,this._limit,this._limitType))}}function fj(i){return lv._create("limit",i,"F")}function b0(i,e,t){if(typeof(t=bt(t))=="string"){if(t==="")throw new Ee(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gx(e)&&t.indexOf("/")!==-1)throw new Ee(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Et.fromString(t));if(!Ie.isDocumentKey(r))throw new Ee(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Lb(i,new Ie(r))}if(t instanceof Ln)return Lb(i,t._key);throw new Ee(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kh(t)}.`)}function w0(i,e){if(!Array.isArray(i)||i.length===0)throw new Ee(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function WT(i,e){const t=function(o,l){for(const d of o)for(const p of d.getFlattenedFilters())if(l.indexOf(p.op)>=0)return p.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ee(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ee(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class pj{convertValue(e,t="none"){switch(Ur(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw je()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return qr(e,(o,l)=>{r[o]=this.convertValue(l,t)}),r}convertVectorValue(e){var t,r,o;const l=(o=(r=(t=e.fields)===null||t===void 0?void 0:t[Xd].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(d=>Ut(d.doubleValue));return new ev(l)}convertGeoPoint(e){return new Jg(Ut(e.latitude),Ut(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Th(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Cc(e));default:return null}}convertTimestamp(e){const t=Lr(e);return new Ct(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Et.fromString(e);it(mT(r));const o=new Nc(r.get(1),r.get(3)),l=new Ie(r.popFirst(5));return o.isEqual(t)||Qa(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(i,e,t){let r;return r=i?i.toFirestore(e):e,r}function mj(){return new tj("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class JT extends XT{constructor(e,t,r,o,l,d){super(e,t,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Md(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Uh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Md extends JT{data(e={}){return super.data(e)}}class gj{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new vc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Md(this._firestore,this._userDataWriter,r.key,r,new vc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ee(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(p=>{const f=new Md(o._firestore,o._userDataWriter,p.doc.key,p.doc,new vc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:f,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>l||p.type!==3).map(p=>{const f=new Md(o._firestore,o._userDataWriter,p.doc.key,p.doc,new vc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,y=-1;return p.type!==0&&(m=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),y=d.indexOf(p.doc.key)),{type:vj(p.type),doc:f,oldIndex:m,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function vj(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(i){i=Ii(i,Ln);const e=Ii(i.firestore,$r);return YP(jh(e),i._key).then(t=>bj(e,i,t))}class cv extends pj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Go(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ln(this.firestore,null,t)}}function gn(i){i=Ii(i,Gr);const e=Ii(i.firestore,$r),t=jh(e),r=new cv(e);return dj(i._query),XP(t,i._query).then(o=>new gj(e,r,i,o))}function _j(i,e,t){i=Ii(i,Ln);const r=Ii(i.firestore,$r),o=ZT(i.converter,e);return Bh(r,[$T(Lh(r),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,Si.none())])}function uv(i,e,t,...r){i=Ii(i,Ln);const o=Ii(i.firestore,$r),l=Lh(o);let d;return d=typeof(e=bt(e))=="string"||e instanceof Mh?oj(l,"updateDoc",i._key,e,t,r):sj(l,"updateDoc",i._key,e),Bh(o,[d.toMutation(i._key,Si.exists(!0))])}function Ej(i){return Bh(Ii(i.firestore,$r),[new Pg(i._key,Si.none())])}function eA(i,e){const t=Ii(i.firestore,$r),r=jc(i),o=ZT(i.converter,e);return Bh(t,[$T(Lh(i.firestore),"addDoc",r._key,o,i.converter!==null,{}).toMutation(r._key,Si.exists(!1))]).then(()=>r)}function Bh(i,e){return function(r,o){const l=new la;return r.asyncQueue.enqueueAndForget(async()=>MP(await KP(r),o,l)),l.promise}(jh(i),e)}function bj(i,e,t){const r=t.docs.get(e._key),o=new cv(i);return new JT(i,o,e._key,r,new vc(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(i){return wj(i,{count:mj()})}function wj(i,e){const t=Ii(i.firestore,$r),r=jh(t),o=EO(e,(l,d)=>new tk(d,l.aggregateType,l._internalFieldPath));return WP(r,i._query,o).then(l=>function(p,f,m){const y=new cv(p);return new nj(f,y,m)}(t,i,l))}(function(e,t=!0){(function(o){tl=o})(Jo),zi(new Ri("firestore",(r,{instanceIdentifier:o,options:l})=>{const d=r.getProvider("app").getImmediate(),p=new $r(new aO(r.getProvider("auth-internal")),new oO(d,r.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ee(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nc(m.options.projectId,y)}(d,o),d);return l=Object.assign({useFetchStreams:t},l),p._setSettings(l),p},"PUBLIC").setMultipleInstances(!0)),Xn(Ab,Sb,e),Xn(Ab,Sb,"esm2017")})();const xj={apiKey:"AIzaSyBvJN_tCgAo_EchtZDzrtKcZ6x8W-GniAk",authDomain:"bin-buddy-v1.firebaseapp.com",projectId:"bin-buddy-v1",storageBucket:"rbin-buddy-v1.firebasestorage.app",messagingSenderId:"881998622573",appId:"1:881998622573:web:d1571774c28ee2e5cab464",measurementId:"G-PRK6MDP30W"},tA=gw(xj),ha=Ns(tA),Tj=new za,Mi=ci(tA);function Aj(){var i,e,t;return!!(document.referrer.startsWith("android-app://")||(i=window.matchMedia)!=null&&i.call(window,"(display-mode: standalone)").matches||(e=window.matchMedia)!=null&&e.call(window,"(display-mode: fullscreen)").matches||(t=window.matchMedia)!=null&&t.call(window,"(display-mode: minimal-ui)").matches||window.navigator.standalone===!0)}const fa=()=>{const[i,e]=O.useState(!1),[t,r]=O.useState(null),[o,l]=O.useState(!0),[d,p]=O.useState(!0);O.useEffect(()=>{e(Aj());const y=jr(ha,b=>{r(b||null),l(!1)});return()=>y()},[]);const f=()=>{p(!d)},m=()=>{p(!0)};return g.jsxs("nav",{className:"navbar navbar-expand-lg navbar-light bg-white shadow-sm px-4 vh-10",children:[g.jsx("a",{className:"navbar-brand",href:"#",children:g.jsx("img",{src:"/icons/icon-long.png",alt:"Logo",height:"40"})}),g.jsx("button",{className:"navbar-toggler",type:"button",onClick:f,"aria-controls":"navbarNav","aria-expanded":!d,"aria-label":"Toggle navigation",children:g.jsx("span",{className:"navbar-toggler-icon"})}),g.jsxs("div",{className:`collapse navbar-collapse justify-content-end ${d?"":"show"}`,id:"navbarNav",children:[g.jsxs("ul",{className:"navbar-nav me-3 d-flex gap-4",children:[g.jsx("li",{className:"nav-item",children:g.jsx(At,{to:"/",className:"nav-link text-decoration-none text-dark",onClick:m,children:"Home"})}),g.jsx("li",{className:"nav-item",children:g.jsx("a",{className:"nav-link",href:"#",onClick:m,children:"How it works"})}),!i&&g.jsx("li",{className:"nav-item",children:g.jsx(At,{to:"/ourApp",className:"nav-link text-decoration-none text-dark",onClick:m,children:"Our App"})}),g.jsx("li",{className:"nav-item",children:g.jsx(At,{to:"/categorizer",className:"nav-link text-decoration-none text-dark",onClick:m,children:"Try us"})})]}),!o&&(t?g.jsx(At,{to:"/profile",className:"btn btn-profile text-decoration-none",onClick:m,children:t.displayName||"User"}):g.jsx(At,{to:"/signin",className:"btn btn-signin text-decoration-none",onClick:m,children:"Sign Up"}))]})]})},nA=O.createContext(),Sj=({children:i})=>{const[e,t]=O.useState(null),[r,o]=O.useState(!0);return O.useEffect(()=>{const l=jr(ha,d=>{t(d),o(!1)});return()=>l()},[]),g.jsx(nA.Provider,{value:{user:e,loading:r},children:i})},Rj=()=>O.useContext(nA),Ij=async()=>{try{const i=await eA(Tt(Mi,"dummy"),{name:"John Doe",email:"test"});console.log("Document written with ID: ",i.id)}catch(i){console.error("Error adding document: ",i)}},Cj=()=>{const{user:i,loading:e}=Rj();return O.useEffect(()=>{!e&&i&&i.getIdTokenResult().then(t=>{t.claims.admin?console.log("User is admin"):console.log("User is not admin")}).catch(t=>{console.log("Error getting token result:",t)})},[i,e]),g.jsxs("div",{children:[g.jsx(fa,{}),g.jsx("div",{className:"container mt-5",children:g.jsx("button",{className:"btn btn-primary",onClick:Ij,children:"Click Me"})})]})};function iA(){const i=Wo(),e=()=>{G1(ha,Tj).then(t=>{const r=t.user;console.log("User Info:",r),i("/categorizer")}).catch(t=>{console.error("Error signing in with Google:",t)})};return g.jsxs("button",{className:"btn w-100 d-flex align-items-center justify-content-center gap-2 border",onClick:e,children:[g.jsx("img",{src:"https://img.icons8.com/?size=100&id=V5cGWnc9R4xj&format=png&color=000000",alt:"Google logo",style:{width:"28px"}}),g.jsx("span",{className:"text-sm font-medium text-[#5F6368]",children:"Login with Google"})]})}const Nj=()=>{const[i,e]=O.useState(""),t=Wo(),[r,o]=jt.useState(""),[l,d]=jt.useState("");O.useEffect(()=>{const f=jr(ha,m=>{m&&t("/categorizer")});return()=>f()},[t]);const p=async()=>{const f=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(r===""||l===""){e("Please fill in all fields!");return}else if(f.test(r)){if(l.length<6){e("Password must be at least 6 characters long!");return}}else{e("Please enter a valid email address!");return}e("");try{await b1(ha,r,l),console.log("User signed in successfully"),t("/categorizer")}catch(m){console.error("Error signing in:",m),e("Invalid email or password")}};return g.jsx(g.Fragment,{children:g.jsxs("div",{className:"d-flex flex-column vh-100",children:[g.jsx(fa,{}),g.jsx("main",{className:"flex-fill",children:g.jsx("div",{className:"container-fluid h-100 p-0",children:g.jsxs("div",{className:"row h-100 m-0",children:[g.jsx("div",{className:"col-12 col-md-7 p-0",children:g.jsx("img",{src:"https://img.freepik.com/free-photo/used-plastic-bottles-recycling-bins-earth-day-campaign_53876-104848.jpg?t=st=1744912132~exp=1744915732~hmac=22486357cfb1855af022c6fd4a7baa301610b26a825048aa1f845fbdb81d5f48&w=996",alt:"Recyclables",className:"w-100 h-100 object-fit-cover"})}),g.jsx("div",{className:"col-12 col-md-5 d-flex flex-column justify-content-center align-items-center",children:g.jsxs("div",{className:"form-container",style:{width:"80%"},children:[g.jsx("p",{className:"fw-bold fs-4 empty",children:"Welcome Back!"}),g.jsxs("p",{className:"fw-light text-secondary f-9",children:["Don't have an account?","  ",g.jsx(At,{to:"/register",className:"text-decoration-none fw-semibold text-muted",children:"Create a new account now!"})]}),g.jsx("div",{className:"row g-2 mb-2",children:g.jsx(iA,{})}),g.jsxs("div",{className:"d-flex align-items-center my-3",children:[g.jsx("hr",{className:"flex-grow-1 m-0"}),g.jsx("p",{className:"px-2 m-0 text-secondary f-9",children:"Or"}),g.jsx("hr",{className:"flex-grow-1 m-0"})]}),g.jsxs("div",{className:"form-floating mb-3",children:[g.jsx("input",{type:"email",className:"form-control form-control-sm border-0 border-bottom fs-9",id:"email-input",placeholder:"Email",value:r,onChange:f=>{o(f.target.value),e("")}}),g.jsx("label",{htmlFor:"email-input",className:"text-muted",style:{fontSize:"14px"},children:"Email"})]}),g.jsxs("div",{className:"form-floating mb-3",children:[g.jsx("input",{type:"password",className:"form-control form-control-sm border-0 border-bottom fs-9",id:"password-input",placeholder:"Password",value:l,onChange:f=>{d(f.target.value),e("")},onKeyDown:f=>{f.key==="Enter"&&p()}}),g.jsx("label",{htmlFor:"password-input",className:"text-muted",style:{fontSize:"14px"},children:"Password"})]}),i&&g.jsx("p",{className:"fw-light text-danger text-start f-9",children:i}),g.jsx("button",{className:"btn rounded-3 col-12 mb-3",type:"button",style:{backgroundColor:"#80BC44",color:"#fff"},onClick:p,children:"Sign in"}),g.jsx(At,{to:"/forgot-password",className:"text-decoration-none fw-semibold text-muted",children:"Forgot Password?"})]})})]})})})]})})},Dj=()=>{const[i,e]=O.useState(""),[t,r]=O.useState(""),[o,l]=O.useState(""),[d,p]=O.useState(""),[f,m]=O.useState(!1),y=Wo();O.useEffect(()=>{const x=jr(ha,R=>{R&&y("/categorizer")});return()=>x()},[y]);const b=async()=>{const x=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,R=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$/;if(t!==o){p("Passwords do not match!");return}if(!i||!t||!o){p("Please fill in all fields!");return}if(t.length<6){p("Password must be at least 6 characters long!");return}if(!x.test(i)){p("Please enter a valid email address!");return}if(!f){p("Please agree to the Terms of Service!");return}if(!R.test(t)){p("Password must contain at least one letter and one number!");return}p("");try{await E1(ha,i,t),y("/categorizer")}catch(I){console.error("Error signing up:",I),p("Failed to create an account. Please try again.")}};return g.jsxs("div",{className:"d-flex flex-column vh-100",children:[g.jsx(fa,{}),g.jsx("main",{className:"flex-fill",children:g.jsx("div",{className:"container-fluid h-100 p-0",children:g.jsxs("div",{className:"row h-100 m-0",children:[g.jsx("div",{className:"col-12 col-md-7 d-block d-md-none",children:g.jsx("img",{src:"https://img.freepik.com/free-photo/used-plastic-bottles-recycling-bins-earth-day-campaign_53876-104848.jpg",alt:"Recyclables",className:"w-100 h-100 object-fit-cover"})}),g.jsx("div",{className:"col-12 col-md-5 d-flex flex-column justify-content-center align-items-center",children:g.jsxs("div",{style:{width:"80%"},children:[g.jsx("p",{className:"fw-bold fs-4",children:"Welcome Back!"}),g.jsxs("p",{className:"fw-light text-secondary",children:["Already have an account?"," ",g.jsx(At,{to:"/signin",className:"text-decoration-none fw-semibold text-muted",children:"Sign in now!"})]}),g.jsx("div",{className:"row g-2 mb-2",children:g.jsx(iA,{})}),g.jsxs("div",{className:"d-flex align-items-center",children:[g.jsx("hr",{className:"flex-grow-1 m-0"}),g.jsx("p",{className:"px-2 m-0 text-secondary",children:"Or"}),g.jsx("hr",{className:"flex-grow-1 m-0"})]}),g.jsxs("div",{className:"form-floating mb-1",children:[g.jsx("input",{type:"email",className:"form-control form-control-sm mb-2 border-0 border-bottom",id:"email",placeholder:"Email",onChange:x=>e(x.target.value)}),g.jsx("label",{htmlFor:"email",className:"text-muted",style:{fontSize:"14px"},children:"Email"})]}),g.jsxs("div",{className:"form-floating mb-3",children:[g.jsx("input",{type:"password",className:"form-control form-control-sm mb-2 border-0 border-bottom",id:"password",placeholder:"Password",onChange:x=>r(x.target.value)}),g.jsx("label",{htmlFor:"password",className:"text-muted",style:{fontSize:"14px"},children:"Password"})]}),g.jsxs("div",{className:"form-floating mb-3",children:[g.jsx("input",{type:"password",className:"form-control form-control-sm mb-2 border-0 border-bottom",id:"confirmPassword",placeholder:"Confirm Password",onChange:x=>l(x.target.value)}),g.jsx("label",{htmlFor:"confirmPassword",className:"text-muted",style:{fontSize:"14px"},children:"Confirm Password"})]}),g.jsxs("div",{className:"form-check text-start mb-3",children:[g.jsx("input",{className:"form-check-input",type:"checkbox",id:"terms",onChange:x=>m(x.target.checked)}),g.jsxs("label",{className:"form-check-label text-muted",htmlFor:"terms",children:["I agree to the ",g.jsx("span",{className:"fw-bold",children:"Terms of Service"}),"."]})]}),g.jsx("button",{className:"btn rounded-3 col-12 mb-2",style:{backgroundColor:"#80BC44",color:"#fff"},onClick:b,children:"Sign Up"}),d&&g.jsx("p",{className:"fw-light text-danger text-start",children:d})]})}),g.jsx("div",{className:"col-12 col-md-7 p-0 d-none d-md-block",children:g.jsx("img",{src:"https://img.freepik.com/free-photo/used-plastic-bottles-recycling-bins-earth-day-campaign_53876-104848.jpg",alt:"Recyclables",className:"w-100 h-100 object-fit-cover"})})]})})})]})};var lm={exports:{}},cm,x0;function Oj(){if(x0)return cm;x0=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return cm=i,cm}var um,T0;function kj(){if(T0)return um;T0=1;var i=Oj();function e(){}function t(){}return t.resetWarningCache=e,um=function(){function r(d,p,f,m,y,b){if(b!==i){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}r.isRequired=r;function o(){return r}var l={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},um}var A0;function Pj(){return A0||(A0=1,lm.exports=kj()()),lm.exports}var jj=Pj();const mt=Xm(jj),Mj=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function $o(i,e,t){const r=Lj(i),{webkitRelativePath:o}=i,l=typeof e=="string"?e:typeof o=="string"&&o.length>0?o:`./${i.name}`;return typeof r.path!="string"&&S0(r,"path",l),S0(r,"relativePath",l),r}function Lj(i){const{name:e}=i;if(e&&e.lastIndexOf(".")!==-1&&!i.type){const r=e.split(".").pop().toLowerCase(),o=Mj.get(r);o&&Object.defineProperty(i,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return i}function S0(i,e,t){Object.defineProperty(i,e,{value:t,writable:!1,configurable:!1,enumerable:!0})}const Vj=[".DS_Store","Thumbs.db"];function Uj(i){return Ls(this,void 0,void 0,function*(){return sh(i)&&zj(i.dataTransfer)?Hj(i.dataTransfer,i.type):Bj(i)?Fj(i):Array.isArray(i)&&i.every(e=>"getFile"in e&&typeof e.getFile=="function")?qj(i):[]})}function zj(i){return sh(i)}function Bj(i){return sh(i)&&sh(i.target)}function sh(i){return typeof i=="object"&&i!==null}function Fj(i){return Bm(i.target.files).map(e=>$o(e))}function qj(i){return Ls(this,void 0,void 0,function*(){return(yield Promise.all(i.map(t=>t.getFile()))).map(t=>$o(t))})}function Hj(i,e){return Ls(this,void 0,void 0,function*(){if(i.items){const t=Bm(i.items).filter(o=>o.kind==="file");if(e!=="drop")return t;const r=yield Promise.all(t.map(Gj));return R0(aA(r))}return R0(Bm(i.files).map(t=>$o(t)))})}function R0(i){return i.filter(e=>Vj.indexOf(e.name)===-1)}function Bm(i){if(i===null)return[];const e=[];for(let t=0;t<i.length;t++){const r=i[t];e.push(r)}return e}function Gj(i){if(typeof i.webkitGetAsEntry!="function")return I0(i);const e=i.webkitGetAsEntry();return e&&e.isDirectory?rA(e):I0(i,e)}function aA(i){return i.reduce((e,t)=>[...e,...Array.isArray(t)?aA(t):[t]],[])}function I0(i,e){return Ls(this,void 0,void 0,function*(){var t;if(globalThis.isSecureContext&&typeof i.getAsFileSystemHandle=="function"){const l=yield i.getAsFileSystemHandle();if(l===null)throw new Error(`${i} is not a File`);if(l!==void 0){const d=yield l.getFile();return d.handle=l,$o(d)}}const r=i.getAsFile();if(!r)throw new Error(`${i} is not a File`);return $o(r,(t=e==null?void 0:e.fullPath)!==null&&t!==void 0?t:void 0)})}function $j(i){return Ls(this,void 0,void 0,function*(){return i.isDirectory?rA(i):Kj(i)})}function rA(i){const e=i.createReader();return new Promise((t,r)=>{const o=[];function l(){e.readEntries(d=>Ls(this,void 0,void 0,function*(){if(d.length){const p=Promise.all(d.map($j));o.push(p),l()}else try{const p=yield Promise.all(o);t(p)}catch(p){r(p)}}),d=>{r(d)})}l()})}function Kj(i){return Ls(this,void 0,void 0,function*(){return new Promise((e,t)=>{i.file(r=>{const o=$o(r,i.fullPath);e(o)},r=>{t(r)})})})}var xd={},C0;function Qj(){return C0||(C0=1,xd.__esModule=!0,xd.default=function(i,e){if(i&&e){var t=Array.isArray(e)?e:e.split(",");if(t.length===0)return!0;var r=i.name||"",o=(i.type||"").toLowerCase(),l=o.replace(/\/.*$/,"");return t.some(function(d){var p=d.trim().toLowerCase();return p.charAt(0)==="."?r.toLowerCase().endsWith(p):p.endsWith("/*")?l===p.replace(/\/.*$/,""):o===p})}return!0}),xd}var Yj=Qj();const dm=Xm(Yj);function N0(i){return Zj(i)||Wj(i)||oA(i)||Xj()}function Xj(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wj(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function Zj(i){if(Array.isArray(i))return Fm(i)}function D0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),t.push.apply(t,r)}return t}function O0(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?D0(Object(t),!0).forEach(function(r){sA(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):D0(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function sA(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Mc(i,e){return tM(i)||eM(i,e)||oA(i,e)||Jj()}function Jj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oA(i,e){if(i){if(typeof i=="string")return Fm(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Fm(i,e)}}function Fm(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=i[t];return r}function eM(i,e){var t=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(t!=null){var r=[],o=!0,l=!1,d,p;try{for(t=t.call(i);!(o=(d=t.next()).done)&&(r.push(d.value),!(e&&r.length===e));o=!0);}catch(f){l=!0,p=f}finally{try{!o&&t.return!=null&&t.return()}finally{if(l)throw p}}return r}}function tM(i){if(Array.isArray(i))return i}var nM=typeof dm=="function"?dm:dm.default,iM="file-invalid-type",aM="file-too-large",rM="file-too-small",sM="too-many-files",oM=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=e.split(","),r=t.length>1?"one of ".concat(t.join(", ")):t[0];return{code:iM,message:"File type must be ".concat(r)}},k0=function(e){return{code:aM,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},P0=function(e){return{code:rM,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},lM={code:sM,message:"Too many files"};function lA(i,e){var t=i.type==="application/x-moz-file"||nM(i,e);return[t,t?null:oM(e)]}function cA(i,e,t){if(xs(i.size))if(xs(e)&&xs(t)){if(i.size>t)return[!1,k0(t)];if(i.size<e)return[!1,P0(e)]}else{if(xs(e)&&i.size<e)return[!1,P0(e)];if(xs(t)&&i.size>t)return[!1,k0(t)]}return[!0,null]}function xs(i){return i!=null}function cM(i){var e=i.files,t=i.accept,r=i.minSize,o=i.maxSize,l=i.multiple,d=i.maxFiles,p=i.validator;return!l&&e.length>1||l&&d>=1&&e.length>d?!1:e.every(function(f){var m=lA(f,t),y=Mc(m,1),b=y[0],x=cA(f,r,o),R=Mc(x,1),I=R[0],U=p?p(f):null;return b&&I&&!U})}function oh(i){return typeof i.isPropagationStopped=="function"?i.isPropagationStopped():typeof i.cancelBubble<"u"?i.cancelBubble:!1}function Td(i){return i.dataTransfer?Array.prototype.some.call(i.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!i.target&&!!i.target.files}function j0(i){i.preventDefault()}function uM(i){return i.indexOf("MSIE")!==-1||i.indexOf("Trident/")!==-1}function dM(i){return i.indexOf("Edge/")!==-1}function hM(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return uM(i)||dM(i)}function ra(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return function(r){for(var o=arguments.length,l=new Array(o>1?o-1:0),d=1;d<o;d++)l[d-1]=arguments[d];return e.some(function(p){return!oh(r)&&p&&p.apply(void 0,[r].concat(l)),oh(r)})}}function fM(){return"showOpenFilePicker"in window}function pM(i){if(xs(i)){var e=Object.entries(i).filter(function(t){var r=Mc(t,2),o=r[0],l=r[1],d=!0;return uA(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),d=!1),(!Array.isArray(l)||!l.every(dA))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),d=!1),d}).reduce(function(t,r){var o=Mc(r,2),l=o[0],d=o[1];return O0(O0({},t),{},sA({},l,d))},{});return[{description:"Files",accept:e}]}return i}function mM(i){if(xs(i))return Object.entries(i).reduce(function(e,t){var r=Mc(t,2),o=r[0],l=r[1];return[].concat(N0(e),[o],N0(l))},[]).filter(function(e){return uA(e)||dA(e)}).join(",")}function gM(i){return i instanceof DOMException&&(i.name==="AbortError"||i.code===i.ABORT_ERR)}function vM(i){return i instanceof DOMException&&(i.name==="SecurityError"||i.code===i.SECURITY_ERR)}function uA(i){return i==="audio/*"||i==="video/*"||i==="image/*"||i==="text/*"||i==="application/*"||/\w+\/[-+.\w]+/g.test(i)}function dA(i){return/^.*\.[\w]+$/.test(i)}var yM=["children"],_M=["open"],EM=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],bM=["refKey","onChange","onClick"];function wM(i){return AM(i)||TM(i)||hA(i)||xM()}function xM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TM(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function AM(i){if(Array.isArray(i))return qm(i)}function hm(i,e){return IM(i)||RM(i,e)||hA(i,e)||SM()}function SM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hA(i,e){if(i){if(typeof i=="string")return qm(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return qm(i,e)}}function qm(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=i[t];return r}function RM(i,e){var t=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(t!=null){var r=[],o=!0,l=!1,d,p;try{for(t=t.call(i);!(o=(d=t.next()).done)&&(r.push(d.value),!(e&&r.length===e));o=!0);}catch(f){l=!0,p=f}finally{try{!o&&t.return!=null&&t.return()}finally{if(l)throw p}}return r}}function IM(i){if(Array.isArray(i))return i}function M0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),t.push.apply(t,r)}return t}function It(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?M0(Object(t),!0).forEach(function(r){Hm(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):M0(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function Hm(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function lh(i,e){if(i==null)return{};var t=CM(i,e),r,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);for(o=0;o<l.length;o++)r=l[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(t[r]=i[r])}return t}function CM(i,e){if(i==null)return{};var t={},r=Object.keys(i),o,l;for(l=0;l<r.length;l++)o=r[l],!(e.indexOf(o)>=0)&&(t[o]=i[o]);return t}var dv=O.forwardRef(function(i,e){var t=i.children,r=lh(i,yM),o=pA(r),l=o.open,d=lh(o,_M);return O.useImperativeHandle(e,function(){return{open:l}},[l]),jt.createElement(O.Fragment,null,t(It(It({},d),{},{open:l})))});dv.displayName="Dropzone";var fA={disabled:!1,getFilesFromEvent:Uj,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};dv.defaultProps=fA;dv.propTypes={children:mt.func,accept:mt.objectOf(mt.arrayOf(mt.string)),multiple:mt.bool,preventDropOnDocument:mt.bool,noClick:mt.bool,noKeyboard:mt.bool,noDrag:mt.bool,noDragEventsBubbling:mt.bool,minSize:mt.number,maxSize:mt.number,maxFiles:mt.number,disabled:mt.bool,getFilesFromEvent:mt.func,onFileDialogCancel:mt.func,onFileDialogOpen:mt.func,useFsAccessApi:mt.bool,autoFocus:mt.bool,onDragEnter:mt.func,onDragLeave:mt.func,onDragOver:mt.func,onDrop:mt.func,onDropAccepted:mt.func,onDropRejected:mt.func,onError:mt.func,validator:mt.func};var Gm={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function pA(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=It(It({},fA),i),t=e.accept,r=e.disabled,o=e.getFilesFromEvent,l=e.maxSize,d=e.minSize,p=e.multiple,f=e.maxFiles,m=e.onDragEnter,y=e.onDragLeave,b=e.onDragOver,x=e.onDrop,R=e.onDropAccepted,I=e.onDropRejected,U=e.onFileDialogCancel,L=e.onFileDialogOpen,H=e.useFsAccessApi,ne=e.autoFocus,K=e.preventDropOnDocument,ce=e.noClick,fe=e.noKeyboard,be=e.noDrag,j=e.noDragEventsBubbling,S=e.onError,C=e.validator,P=O.useMemo(function(){return mM(t)},[t]),M=O.useMemo(function(){return pM(t)},[t]),z=O.useMemo(function(){return typeof L=="function"?L:L0},[L]),N=O.useMemo(function(){return typeof U=="function"?U:L0},[U]),he=O.useRef(null),W=O.useRef(null),G=O.useReducer(NM,Gm),ie=hm(G,2),ue=ie[0],ee=ie[1],D=ue.isFocused,Q=ue.isFileDialogActive,oe=O.useRef(typeof window<"u"&&window.isSecureContext&&H&&fM()),J=function(){!oe.current&&Q&&setTimeout(function(){if(W.current){var Se=W.current.files;Se.length||(ee({type:"closeDialog"}),N())}},300)};O.useEffect(function(){return window.addEventListener("focus",J,!1),function(){window.removeEventListener("focus",J,!1)}},[W,Q,N,oe]);var me=O.useRef([]),De=function(Se){he.current&&he.current.contains(Se.target)||(Se.preventDefault(),me.current=[])};O.useEffect(function(){return K&&(document.addEventListener("dragover",j0,!1),document.addEventListener("drop",De,!1)),function(){K&&(document.removeEventListener("dragover",j0),document.removeEventListener("drop",De))}},[he,K]),O.useEffect(function(){return!r&&ne&&he.current&&he.current.focus(),function(){}},[he,ne,r]);var we=O.useCallback(function(ge){S?S(ge):console.error(ge)},[S]),yt=O.useCallback(function(ge){ge.preventDefault(),ge.persist(),xn(ge),me.current=[].concat(wM(me.current),[ge.target]),Td(ge)&&Promise.resolve(o(ge)).then(function(Se){if(!(oh(ge)&&!j)){var Le=Se.length,Ce=Le>0&&cM({files:Se,accept:P,minSize:d,maxSize:l,multiple:p,maxFiles:f,validator:C}),at=Le>0&&!Ce;ee({isDragAccept:Ce,isDragReject:at,isDragActive:!0,type:"setDraggedFiles"}),m&&m(ge)}}).catch(function(Se){return we(Se)})},[o,m,we,j,P,d,l,p,f,C]),Ke=O.useCallback(function(ge){ge.preventDefault(),ge.persist(),xn(ge);var Se=Td(ge);if(Se&&ge.dataTransfer)try{ge.dataTransfer.dropEffect="copy"}catch{}return Se&&b&&b(ge),!1},[b,j]),Zt=O.useCallback(function(ge){ge.preventDefault(),ge.persist(),xn(ge);var Se=me.current.filter(function(Ce){return he.current&&he.current.contains(Ce)}),Le=Se.indexOf(ge.target);Le!==-1&&Se.splice(Le,1),me.current=Se,!(Se.length>0)&&(ee({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Td(ge)&&y&&y(ge))},[he,y,j]),bn=O.useCallback(function(ge,Se){var Le=[],Ce=[];ge.forEach(function(at){var ft=lA(at,P),Tn=hm(ft,2),Xa=Tn[0],Un=Tn[1],Jn=cA(at,d,l),zn=hm(Jn,2),tn=zn[0],ei=zn[1],Bn=C?C(at):null;if(Xa&&tn&&!Bn)Le.push(at);else{var hi=[Un,ei];Bn&&(hi=hi.concat(Bn)),Ce.push({file:at,errors:hi.filter(function(ye){return ye})})}}),(!p&&Le.length>1||p&&f>=1&&Le.length>f)&&(Le.forEach(function(at){Ce.push({file:at,errors:[lM]})}),Le.splice(0)),ee({acceptedFiles:Le,fileRejections:Ce,isDragReject:Ce.length>0,type:"setFiles"}),x&&x(Le,Ce,Se),Ce.length>0&&I&&I(Ce,Se),Le.length>0&&R&&R(Le,Se)},[ee,p,P,d,l,f,x,R,I,C]),Dt=O.useCallback(function(ge){ge.preventDefault(),ge.persist(),xn(ge),me.current=[],Td(ge)&&Promise.resolve(o(ge)).then(function(Se){oh(ge)&&!j||bn(Se,ge)}).catch(function(Se){return we(Se)}),ee({type:"reset"})},[o,bn,we,j]),_t=O.useCallback(function(){if(oe.current){ee({type:"openDialog"}),z();var ge={multiple:p,types:M};window.showOpenFilePicker(ge).then(function(Se){return o(Se)}).then(function(Se){bn(Se,null),ee({type:"closeDialog"})}).catch(function(Se){gM(Se)?(N(Se),ee({type:"closeDialog"})):vM(Se)?(oe.current=!1,W.current?(W.current.value=null,W.current.click()):we(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):we(Se)});return}W.current&&(ee({type:"openDialog"}),z(),W.current.value=null,W.current.click())},[ee,z,N,H,bn,we,M,p]),cn=O.useCallback(function(ge){!he.current||!he.current.isEqualNode(ge.target)||(ge.key===" "||ge.key==="Enter"||ge.keyCode===32||ge.keyCode===13)&&(ge.preventDefault(),_t())},[he,_t]),Jt=O.useCallback(function(){ee({type:"focus"})},[]),Zn=O.useCallback(function(){ee({type:"blur"})},[]),wn=O.useCallback(function(){ce||(hM()?setTimeout(_t,0):_t())},[ce,_t]),gt=function(Se){return r?null:Se},un=function(Se){return fe?null:gt(Se)},On=function(Se){return be?null:gt(Se)},xn=function(Se){j&&Se.stopPropagation()},en=O.useMemo(function(){return function(){var ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Se=ge.refKey,Le=Se===void 0?"ref":Se,Ce=ge.role,at=ge.onKeyDown,ft=ge.onFocus,Tn=ge.onBlur,Xa=ge.onClick,Un=ge.onDragEnter,Jn=ge.onDragOver,zn=ge.onDragLeave,tn=ge.onDrop,ei=lh(ge,EM);return It(It(Hm({onKeyDown:un(ra(at,cn)),onFocus:un(ra(ft,Jt)),onBlur:un(ra(Tn,Zn)),onClick:gt(ra(Xa,wn)),onDragEnter:On(ra(Un,yt)),onDragOver:On(ra(Jn,Ke)),onDragLeave:On(ra(zn,Zt)),onDrop:On(ra(tn,Dt)),role:typeof Ce=="string"&&Ce!==""?Ce:"presentation"},Le,he),!r&&!fe?{tabIndex:0}:{}),ei)}},[he,cn,Jt,Zn,wn,yt,Ke,Zt,Dt,fe,be,r]),Vn=O.useCallback(function(ge){ge.stopPropagation()},[]),Ni=O.useMemo(function(){return function(){var ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Se=ge.refKey,Le=Se===void 0?"ref":Se,Ce=ge.onChange,at=ge.onClick,ft=lh(ge,bM),Tn=Hm({accept:P,multiple:p,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:gt(ra(Ce,Dt)),onClick:gt(ra(at,Vn)),tabIndex:-1},Le,W);return It(It({},Tn),ft)}},[W,t,p,Dt,r]);return It(It({},ue),{},{isFocused:D&&!r,getRootProps:en,getInputProps:Ni,rootRef:he,inputRef:W,open:gt(_t)})}function NM(i,e){switch(e.type){case"focus":return It(It({},i),{},{isFocused:!0});case"blur":return It(It({},i),{},{isFocused:!1});case"openDialog":return It(It({},Gm),{},{isFileDialogActive:!0});case"closeDialog":return It(It({},i),{},{isFileDialogActive:!1});case"setDraggedFiles":return It(It({},i),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return It(It({},i),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return It({},Gm);default:return i}}function L0(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM="type.googleapis.com/google.protobuf.Int64Value",OM="type.googleapis.com/google.protobuf.UInt64Value";function mA(i,e){const t={};for(const r in i)i.hasOwnProperty(r)&&(t[r]=e(i[r]));return t}function ch(i){if(i==null)return null;if(i instanceof Number&&(i=i.valueOf()),typeof i=="number"&&isFinite(i)||i===!0||i===!1||Object.prototype.toString.call(i)==="[object String]")return i;if(i instanceof Date)return i.toISOString();if(Array.isArray(i))return i.map(e=>ch(e));if(typeof i=="function"||typeof i=="object")return mA(i,e=>ch(e));throw new Error("Data cannot be encoded in JSON: "+i)}function Ko(i){if(i==null)return i;if(i["@type"])switch(i["@type"]){case DM:case OM:{const e=Number(i.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+i);return e}default:throw new Error("Data cannot be decoded from JSON: "+i)}return Array.isArray(i)?i.map(e=>Ko(e)):typeof i=="function"||typeof i=="object"?mA(i,e=>Ko(e)):i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Yn extends Ci{constructor(e,t,r){super(`${hv}/${e}`,t||""),this.details=r,Object.setPrototypeOf(this,Yn.prototype)}}function kM(i){if(i>=200&&i<300)return"ok";switch(i){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function uh(i,e){let t=kM(i),r=t,o;try{const l=e&&e.error;if(l){const d=l.status;if(typeof d=="string"){if(!V0[d])return new Yn("internal","internal");t=V0[d],r=d}const p=l.message;typeof p=="string"&&(r=p),o=l.details,o!==void 0&&(o=Ko(o))}}catch{}return t==="ok"?null:new Yn(t,r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e,t,r,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Kn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||t.get().then(l=>this.auth=l,()=>{}),this.messaging||r.get().then(l=>this.messaging=l,()=>{}),this.appCheck||o==null||o.get().then(l=>this.appCheck=l,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),r=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:t,messagingToken:r,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="us-central1",jM=/^data: (.*?)(?:\n|$)/;function MM(i){let e=null;return{promise:new Promise((t,r)=>{e=setTimeout(()=>{r(new Yn("deadline-exceeded","deadline-exceeded"))},i)}),cancel:()=>{e&&clearTimeout(e)}}}class LM{constructor(e,t,r,o,l=$m,d=(...p)=>fetch(...p)){this.app=e,this.fetchImpl=d,this.emulatorOrigin=null,this.contextProvider=new PM(e,t,r,o),this.cancelAllRequests=new Promise(p=>{this.deleteService=()=>Promise.resolve(p())});try{const p=new URL(l);this.customDomain=p.origin+(p.pathname==="/"?"":p.pathname),this.region=$m}catch{this.customDomain=null,this.region=l}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function VM(i,e,t){i.emulatorOrigin=`http://${e}:${t}`}function UM(i,e,t){const r=o=>BM(i,e,o,{});return r.stream=(o,l)=>qM(i,e,o,l),r}async function zM(i,e,t,r){t["Content-Type"]="application/json";let o;try{o=await r(i,{method:"POST",body:JSON.stringify(e),headers:t})}catch{return{status:0,json:null}}let l=null;try{l=await o.json()}catch{}return{status:o.status,json:l}}async function gA(i,e){const t={},r=await i.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(t.Authorization="Bearer "+r.authToken),r.messagingToken&&(t["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=r.appCheckToken),t}function BM(i,e,t,r){const o=i._url(e);return FM(i,o,t,r)}async function FM(i,e,t,r){t=ch(t);const o={data:t},l=await gA(i,r),d=r.timeout||7e4,p=MM(d),f=await Promise.race([zM(e,o,l,i.fetchImpl),p.promise,i.cancelAllRequests]);if(p.cancel(),!f)throw new Yn("cancelled","Firebase Functions instance was deleted.");const m=uh(f.status,f.json);if(m)throw m;if(!f.json)throw new Yn("internal","Response is not valid JSON object.");let y=f.json.data;if(typeof y>"u"&&(y=f.json.result),typeof y>"u")throw new Yn("internal","Response is missing data field.");return{data:Ko(y)}}function qM(i,e,t,r){const o=i._url(e);return HM(i,o,t,r||{})}async function HM(i,e,t,r){var o;t=ch(t);const l={data:t},d=await gA(i,r);d["Content-Type"]="application/json",d.Accept="text/event-stream";let p;try{p=await i.fetchImpl(e,{method:"POST",body:JSON.stringify(l),headers:d,signal:r==null?void 0:r.signal})}catch(R){if(R instanceof Error&&R.name==="AbortError"){const U=new Yn("cancelled","Request was cancelled.");return{data:Promise.reject(U),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(U)}}}}}}const I=uh(0,null);return{data:Promise.reject(I),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(I)}}}}}}let f,m;const y=new Promise((R,I)=>{f=R,m=I});(o=r==null?void 0:r.signal)===null||o===void 0||o.addEventListener("abort",()=>{const R=new Yn("cancelled","Request was cancelled.");m(R)});const b=p.body.getReader(),x=GM(b,f,m,r==null?void 0:r.signal);return{stream:{[Symbol.asyncIterator](){const R=x.getReader();return{async next(){const{value:I,done:U}=await R.read();return{value:I,done:U}},async return(){return await R.cancel(),{done:!0,value:void 0}}}}},data:y}}function GM(i,e,t,r){const o=(d,p)=>{const f=d.match(jM);if(!f)return;const m=f[1];try{const y=JSON.parse(m);if("result"in y){e(Ko(y.result));return}if("message"in y){p.enqueue(Ko(y.message));return}if("error"in y){const b=uh(0,y);p.error(b),t(b);return}}catch(y){if(y instanceof Yn){p.error(y),t(y);return}}},l=new TextDecoder;return new ReadableStream({start(d){let p="";return f();async function f(){if(r!=null&&r.aborted){const m=new Yn("cancelled","Request was cancelled");return d.error(m),t(m),Promise.resolve()}try{const{value:m,done:y}=await i.read();if(y){p.trim()&&o(p.trim(),d),d.close();return}if(r!=null&&r.aborted){const x=new Yn("cancelled","Request was cancelled");d.error(x),t(x),await i.cancel();return}p+=l.decode(m,{stream:!0});const b=p.split(`
`);p=b.pop()||"";for(const x of b)x.trim()&&o(x.trim(),d);return f()}catch(m){const y=m instanceof Yn?m:uh(0,null);d.error(y),t(y)}}},cancel(){return i.cancel()}})}const U0="@firebase/functions",z0="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M="auth-internal",KM="app-check-internal",QM="messaging-internal";function YM(i){const e=(t,{instanceIdentifier:r})=>{const o=t.getProvider("app").getImmediate(),l=t.getProvider($M),d=t.getProvider(QM),p=t.getProvider(KM);return new LM(o,l,d,p,r)};zi(new Ri(hv,e,"PUBLIC").setMultipleInstances(!0)),Xn(U0,z0,i),Xn(U0,z0,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(i=gh(),e=$m){const r=Zo(bt(i),hv).getImmediate({identifier:e}),o=ow("functions");return o&&WM(r,...o),r}function WM(i,e,t){VM(bt(i),e,t)}function ZM(i,e,t){return UM(bt(i),e)}YM();const JM=()=>{const[i,e]=O.useState([]),[t,r]=O.useState(!1),[o,l]=O.useState(!1),[d,p]=O.useState(be()),[f,m]=O.useState(""),[y,b]=O.useState(!1),[x,R]=O.useState(""),[I,U]=O.useState(!1),L=6,H=Ns(),{getRootProps:ne,getInputProps:K,isDragActive:ce,open:fe}=pA({accept:{"image/*":[".jpeg",".jpg",".png"]},noClick:!0,onDrop:N=>{const he=N.map(W=>Object.assign(W,{preview:URL.createObjectURL(W)}));e(he),r(he.length>0)}});O.useEffect(()=>{const N=he=>{var G;const W=(G=he.clipboardData)==null?void 0:G.items;if(W){for(const ie of W)if(ie.type.startsWith("image/")){const ue=ie.getAsFile();if(ue){const ee=URL.createObjectURL(ue),D=Object.assign(ue,{preview:ee});e(Q=>[...Q,D]),r(!0)}}}};return document.addEventListener("paste",N),()=>{document.removeEventListener("paste",N)}},[]),O.useEffect(()=>{const N=jr(H,he=>{he?U(!0):(console.log("User is not authenticated"),U(!1))});return()=>N()},[]);function be(){return!!(document.referrer.startsWith("android-app://")||window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||window.matchMedia&&window.matchMedia("(display-mode: fullscreen)").matches||window.matchMedia&&window.matchMedia("(display-mode: minimal-ui)").matches||window.navigator.standalone===!0)}const j=i.map(N=>g.jsx("img",{src:N.preview,style:{width:"100px",height:"100px",objectFit:"cover"},alt:"preview",onLoad:()=>{URL.revokeObjectURL(N.preview)}},N.name)),S=()=>{l(!0);let N=0,he="";if(I){const W="plastic";N=L;const G=H.currentUser,ie=G?G.uid:null;he=W,P(ie,he,N)}},C=ci(),P=async(N,he,W)=>{try{let G=H.currentUser;const ie=G&&G.displayName?G.displayName:"user",ue=Ct.now(),ee=Ct.fromMillis(ue.toMillis()+3*60*60*1e3);await eA(Tt(C,"Points"),{username:ie,uid:N,itemType:he,points:W,createdAt:ue,expiresAt:ee,isClaimed:!1,isExpired:!1}),console.log("Pending points stored successfully.")}catch(G){console.error("Error storing pending points:",G)}},M=async()=>{if(!("NDEFReader"in window)){alert("NFC is not supported on this device.");return}b(!0);try{const N=new window.NDEFReader;await N.scan(),N.onreading=he=>{const W=new TextDecoder;for(const G of he.message.records)if(G.recordType==="text"||G.recordType==="url"){const ie=W.decode(G.data);try{const ue=new URL(ie),ee=ue.searchParams.get("tagUID"),D=ue.searchParams.get("binID");if(console.log("NFC Tag UID:",ee),console.log("NFC Bin ID:",D),console.log("NFC URL Data:",ie),!ee||!D){alert("Invalid NFC tag format."),m("Invalid NFC.");return}z(ee,D),R("Scan successful!")}catch{m("Malformed NFC tag data."),b(!1)}}},N.onerror=he=>{m("NFC scan failed. Please try again."),console.error("NFC scan error: ",he),b(!1)}}catch{console.error("NFC scan failed:",err),alert("Unable to start NFC scan. Make sure NFC is enabled.")}},z=async(N,he)=>{const W=XM(gh(),"us-central1"),G=ZM(W,"verifyScan");try{const ie=await G({tagUID:N,binID:he});if(ie.data.success){alert(ie.data.message);const ue=ci(),ee=H.currentUser;try{const D=yn(Tt(ue,"Points"),nt("uid","==",ee.uid),nt("isClaimed","==",!1),nt("isExpired","==",!1),nt("expiresAt",">",Ct.now())),Q=await gn(D);if(Q.empty){console.log("No pending points found for user.");return}Q.forEach(async oe=>{const J=oe.ref;await Promise.all(Q.docs.map(me=>uv(J,{isClaimed:!0,claimedAt:Ct.now(),claimedBin:he})))}),alert("Points claimed successfully!")}catch(D){console.error("Error updating points:",D.message),alert("Error updating points: "+D.message)}}else alert(err.message);b(!1)}catch(ie){console.error("Error verifying NFC scan:",ie),alert("Error verifying NFC scan: "+ie.message)}};return g.jsxs(g.Fragment,{children:[y&&g.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",color:"#fff",zIndex:9999,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"2rem"},children:[g.jsx("div",{children:g.jsx("i",{className:"bi bi-nfc",style:{fontSize:"3rem"}})}),g.jsx("div",{children:"Please scan your NFC tag now..."})]}),o?g.jsxs(g.Fragment,{children:[g.jsx(fa,{}),g.jsx("div",{className:"container-fluid",children:g.jsx("div",{className:"d-flex flex-column",style:{minHeight:"90vh"},children:g.jsxs("div",{className:"d-flex flex-column flex-grow-1 pt-5",id:"page-3",children:[g.jsxs("div",{className:"main-section container",children:[g.jsxs("div",{className:"result-card",children:[g.jsx("img",{src:i[0].preview}),g.jsxs("div",{className:"text-block",children:[g.jsx("p",{className:"fw-bold empty fs-2 mb-2",children:"Plastic Bag (Plastic)"}),g.jsx("p",{className:"text-muted lh-sm mb-2",children:"Please rinse and throw it in our blue recycle bin"}),g.jsxs("p",{className:"text-muted lh-sm",children:["Almost there!",g.jsx("br",{}),"Install our app and dispose of your waste properly to start earning rewards."]})]})]}),g.jsxs("div",{className:"mt-5 pt-3 d-flex flex-column flex-md-row justify-content-center align-items-center gap-3 text-center",children:[g.jsxs("button",{className:"btn btn-lg rounded-4 shadow fw-bold w-100 w-md-25 text-nowrap",type:"button",style:{backgroundColor:"#80BC44",color:"#fff"},onClick:()=>window.location.reload(),children:[g.jsx("i",{className:"bi bi-lightbulb-fill me-2"})," Classify More"]}),d&&g.jsxs("button",{className:"btn btn-lg rounded-4 shadow fw-bold w-100 w-md-25 text-nowrap",type:"button",style:{backgroundColor:"#80BC44",color:"#fff"},onClick:M,children:[g.jsx("i",{className:"bi bi-lightbulb-fill me-2"})," Scan for rewards"]})]})]}),!d&&g.jsx("div",{className:"mt-auto text-center px-8 pb-3",children:g.jsxs("p",{className:"fw-semibold empty text-muted",children:["Install our app to get rewarded each time you scan and throw it correctly.",x&&g.jsx("span",{className:"text-success",children:x})]})})]})})})]}):g.jsxs("div",{...ne(),style:{position:"relative"},children:[" ",g.jsx(fa,{}),g.jsx("input",{...K()}),g.jsxs("div",{className:"container-fluid",children:[ce&&g.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:9999,display:"flex",justifyContent:"center",alignItems:"center",color:"white",fontSize:"24px",fontWeight:"bold"},children:"Drop image everywhere"}),g.jsx("div",{className:"d-flex flex-column",style:{minHeight:"90vh"},children:g.jsxs("div",{className:"d-flex flex-column flex-grow-1 pt-5",id:"page-1",children:[g.jsx("p",{className:"fw-bold empty fs-2 text-center",children:"What Kind of Trash Is This"}),g.jsx("p",{className:"fw-semibold empty text-muted text-center lh-sm",children:"Not sure what kind of trash you have? Upload picture"}),g.jsx("p",{className:"fw-semibold empty text-muted text-center lh-sm mb-5",children:"and let us figure it out for you."}),t?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"d-flex justify-content-center mb-5",children:g.jsx("div",{className:"card border-0",style:{height:"30vh"},children:g.jsx("div",{className:"card-body d-flex flex-column align-items-center justify-content-center text-center",children:g.jsx("img",{src:i[0].preview,alt:"Plastic Bag",className:"rounded-3 mb-3",style:{objectFit:"cover",height:"200px",width:"100%",margin:"0 auto"}})})})}),g.jsxs("div",{className:"text-center d-flex flex-column align-items-center mb-3",children:[g.jsxs("button",{className:"btn btn-lg rounded-4 mb-3 shadow fw-bold text-center responsive-font",id:"btn-2",type:"button",style:{backgroundColor:"#80BC44",color:"#fff"},onClick:S,children:[g.jsx("i",{className:"bi bi-lightbulb-fill me-2"}),"Classify Trash"]}),g.jsxs("button",{className:"btn btn-lg rounded-4 mb-3 shadow fw-bold text-center responsive-font",id:"btn-2",type:"button",style:{backgroundColor:"#c9665f",color:"#fff"},onClick:()=>window.location.reload(),children:[g.jsx("i",{className:"bi bi-file-earmark-x me-2"}),"Remove Image"]})]})]}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"d-flex justify-content-center mb-5",children:g.jsx("div",{className:"card border-0 rounded-4 shadow resizeCard",style:{height:"30vh"},children:g.jsxs("div",{className:"card-body d-flex flex-column align-items-center justify-content-center text-center",children:[g.jsxs("button",{className:"btn btn-lg rounded-4 col-8 mb-4 shadow fw-bold responsive-font",id:"btn-1",type:"button",style:{backgroundColor:"#80BC44",color:"#fff"},onClick:fe,children:[g.jsx("i",{className:"bi bi-upload me-3"}),"Upload Image"]}),g.jsx("p",{className:"fw-medium empty fs-7 text-muted lh-sm",children:"or drop a file here"}),g.jsx("p",{className:"fw-medium empty fs-7 text-muted lh-sm",children:"CTRL + V to paste an image"})]})})}),g.jsx("div",{children:j}),g.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-center align-items-center mb-7 text-center gap-2",children:[g.jsxs("div",{className:"mb-2 mb-md-0 me-md-3",children:[g.jsx("p",{className:"fw-medium text-muted mb-1",children:"No image?"}),g.jsx("p",{className:"fw-medium text-muted mb-0",children:"Try one of these images"})]}),g.jsxs("div",{className:"d-flex flex-wrap justify-content-center gap-2",children:[g.jsx("img",{src:"https://cdn1.npcdn.net/images/1593584628fb904e0fb02092edd14651cf0f25c4a4.webp?md5id=6281642964070c8fc6df23720ee81281&new_width=1000&new_height=1000&w=1652761475&from=jpg",className:"rounded-3",style:{width:"40px",height:"40px",objectFit:"cover"}}),g.jsx("img",{src:"https://cdn1.npcdn.net/images/1593584628fb904e0fb02092edd14651cf0f25c4a4.webp?md5id=6281642964070c8fc6df23720ee81281&new_width=1000&new_height=1000&w=1652761475&from=jpg",className:"rounded-3",style:{width:"40px",height:"40px",objectFit:"cover"}}),g.jsx("img",{src:"https://cdn1.npcdn.net/images/1593584628fb904e0fb02092edd14651cf0f25c4a4.webp?md5id=6281642964070c8fc6df23720ee81281&new_width=1000&new_height=1000&w=1652761475&from=jpg",className:"rounded-3",style:{width:"40px",height:"40px",objectFit:"cover"}})]})]})]}),g.jsx("div",{className:"mt-auto text-center px-4 pb-3",children:g.jsx("p",{className:"fw-medium empty text-muted",children:"Install our app to get rewarded each time you scan and throw it correctly."})})]})})]})]})]})},eL=()=>{const[i,e]=O.useState(""),[t,r]=O.useState(""),o=Wo(),[l,d]=O.useState(null),[p,f]=O.useState(!1),[m,y]=O.useState(!1),[b,x]=O.useState(0),[R,I]=O.useState(0),[U,L]=O.useState(0),[H,ne]=O.useState(null),[K,ce]=O.useState(""),[fe,be]=O.useState([]),[j,S]=O.useState(""),[C,P]=O.useState(z());O.useEffect(()=>{const he=ci(),W=Ns(),G=jr(W,async ie=>{if(ie)try{const ue=yn(Tt(he,"Points"),nt("uid","==",ie.uid),nt("isClaimed","==",!0)),ee=await gn(ue);let D=0;ee.forEach(_t=>{D+=_t.data().points||0}),x(D);const Q=yn(Tt(he,"Points"),nt("uid","==",ie.uid),nt("isClaimed","==",!1),nt("expiresAt",">",new Date)),oe=await gn(Q);let J=0;oe.forEach(_t=>{J+=_t.data().points||0}),I(J);const me=yn(Tt(he,"Points"),nt("uid","==",ie.uid),nt("isClaimed","==",!1),nt("isExpired","==",!0)),De=await gn(me);let we=0;De.forEach(_t=>{we+=_t.data().points||0}),L(we);const yt=yn(Tt(he,"Points"),nt("uid","==",ie.uid),nt("isClaimed","==",!1),nt("expiresAt",">",new Date),hj("expiresAt","asc"),fj(1)),Ke=await gn(yt);if(Ke.empty)ne(null),ce("No pending points");else{const cn=Ke.docs[0].data();ne(cn);const wn=cn.expiresAt.toDate()-new Date;if(wn>0){const gt=Math.floor(wn/6e4)%60,un=Math.floor(wn/(1e3*60*60));ce(`${un} hour(s) ${gt} minute(s)`)}else ce("Already expired")}const Zt=yn(Tt(he,"Points"),nt("uid","==",ie.uid),nt("isClaimed","==",!0)),bn=await gn(Zt),Dt=await Promise.all(bn.docs.map(async(_t,cn)=>{var en,Vn;const Jt=_t.data(),Zn=jc(he,"Station",Jt.claimedBin),wn=await yj(Zn),gt=wn.exists()?wn.data().stationName:"Unknown",un=((Vn=(en=Jt.claimedAt)==null?void 0:en.toDate)==null?void 0:Vn.call(en))||new Date,On=un.toLocaleDateString(),xn=un.toLocaleTimeString();return{no:cn+1,stationName:gt,itemType:Jt.itemType,date:On,time:xn,points:Jt.points||0}}));be(Dt)}catch(ue){console.error("Error fetching user point data:",ue)}else console.log("User not logged in.")});return()=>G()},[]),O.useEffect(()=>{const he=Ns();jr(he,W=>{W?e(W.displayName||"No username set"):(console.log("User is not authenticated."),o("/"))})},[]);const M=he=>{x1(ha.currentUser,{displayName:he}).then(()=>{console.log("Username updated successfully."),window.location.reload()}).catch(W=>{console.error("Error updating username: ",W),S("Error updating username. Please try again.")})};function z(){return!!(document.referrer.startsWith("android-app://")||window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||window.matchMedia&&window.matchMedia("(display-mode: fullscreen)").matches||window.matchMedia&&window.matchMedia("(display-mode: minimal-ui)").matches||window.navigator.standalone===!0)}O.useEffect(()=>{const he=ha.onAuthStateChanged(async W=>{if(W){d(W);try{const G=await W.getIdTokenResult();f(!!G.claims.admin)}catch(G){f(!1),console.error("Error checking admin status:",G)}}else d(null),f(!1),console.log("User is not authenticated."),o("/")});return()=>he()},[o]);const N=()=>{y(!0)};return g.jsxs(g.Fragment,{children:[g.jsx(fa,{}),g.jsx("div",{className:"container-fluid",style:{height:"100vh"},children:g.jsxs("div",{className:"row g-3",children:[g.jsxs("div",{className:"col-12 col-sm-6",children:[g.jsx("p",{className:"fw-bold empty pt-3 px-3 fs-5 mb-2",children:"Profile Settings"}),g.jsxs("div",{className:"row",children:[g.jsx("div",{className:"col-12 mb-3",children:g.jsx("div",{className:"card border-0 rounded-4 shadow-cs",children:g.jsxs("div",{className:"card-body",children:[g.jsx("p",{className:"fw-medium mb-4",children:"Change Username"}),g.jsx("p",{className:"fw-regular f-9",children:"Current Username :"}),g.jsx("p",{className:"fw-medium f-9",children:i}),g.jsx("p",{className:"f-9 empty fw-medium",children:"New Username :"}),g.jsxs("div",{className:"form-floating mb-1",children:[g.jsx("input",{type:"text",className:"form-control form-control-sm mb-2 border-0 border-bottom",id:"newUsername",placeholder:"Enter new username",onChange:he=>r(he.target.value)}),g.jsx("label",{className:"f-9 text-muted",htmlFor:"newUsername",children:"New username"})]}),g.jsx("p",{className:"fw-semibold text-danger f-9",children:j}),g.jsx("div",{className:"d-flex justify-content-end",children:g.jsx("button",{className:"btn rounded-3",type:"button",style:{backgroundColor:"#80BC44",color:"#fff"},onClick:()=>M(t),children:"Change Username"})})]})})}),g.jsx("div",{className:"col-12 mb-3",children:g.jsx("div",{className:"card border-0 rounded-4 shadow-cs",children:g.jsxs("div",{className:"card-body",children:[g.jsx("p",{className:"fw-medium mb-4",children:"Change Password"}),g.jsx("p",{className:"fw-regular f-9 empty",children:"Current Password"}),g.jsxs("div",{className:"form-floating mb-1",children:[g.jsx("input",{type:"password",className:"form-control form-control-sm mb-2 border-0 border-bottom",id:"currentPassword",placeholder:"Enter Current Password"}),g.jsx("label",{className:"f-9 text-muted",htmlFor:"currentPassword",children:"Enter Current Password"})]}),g.jsx("p",{className:"fw-regular f-9 empty",children:"New Password"}),g.jsxs("div",{className:"form-floating mb-1",children:[g.jsx("input",{type:"password",className:"form-control form-control-sm mb-2 border-0 border-bottom",id:"newPassword",placeholder:"Enter New Password"}),g.jsx("label",{className:"f-9 text-muted",htmlFor:"newPassword",children:"Enter New Password"})]}),g.jsx("p",{className:"fw-regular f-9 empty",children:"Confirm New Password"}),g.jsxs("div",{className:"form-floating mb-1",children:[g.jsx("input",{type:"password",className:"form-control form-control-sm mb-2 border-0 border-bottom",id:"confirmPassword",placeholder:"Confirm New Password"}),g.jsx("label",{className:"f-9 text-muted",htmlFor:"confirmPassword",children:"Confirm New Password"})]}),g.jsx("p",{className:"fw-semibold text-danger f-9",children:"Error choii!"}),g.jsx("div",{className:"d-flex justify-content-end",children:g.jsx("button",{className:"btn rounded-3",type:"button",style:{backgroundColor:"#80BC44",color:"#fff"},children:"Change Password"})})]})})}),g.jsx("div",{className:"col-12 mb-3",children:g.jsx("div",{className:"card border-0 rounded-4 shadow-cs",children:g.jsxs("div",{className:"card-body",children:[g.jsx("p",{className:"fw-medium mb-2",children:"Logout from this account"}),g.jsx("div",{className:"d-flex justify-content-end",children:g.jsx("button",{className:"btn rounded-3 btn-danger",type:"button",onClick:N,children:"Log out"})})]})})}),p&&g.jsx("div",{className:"col-12 mb-3",children:g.jsx("div",{className:"card border-0 rounded-4 shadow-cs",children:g.jsxs("div",{className:"card-body",children:[g.jsx("p",{className:"fw-medium mb-2",children:"Admin Dashboard"}),g.jsx("div",{className:"d-flex justify-content-end",children:g.jsx(At,{className:"btn rounded-3 btn-warning",to:"/admin/dashboard",children:"Go to Dashboard"})})]})})})]})]}),g.jsxs("div",{className:"col-12 col-sm-6",children:[g.jsx("p",{className:"fw-bold empty pt-3 px-3 fs-5 mb-2",children:"Point Information"}),g.jsxs("div",{className:"row g-3",children:[g.jsx("div",{className:"col-4 d-flex align-items-stretch",children:g.jsx("div",{className:"card border-0 rounded-4 shadow-cs w-100",children:g.jsxs("div",{className:"card-body text-center",children:[g.jsx("p",{className:"fw-bold fs-3 mb-2 text-success",children:b}),g.jsx("p",{className:"fw-bold",children:"Claimed Points"})]})})}),g.jsx("div",{className:"col-4 d-flex align-items-stretch",children:g.jsx("div",{className:"card border-0 rounded-4 shadow-cs w-100",children:g.jsxs("div",{className:"card-body text-center",children:[g.jsx("p",{className:"fw-bold fs-3 mb-2 text-warning",children:R}),g.jsx("p",{className:"fw-bold",children:"Pending Points"})]})})}),g.jsx("div",{className:"col-4 d-flex align-items-stretch",children:g.jsx("div",{className:"card border-0 rounded-4 shadow-cs w-100",children:g.jsxs("div",{className:"card-body text-center",children:[g.jsx("p",{className:"fw-bold fs-3 mb-2 text-danger",children:U}),g.jsx("p",{className:"fw-bold",children:"Expired Points"})]})})}),R>0&&g.jsx("div",{className:"col-12",children:g.jsx("div",{className:"card border-0 rounded-4 shadow-cs",children:g.jsxs("div",{className:"card-body",children:[g.jsx("p",{className:"fw-bold mb-2",children:"Notification"}),C?"PWA":g.jsxs("p",{className:"empty",children:["You have ",R," unclaimed points, claim now before they expire in ",K,". Use our PWA to throw your trash properly and keep earning more! "]})]})})}),g.jsx("div",{className:"col-12 mb-2",children:g.jsx("div",{className:"card border-0 rounded-4 shadow-cs",children:g.jsxs("div",{className:"card-body",children:[g.jsx("p",{className:"fw-bold mb-2",children:"Claimed Points"}),g.jsx("div",{className:"table-responsive",children:g.jsxs("table",{className:"table table-striped table text-center",style:{width:"100%"},children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{scope:"col",children:"No"}),g.jsx("th",{scope:"col",children:"Station Name"}),g.jsx("th",{scope:"col",children:"Item thrown"}),g.jsx("th",{scope:"col",children:"Date"}),g.jsx("th",{scope:"col",children:"Time"}),g.jsx("th",{scope:"col",children:"Point Given"})]})}),g.jsx("tbody",{children:fe.map((he,W)=>g.jsxs("tr",{children:[g.jsx("td",{children:he.no}),g.jsx("td",{children:he.stationName}),g.jsx("td",{children:he.itemType}),g.jsx("td",{children:he.date}),g.jsx("td",{children:he.time}),g.jsx("td",{children:he.points})]},W))})]})})]})})})]})]})]})}),m&&g.jsx("div",{className:"modal show",tabIndex:"-1",style:{display:"block",background:"rgba(0,0,0,0.5)"},children:g.jsx("div",{className:"modal-dialog modal-dialog-centered",children:g.jsxs("div",{className:"modal-content",children:[g.jsxs("div",{className:"modal-header bg-danger text-white",children:[g.jsx("h5",{className:"modal-title",children:"Log out"}),g.jsx("button",{type:"button",className:"btn-close",onClick:()=>y(!1),"aria-label":"Close"})]}),g.jsx("div",{className:"modal-body",children:g.jsx("p",{children:"Are you sure you want to log out?"})}),g.jsxs("div",{className:"modal-footer",children:[g.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>window.location.reload(),children:"Cancel"}),g.jsx("button",{type:"button",className:"btn btn-danger",onClick:handlelogout,children:"Yes, Log me out"})]})]})})})]})},tL=()=>{let i;window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),i=t;const r=document.createElement("button");r.innerText="Install App",document.body.appendChild(r),e()&&(r.style.display="block"),r.addEventListener("click",()=>{i.prompt(),i.userChoice.then(o=>{o.outcome==="accepted"?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt"),i=null})})});function e(){return/Mobi|Android/i.test(navigator.userAgent)}return window.addEventListener("appinstalled",t=>{const r=document.querySelector("button");r&&(r.style.display="none")}),g.jsxs(g.Fragment,{children:[g.jsx(fa,{}),"Our App Page"]})},sl=({toggleSidebar:i})=>{const[e,t]=O.useState(null);O.useEffect(()=>{const l=Ns().currentUser;t(l||null)},[]);const r=o=>{o.preventDefault(),typeof i=="function"&&i()};return g.jsx(g.Fragment,{children:g.jsx("nav",{className:"app-header navbar navbar-expand bg-body",children:g.jsxs("div",{className:"container-fluid",children:[g.jsxs("ul",{className:"navbar-nav",children:[g.jsx("li",{className:"nav-item",children:g.jsx("a",{className:"nav-link","data-lte-toggle":"sidebar",href:"#",role:"button",onClick:r,children:g.jsx("i",{className:"bi bi-list"})})}),g.jsx("li",{className:"nav-item d-none d-md-block",children:g.jsx("a",{href:"#",className:"nav-link",children:"Home"})})]}),g.jsxs("ul",{className:"navbar-nav ms-auto",children:[g.jsx(At,{to:"/",className:"btn btn-outline-primary mx-4",children:"Go to Homepage"}),g.jsx("li",{className:"nav-item dropdown user-menu",children:g.jsxs("a",{href:"#",className:"nav-link dropdown-toggle","data-bs-toggle":"dropdown",children:[g.jsx("img",{src:e&&e.photoURL?e.photoURL:"../../dist/assets/img/user2-160x160.jpg",className:"user-image rounded-circle shadow",alt:"User Image"}),g.jsx("span",{className:"d-none d-md-inline",children:e?e.displayName:"User"})]})})]})]})})})},ol=()=>g.jsxs("aside",{className:"app-sidebar bg-body-secondary shadow","data-bs-theme":"dark","data-toggle":"sidebar",children:[g.jsx("div",{className:"sidebar-brand d-flex justify-content-start mx-3",children:g.jsxs(At,{to:"/admin/dashboard",className:"brand-link",children:[g.jsx("img",{src:"/icons/logo-black-white.png",alt:"AdminLTE Logo",className:"brand-image opacity-75 shadow"}),g.jsx("span",{className:"brand-text fw-light",children:"Bin Buddy Admin"})]})}),g.jsx("div",{className:"sidebar-wrapper",children:g.jsx("nav",{className:"mt-2",children:g.jsx("ul",{className:"nav sidebar-menu flex-column","data-lte-toggle":"treeview",role:"menu","data-accordion":"false",children:g.jsxs("li",{className:"nav-item menu-open",children:[g.jsx("ul",{className:"nav nav-treeview",children:g.jsx("li",{className:"nav-item",children:g.jsxs(At,{to:"/admin/dashboard",className:"nav-link",children:[g.jsx("i",{className:"bi bi-house-fill"}),g.jsx("p",{children:"Dashboard"})]})})}),g.jsxs("ul",{className:"nav nav-treeview",children:[g.jsx("li",{className:"nav-item",children:g.jsxs(At,{to:"/admin/dashboard/station",className:"nav-link",children:[g.jsx("i",{className:"bi bi-trash"}),g.jsx("p",{children:"Station"})]})}),g.jsx("li",{className:"nav-item",children:g.jsxs(At,{to:"/admin/dashboard/users",className:"nav-link",children:[g.jsx("i",{className:"bi bi-person-fill"}),g.jsx("p",{children:"Users"})]})}),g.jsx("li",{className:"nav-item",children:g.jsxs(At,{to:"/admin/dashboard/reward",className:"nav-link",children:[g.jsx("i",{className:"bi bi-star-fill"}),g.jsx("p",{children:"Reward"})]})}),g.jsx("li",{className:"nav-item",children:g.jsxs(At,{to:"/admin/dashboard/point",className:"nav-link",children:[g.jsx("i",{className:"bi bi-123"}),g.jsx("p",{children:"Point Distribution"})]})})]})]})})})})]}),nL=()=>{const[i,e]=O.useState(0),[t,r]=O.useState(0),[o,l]=O.useState(!0),[d,p]=O.useState("");return O.useEffect(()=>{(async()=>{const m=Tt(Mi,"Station"),b=(await yc(m)).data().count;e(b)})()},[]),O.useEffect(()=>{(async()=>{try{const m=await(await fetch("https://us-central1-bin-buddy-v1.cloudfunctions.net/getUserCount")).json();r(m.userCount)}catch{p("Error fetching user count.")}finally{l(!1)}})()},[]),g.jsx(g.Fragment,{children:g.jsxs("div",{className:"app-wrapper",children:[g.jsx(sl,{}),g.jsx(ol,{}),g.jsxs("div",{className:"app-main",children:[g.jsx("div",{className:"app-content-header",children:g.jsx("div",{className:"container-fluid",children:g.jsxs("div",{className:"row",children:[g.jsx("div",{className:"col-sm-6",children:g.jsx("h3",{className:"mb-0",children:"Dashboard"})}),g.jsx("div",{className:"col-sm-6",children:g.jsx("ol",{className:"breadcrumb float-sm-end",children:g.jsx("li",{className:"breadcrumb-item active",children:"Dashboard"})})})]})})}),g.jsx("div",{className:"app-content",children:g.jsx("div",{className:"container-fluid",children:g.jsxs("div",{className:"row",children:[g.jsx("div",{className:"col-lg-3 col-6",children:g.jsxs("div",{className:"small-box text-bg-success",children:[g.jsxs("div",{className:"inner",style:{color:"#fff"},children:[g.jsx("h3",{className:"fw-semibold",children:i}),g.jsx("p",{children:"Total Stations"})]}),g.jsxs(At,{to:"/admin/dashboard/station",className:"small-box-footer link-light link-underline-opacity-0 link-underline-opacity-50-hover",children:[g.jsx("i",{className:"bi bi-link-45deg"}),"More info"]})]})}),g.jsx("div",{className:"col-lg-3 col-6",children:g.jsxs("div",{className:"small-box text-bg-info",children:[g.jsxs("div",{className:"inner",style:{color:"#fff"},children:[o&&g.jsx("h3",{children:"Loading..."}),d&&g.jsx("h3",{className:"fw-semibold",children:d}),!o&&!d&&g.jsx("h3",{children:t}),g.jsx("p",{children:"Total Users"})]}),g.jsxs(At,{to:"/admin/dashboard/users",className:"small-box-footer link-light link-underline-opacity-0 link-underline-opacity-50-hover",children:[g.jsx("i",{className:"bi bi-link-45deg"}),"More info"]})]})})]})})})]})]})})},Co=({children:i})=>{const[e,t]=O.useState(!1),[r,o]=O.useState(!0);return O.useEffect(()=>{const l=jr(ha,async d=>{if(d)try{(await d.getIdTokenResult()).claims.admin===!0?t(!0):t(!1)}catch(p){console.error("Error checking admin status:",p)}o(!1)});return()=>l()},[]),r?g.jsx("div",{children:"Loading..."}):e?i:g.jsx(JR,{to:"/"})},iL=()=>{const[i,e]=O.useState(""),[t,r]=O.useState(""),[o,l]=O.useState("Forgot Your Password"),[d,p]=O.useState("Enter your email so that we can send you a password reset link"),f=async()=>{const m=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!i){r("Please enter your email!");return}if(!m.test(i)){r("Please enter a valid email address!");return}r("");const y=Ns();try{await g1(y,i,{url:"http://localhost:5173/reset-password",handleCodeInApp:!0}),l("We've sent you a password reset email"),p("Please check your inbox and follow the instructions to reset your password."),e("")}catch(b){console.error("Error sending password reset email:",b),r("Failed to send password reset email. Please try again.")}};return g.jsxs(g.Fragment,{children:[g.jsx(fa,{}),g.jsx("div",{className:"container-fluid",children:g.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"90vh"},children:g.jsx("div",{className:"card border-0 resizeCard",children:g.jsx("div",{className:"card-body d-flex flex-column align-items-center text-center w-100",children:g.jsxs("div",{id:"page-ForPass",className:"text-center",children:[g.jsx("i",{className:"bi bi-robot",style:{fontSize:"50px"}}),g.jsx("p",{className:"fw-bold fs-2",children:o}),g.jsx("p",{className:"fw-light text-secondary f-9",children:d}),g.jsxs("div",{className:"form-floating mb-3",children:[g.jsx("input",{type:"email",className:"form-control form-control-sm border-0 border-bottom",id:"email-input",placeholder:"Email",value:i,onChange:m=>e(m.target.value)}),g.jsx("label",{htmlFor:"email-input",className:"f-9 text-muted",children:"Email"})]}),t&&g.jsx("p",{className:"fw-light text-danger f-9",children:t}),g.jsx("button",{className:"btn rounded-3 col-12 mb-4",style:{backgroundColor:"#80BC44",color:"#fff"},onClick:f,children:"Send Email"}),g.jsx(At,{to:"/signin",className:"text-decoration-none fw-semibold text-muted",children:g.jsxs("span",{className:"f-9",children:[g.jsx("i",{className:"bi bi-chevron-left"})," Back to Login"]})})]})})})})})]})},aL=()=>{const[i,e]=O.useState(""),[t,r]=O.useState(""),[o,l]=O.useState(""),[d,p]=O.useState("Change Password"),[f,m]=O.useState("Enter a new password to change."),[y,b]=O.useState(!1),x=async()=>{const I=new URLSearchParams(window.location.search).get("oobCode"),U=Ns(),L=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d!@#$%^&*()_+]{6,}$/;if(!i||!t){l("Please fill in all fields!");return}if(i!==t){l("Passwords do not match!");return}if(i.length<6){l("Password must be at least 6 characters long!");return}if(!L.test(i)){l("Password must contain at least one letter and one number!");return}if(!I){l("Invalid or expired password reset code. Please try again.");return}l("");try{await _1(U,I),await v1(U,I,i),p("Password Changed Successfully"),m("Your password has been changed successfully. You can now log in with your new password."),e(""),r(""),b(!0)}catch(H){console.error("Error changing password:",H),l("Invalid or expired password reset code. Please try again.")}};return g.jsxs(g.Fragment,{children:[g.jsx(fa,{}),g.jsx("div",{className:"container-fluid",style:{height:"100vh"},children:g.jsx("div",{className:"d-flex justify-content-center align-content-center flex-wrap",style:{minHeight:"90vh"},children:g.jsx("div",{className:"card border-0 resizeCard",children:g.jsx("div",{className:"card-body d-flex flex-column align-items-center justify-content-center text-center w-100 empty",children:g.jsxs("div",{className:"text-center",id:"page-newPass",children:[g.jsx("div",{className:"text-center",children:g.jsx("i",{className:"bi bi-robot text-center",style:{fontSize:"50px"}})}),g.jsx("p",{className:"fw-bold empty fs-2 text-center",children:d}),g.jsx("p",{className:"fw-light text-secondary f-9 text-center",children:f}),!y&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"form-floating mb-1",children:[g.jsx("input",{type:"password",className:"form-control form-control-sm mb-2 border-0 border-bottom",id:"new-password",placeholder:"New Password",value:i,onChange:R=>e(R.target.value)}),g.jsx("label",{className:"f-9 text-muted",htmlFor:"new-password",children:"Enter your new password"})]}),g.jsxs("div",{className:"form-floating mb-1",children:[g.jsx("input",{type:"password",className:"form-control form-control-sm mb-2 border-0 border-bottom",id:"confirm-password",placeholder:"Re-enter Password",value:t,onChange:R=>r(R.target.value),onKeyDown:R=>{R.key==="Enter"&&x()}}),g.jsx("label",{className:"f-9 text-muted",htmlFor:"confirm-password",children:"Re-enter your new password"})]}),o&&g.jsx("p",{className:"fw-light text-danger text-start f-9",children:o})]}),y?g.jsx(At,{to:"/signin",className:"f-9 col-12 rounded-3 mb-4 btn btn-signin text-decoration-none",children:"Return to Login Page"}):g.jsx("button",{className:"btn rounded-3 col-12 mb-3",id:"btn-2",type:"button",style:{backgroundColor:"#80BC44",color:"#fff"},onClick:x,children:"Change Password"}),!y&&g.jsx("div",{className:"text-start",children:g.jsx(At,{to:"/signin",className:"text-decoration-none fw-semibold text-muted",children:g.jsxs("span",{className:"f-9",children:[g.jsx("i",{className:"bi bi-chevron-left"})," Return to Login Page"]})})})]})})})})})]})},rL="modulepreload",sL=function(i){return"/"+i},B0={},oL=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));o=Promise.allSettled(t.map(f=>{if(f=sL(f),f in B0)return;B0[f]=!0;const m=f.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${y}`))return;const b=document.createElement("link");if(b.rel=m?"stylesheet":rL,m||(b.as="script"),b.crossOrigin="",b.href=f,p&&b.setAttribute("nonce",p),document.head.appendChild(b),m)return new Promise((x,R)=>{b.addEventListener("load",x),b.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${f}`)))})}))}function l(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return o.then(d=>{for(const p of d||[])p.status==="rejected"&&l(p.reason);return e().catch(l)})};function lL(i={}){const{immediate:e=!1,onNeedRefresh:t,onOfflineReady:r,onRegistered:o,onRegisteredSW:l,onRegisterError:d}=i;let p,f;const m=async(b=!0)=>{await f};async function y(){if("serviceWorker"in navigator){if(p=await oL(async()=>{const{Workbox:b}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:b}},[]).then(({Workbox:b})=>new b("/sw.js",{scope:"/",type:"classic"})).catch(b=>{d==null||d(b)}),!p)return;p.addEventListener("activated",b=>{(b.isUpdate||b.isExternal)&&window.location.reload()}),p.addEventListener("installed",b=>{b.isUpdate||r==null||r()}),p.register({immediate:e}).then(b=>{l?l("/sw.js",b):o==null||o(b)}).catch(b=>{d==null||d(b)})}}return f=y(),m}/*!
 * AdminLTE v4.0.0-beta3 (https://adminlte.io)
 * Copyright 2014-2024 Colorlib <https://colorlib.com>
 * Licensed under MIT (https://github.com/ColorlibHQ/AdminLTE/blob/master/LICENSE)
 */(function(i,e){typeof Ym=="object"&&typeof CA<"u"?e(Ym):typeof define=="function"&&define.amd?define(["exports"],e):(i=typeof globalThis<"u"?globalThis:i||self,e(i.adminlte={}))})(void 0,function(i){const e=[],t=ye=>{document.readyState==="loading"?(e.length||document.addEventListener("DOMContentLoaded",()=>{for(const de of e)de()}),e.push(ye)):ye()},r=(ye,de=500)=>{ye.style.transitionProperty="height, margin, padding",ye.style.transitionDuration=`${de}ms`,ye.style.boxSizing="border-box",ye.style.height=`${ye.offsetHeight}px`,ye.style.overflow="hidden",window.setTimeout(()=>{ye.style.height="0",ye.style.paddingTop="0",ye.style.paddingBottom="0",ye.style.marginTop="0",ye.style.marginBottom="0"},1),window.setTimeout(()=>{ye.style.display="none",ye.style.removeProperty("height"),ye.style.removeProperty("padding-top"),ye.style.removeProperty("padding-bottom"),ye.style.removeProperty("margin-top"),ye.style.removeProperty("margin-bottom"),ye.style.removeProperty("overflow"),ye.style.removeProperty("transition-duration"),ye.style.removeProperty("transition-property")},de)},o=(ye,de=500)=>{ye.style.removeProperty("display");let{display:ve}=window.getComputedStyle(ye);ve==="none"&&(ve="block"),ye.style.display=ve;const Re=ye.offsetHeight;ye.style.overflow="hidden",ye.style.height="0",ye.style.paddingTop="0",ye.style.paddingBottom="0",ye.style.marginTop="0",ye.style.marginBottom="0",window.setTimeout(()=>{ye.style.boxSizing="border-box",ye.style.transitionProperty="height, margin, padding",ye.style.transitionDuration=`${de}ms`,ye.style.height=`${Re}px`,ye.style.removeProperty("padding-top"),ye.style.removeProperty("padding-bottom"),ye.style.removeProperty("margin-top"),ye.style.removeProperty("margin-bottom")},1),window.setTimeout(()=>{ye.style.removeProperty("height"),ye.style.removeProperty("overflow"),ye.style.removeProperty("transition-duration"),ye.style.removeProperty("transition-property")},de)};/**
 * --------------------------------------------
 * @file AdminLTE layout.ts
 * @description Layout for AdminLTE.
 * @license MIT
 * --------------------------------------------
 */const l="hold-transition",d="app-loaded";class p{constructor(de){this._element=de}holdTransition(){let de;window.addEventListener("resize",()=>{document.body.classList.add(l),clearTimeout(de),de=setTimeout(()=>{document.body.classList.remove(l)},400)})}}t(()=>{new p(document.body).holdTransition(),setTimeout(()=>{document.body.classList.add(d)},400)});/**
 * --------------------------------------------
 * @file AdminLTE push-menu.ts
 * @description Push menu for AdminLTE.
 * @license MIT
 * --------------------------------------------
 */const m=".lte.push-menu",y=`open${m}`,b=`collapse${m}`,x="sidebar-mini",R="sidebar-collapse",I="sidebar-open",U="sidebar-expand",L="sidebar-overlay",H="menu-open",ne=".app-sidebar",K=".sidebar-menu",ce=".nav-item",fe=".nav-treeview",be=".app-wrapper",j=`[class*="${U}"]`,S='[data-lte-toggle="sidebar"]',C={sidebarBreakpoint:992};class P{constructor(de,ve){this._element=de,this._config=Object.assign(Object.assign({},C),ve)}menusClose(){document.querySelectorAll(fe).forEach(ke=>{ke.style.removeProperty("display"),ke.style.removeProperty("height")});const ve=document.querySelector(K),Re=ve==null?void 0:ve.querySelectorAll(ce);Re&&Re.forEach(ke=>{ke.classList.remove(H)})}expand(){const de=new Event(y);document.body.classList.remove(R),document.body.classList.add(I),this._element.dispatchEvent(de)}collapse(){const de=new Event(b);document.body.classList.remove(I),document.body.classList.add(R),this._element.dispatchEvent(de)}addSidebarBreakPoint(){var de,ve,Re;const ke=(ve=(de=document.querySelector(j))===null||de===void 0?void 0:de.classList)!==null&&ve!==void 0?ve:[],Ue=(Re=Array.from(ke).find(Wa=>Wa.startsWith(U)))!==null&&Re!==void 0?Re:"",st=document.getElementsByClassName(Ue)[0],Fn=window.getComputedStyle(st,"::before").getPropertyValue("content");this._config=Object.assign(Object.assign({},this._config),{sidebarBreakpoint:Number(Fn.replace(/[^\d.-]/g,""))}),window.innerWidth<=this._config.sidebarBreakpoint?this.collapse():(document.body.classList.contains(x)||this.expand(),document.body.classList.contains(x)&&document.body.classList.contains(R)&&this.collapse())}toggle(){document.body.classList.contains(R)?this.expand():this.collapse()}init(){this.addSidebarBreakPoint()}}t(()=>{var ye;const de=document==null?void 0:document.querySelector(ne);if(de){const ke=new P(de,C);ke.init(),window.addEventListener("resize",()=>{ke.init()})}const ve=document.createElement("div");ve.className=L,(ye=document.querySelector(be))===null||ye===void 0||ye.append(ve),ve.addEventListener("touchstart",ke=>{ke.preventDefault();const Ue=ke.currentTarget;new P(Ue,C).collapse()},{passive:!0}),ve.addEventListener("click",ke=>{ke.preventDefault();const Ue=ke.currentTarget;new P(Ue,C).collapse()}),document.querySelectorAll(S).forEach(ke=>{ke.addEventListener("click",Ue=>{Ue.preventDefault();let st=Ue.currentTarget;(st==null?void 0:st.dataset.lteToggle)!=="sidebar"&&(st=st==null?void 0:st.closest(S)),st&&(Ue==null||Ue.preventDefault(),new P(st,C).toggle())})})});/**
 * --------------------------------------------
 * @file AdminLTE treeview.ts
 * @description Treeview plugin for AdminLTE.
 * @license MIT
 * --------------------------------------------
 */const z=".lte.treeview",N=`expanded${z}`,he=`collapsed${z}`,W="menu-open",G=".nav-item",ie=".nav-link",ue=".nav-treeview",ee='[data-lte-toggle="treeview"]',D={animationSpeed:300,accordion:!0};class Q{constructor(de,ve){this._element=de,this._config=Object.assign(Object.assign({},D),ve)}open(){var de,ve;const Re=new Event(N);if(this._config.accordion){const Ue=(de=this._element.parentElement)===null||de===void 0?void 0:de.querySelectorAll(`${G}.${W}`);Ue==null||Ue.forEach(st=>{if(st!==this._element.parentElement){st.classList.remove(W);const Fn=st==null?void 0:st.querySelector(ue);Fn&&r(Fn,this._config.animationSpeed)}})}this._element.classList.add(W);const ke=(ve=this._element)===null||ve===void 0?void 0:ve.querySelector(ue);ke&&o(ke,this._config.animationSpeed),this._element.dispatchEvent(Re)}close(){var de;const ve=new Event(he);this._element.classList.remove(W);const Re=(de=this._element)===null||de===void 0?void 0:de.querySelector(ue);Re&&r(Re,this._config.animationSpeed),this._element.dispatchEvent(ve)}toggle(){this._element.classList.contains(W)?this.close():this.open()}}t(()=>{document.querySelectorAll(ee).forEach(de=>{de.addEventListener("click",ve=>{const Re=ve.target,ke=Re.closest(G),Ue=Re.closest(ie);((Re==null?void 0:Re.getAttribute("href"))==="#"||(Ue==null?void 0:Ue.getAttribute("href"))==="#")&&ve.preventDefault(),ke&&new Q(ke,D).toggle()})})});/**
 * --------------------------------------------
 * @file AdminLTE direct-chat.ts
 * @description Direct chat for AdminLTE.
 * @license MIT
 * --------------------------------------------
 */const J=".lte.direct-chat",me=`expanded${J}`,De=`collapsed${J}`,we='[data-lte-toggle="chat-pane"]',yt=".direct-chat",Ke="direct-chat-contacts-open";class Zt{constructor(de){this._element=de}toggle(){if(this._element.classList.contains(Ke)){const de=new Event(De);this._element.classList.remove(Ke),this._element.dispatchEvent(de)}else{const de=new Event(me);this._element.classList.add(Ke),this._element.dispatchEvent(de)}}}t(()=>{document.querySelectorAll(we).forEach(de=>{de.addEventListener("click",ve=>{ve.preventDefault();const ke=ve.target.closest(yt);ke&&new Zt(ke).toggle()})})});/**
 * --------------------------------------------
 * @file AdminLTE card-widget.ts
 * @description Card widget for AdminLTE.
 * @license MIT
 * --------------------------------------------
 */const Dt=".lte.card-widget",_t=`collapsed${Dt}`,cn=`expanded${Dt}`,Jt=`remove${Dt}`,Zn=`maximized${Dt}`,wn=`minimized${Dt}`,gt="card",un="collapsed-card",On="collapsing-card",xn="expanding-card",en="was-collapsed",Vn="maximized-card",Ni='[data-lte-toggle="card-remove"]',ge='[data-lte-toggle="card-collapse"]',Se='[data-lte-toggle="card-maximize"]',Le=`.${gt}`,Ce=".card-body",at=".card-footer",ft={animationSpeed:500,collapseTrigger:ge,removeTrigger:Ni,maximizeTrigger:Se};class Tn{constructor(de,ve){this._element=de,this._parent=de.closest(Le),de.classList.contains(gt)&&(this._parent=de),this._config=Object.assign(Object.assign({},ft),ve)}collapse(){var de,ve;const Re=new Event(_t);this._parent&&(this._parent.classList.add(On),((de=this._parent)===null||de===void 0?void 0:de.querySelectorAll(`${Ce}, ${at}`)).forEach(Ue=>{Ue instanceof HTMLElement&&r(Ue,this._config.animationSpeed)}),setTimeout(()=>{this._parent&&(this._parent.classList.add(un),this._parent.classList.remove(On))},this._config.animationSpeed)),(ve=this._element)===null||ve===void 0||ve.dispatchEvent(Re)}expand(){var de,ve;const Re=new Event(cn);this._parent&&(this._parent.classList.add(xn),((de=this._parent)===null||de===void 0?void 0:de.querySelectorAll(`${Ce}, ${at}`)).forEach(Ue=>{Ue instanceof HTMLElement&&o(Ue,this._config.animationSpeed)}),setTimeout(()=>{this._parent&&(this._parent.classList.remove(un),this._parent.classList.remove(xn))},this._config.animationSpeed)),(ve=this._element)===null||ve===void 0||ve.dispatchEvent(Re)}remove(){var de;const ve=new Event(Jt);this._parent&&r(this._parent,this._config.animationSpeed),(de=this._element)===null||de===void 0||de.dispatchEvent(ve)}toggle(){var de;if(!((de=this._parent)===null||de===void 0)&&de.classList.contains(un)){this.expand();return}this.collapse()}maximize(){var de;const ve=new Event(Zn);this._parent&&(this._parent.style.height=`${this._parent.offsetHeight}px`,this._parent.style.width=`${this._parent.offsetWidth}px`,this._parent.style.transition="all .15s",setTimeout(()=>{const Re=document.querySelector("html");Re&&Re.classList.add(Vn),this._parent&&(this._parent.classList.add(Vn),this._parent.classList.contains(un)&&this._parent.classList.add(en))},150)),(de=this._element)===null||de===void 0||de.dispatchEvent(ve)}minimize(){var de;const ve=new Event(wn);this._parent&&(this._parent.style.height="auto",this._parent.style.width="auto",this._parent.style.transition="all .15s",setTimeout(()=>{var Re;const ke=document.querySelector("html");ke&&ke.classList.remove(Vn),this._parent&&(this._parent.classList.remove(Vn),!((Re=this._parent)===null||Re===void 0)&&Re.classList.contains(en)&&this._parent.classList.remove(en))},10)),(de=this._element)===null||de===void 0||de.dispatchEvent(ve)}toggleMaximize(){var de;if(!((de=this._parent)===null||de===void 0)&&de.classList.contains(Vn)){this.minimize();return}this.maximize()}}t(()=>{document.querySelectorAll(ge).forEach(Re=>{Re.addEventListener("click",ke=>{ke.preventDefault();const Ue=ke.target;new Tn(Ue,ft).toggle()})}),document.querySelectorAll(Ni).forEach(Re=>{Re.addEventListener("click",ke=>{ke.preventDefault();const Ue=ke.target;new Tn(Ue,ft).remove()})}),document.querySelectorAll(Se).forEach(Re=>{Re.addEventListener("click",ke=>{ke.preventDefault();const Ue=ke.target;new Tn(Ue,ft).toggleMaximize()})})});/**
 * --------------------------------------------
 * @file AdminLTE fullscreen.ts
 * @description Fullscreen plugin for AdminLTE.
 * @license MIT
 * --------------------------------------------
 */const Un=".lte.fullscreen",Jn=`maximized${Un}`,zn=`minimized${Un}`,tn='[data-lte-toggle="fullscreen"]',ei='[data-lte-icon="maximize"]',Bn='[data-lte-icon="minimize"]';class hi{constructor(de,ve){this._element=de,this._config=ve}inFullScreen(){const de=new Event(Jn),ve=document.querySelector(ei),Re=document.querySelector(Bn);document.documentElement.requestFullscreen(),ve&&(ve.style.display="none"),Re&&(Re.style.display="block"),this._element.dispatchEvent(de)}outFullscreen(){const de=new Event(zn),ve=document.querySelector(ei),Re=document.querySelector(Bn);document.exitFullscreen(),ve&&(ve.style.display="block"),Re&&(Re.style.display="none"),this._element.dispatchEvent(de)}toggleFullScreen(){document.fullscreenEnabled&&(document.fullscreenElement?this.outFullscreen():this.inFullScreen())}}t(()=>{document.querySelectorAll(tn).forEach(de=>{de.addEventListener("click",ve=>{ve.preventDefault();const ke=ve.target.closest(tn);ke&&new hi(ke,void 0).toggleFullScreen()})})}),i.CardWidget=Tn,i.DirectChat=Zt,i.FullScreen=hi,i.Layout=p,i.PushMenu=P,i.Treeview=Q});var cL=Object.defineProperty,dh=Object.getOwnPropertySymbols,vA=Object.prototype.hasOwnProperty,yA=Object.prototype.propertyIsEnumerable,F0=(i,e,t)=>e in i?cL(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Km=(i,e)=>{for(var t in e||(e={}))vA.call(e,t)&&F0(i,t,e[t]);if(dh)for(var t of dh(e))yA.call(e,t)&&F0(i,t,e[t]);return i},Qm=(i,e)=>{var t={};for(var r in i)vA.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&dh)for(var r of dh(i))e.indexOf(r)<0&&yA.call(i,r)&&(t[r]=i[r]);return t};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var js;(i=>{const e=class $e{constructor(f,m,y,b){if(this.version=f,this.errorCorrectionLevel=m,this.modules=[],this.isFunction=[],f<$e.MIN_VERSION||f>$e.MAX_VERSION)throw new RangeError("Version value out of range");if(b<-1||b>7)throw new RangeError("Mask value out of range");this.size=f*4+17;let x=[];for(let I=0;I<this.size;I++)x.push(!1);for(let I=0;I<this.size;I++)this.modules.push(x.slice()),this.isFunction.push(x.slice());this.drawFunctionPatterns();const R=this.addEccAndInterleave(y);if(this.drawCodewords(R),b==-1){let I=1e9;for(let U=0;U<8;U++){this.applyMask(U),this.drawFormatBits(U);const L=this.getPenaltyScore();L<I&&(b=U,I=L),this.applyMask(U)}}o(0<=b&&b<=7),this.mask=b,this.applyMask(b),this.drawFormatBits(b),this.isFunction=[]}static encodeText(f,m){const y=i.QrSegment.makeSegments(f);return $e.encodeSegments(y,m)}static encodeBinary(f,m){const y=i.QrSegment.makeBytes(f);return $e.encodeSegments([y],m)}static encodeSegments(f,m,y=1,b=40,x=-1,R=!0){if(!($e.MIN_VERSION<=y&&y<=b&&b<=$e.MAX_VERSION)||x<-1||x>7)throw new RangeError("Invalid value");let I,U;for(I=y;;I++){const K=$e.getNumDataCodewords(I,m)*8,ce=d.getTotalBits(f,I);if(ce<=K){U=ce;break}if(I>=b)throw new RangeError("Data too long")}for(const K of[$e.Ecc.MEDIUM,$e.Ecc.QUARTILE,$e.Ecc.HIGH])R&&U<=$e.getNumDataCodewords(I,K)*8&&(m=K);let L=[];for(const K of f){t(K.mode.modeBits,4,L),t(K.numChars,K.mode.numCharCountBits(I),L);for(const ce of K.getData())L.push(ce)}o(L.length==U);const H=$e.getNumDataCodewords(I,m)*8;o(L.length<=H),t(0,Math.min(4,H-L.length),L),t(0,(8-L.length%8)%8,L),o(L.length%8==0);for(let K=236;L.length<H;K^=253)t(K,8,L);let ne=[];for(;ne.length*8<L.length;)ne.push(0);return L.forEach((K,ce)=>ne[ce>>>3]|=K<<7-(ce&7)),new $e(I,m,ne,x)}getModule(f,m){return 0<=f&&f<this.size&&0<=m&&m<this.size&&this.modules[m][f]}getModules(){return this.modules}drawFunctionPatterns(){for(let y=0;y<this.size;y++)this.setFunctionModule(6,y,y%2==0),this.setFunctionModule(y,6,y%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const f=this.getAlignmentPatternPositions(),m=f.length;for(let y=0;y<m;y++)for(let b=0;b<m;b++)y==0&&b==0||y==0&&b==m-1||y==m-1&&b==0||this.drawAlignmentPattern(f[y],f[b]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(f){const m=this.errorCorrectionLevel.formatBits<<3|f;let y=m;for(let x=0;x<10;x++)y=y<<1^(y>>>9)*1335;const b=(m<<10|y)^21522;o(b>>>15==0);for(let x=0;x<=5;x++)this.setFunctionModule(8,x,r(b,x));this.setFunctionModule(8,7,r(b,6)),this.setFunctionModule(8,8,r(b,7)),this.setFunctionModule(7,8,r(b,8));for(let x=9;x<15;x++)this.setFunctionModule(14-x,8,r(b,x));for(let x=0;x<8;x++)this.setFunctionModule(this.size-1-x,8,r(b,x));for(let x=8;x<15;x++)this.setFunctionModule(8,this.size-15+x,r(b,x));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let f=this.version;for(let y=0;y<12;y++)f=f<<1^(f>>>11)*7973;const m=this.version<<12|f;o(m>>>18==0);for(let y=0;y<18;y++){const b=r(m,y),x=this.size-11+y%3,R=Math.floor(y/3);this.setFunctionModule(x,R,b),this.setFunctionModule(R,x,b)}}drawFinderPattern(f,m){for(let y=-4;y<=4;y++)for(let b=-4;b<=4;b++){const x=Math.max(Math.abs(b),Math.abs(y)),R=f+b,I=m+y;0<=R&&R<this.size&&0<=I&&I<this.size&&this.setFunctionModule(R,I,x!=2&&x!=4)}}drawAlignmentPattern(f,m){for(let y=-2;y<=2;y++)for(let b=-2;b<=2;b++)this.setFunctionModule(f+b,m+y,Math.max(Math.abs(b),Math.abs(y))!=1)}setFunctionModule(f,m,y){this.modules[m][f]=y,this.isFunction[m][f]=!0}addEccAndInterleave(f){const m=this.version,y=this.errorCorrectionLevel;if(f.length!=$e.getNumDataCodewords(m,y))throw new RangeError("Invalid argument");const b=$e.NUM_ERROR_CORRECTION_BLOCKS[y.ordinal][m],x=$e.ECC_CODEWORDS_PER_BLOCK[y.ordinal][m],R=Math.floor($e.getNumRawDataModules(m)/8),I=b-R%b,U=Math.floor(R/b);let L=[];const H=$e.reedSolomonComputeDivisor(x);for(let K=0,ce=0;K<b;K++){let fe=f.slice(ce,ce+U-x+(K<I?0:1));ce+=fe.length;const be=$e.reedSolomonComputeRemainder(fe,H);K<I&&fe.push(0),L.push(fe.concat(be))}let ne=[];for(let K=0;K<L[0].length;K++)L.forEach((ce,fe)=>{(K!=U-x||fe>=I)&&ne.push(ce[K])});return o(ne.length==R),ne}drawCodewords(f){if(f.length!=Math.floor($e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let m=0;for(let y=this.size-1;y>=1;y-=2){y==6&&(y=5);for(let b=0;b<this.size;b++)for(let x=0;x<2;x++){const R=y-x,U=(y+1&2)==0?this.size-1-b:b;!this.isFunction[U][R]&&m<f.length*8&&(this.modules[U][R]=r(f[m>>>3],7-(m&7)),m++)}}o(m==f.length*8)}applyMask(f){if(f<0||f>7)throw new RangeError("Mask value out of range");for(let m=0;m<this.size;m++)for(let y=0;y<this.size;y++){let b;switch(f){case 0:b=(y+m)%2==0;break;case 1:b=m%2==0;break;case 2:b=y%3==0;break;case 3:b=(y+m)%3==0;break;case 4:b=(Math.floor(y/3)+Math.floor(m/2))%2==0;break;case 5:b=y*m%2+y*m%3==0;break;case 6:b=(y*m%2+y*m%3)%2==0;break;case 7:b=((y+m)%2+y*m%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[m][y]&&b&&(this.modules[m][y]=!this.modules[m][y])}}getPenaltyScore(){let f=0;for(let x=0;x<this.size;x++){let R=!1,I=0,U=[0,0,0,0,0,0,0];for(let L=0;L<this.size;L++)this.modules[x][L]==R?(I++,I==5?f+=$e.PENALTY_N1:I>5&&f++):(this.finderPenaltyAddHistory(I,U),R||(f+=this.finderPenaltyCountPatterns(U)*$e.PENALTY_N3),R=this.modules[x][L],I=1);f+=this.finderPenaltyTerminateAndCount(R,I,U)*$e.PENALTY_N3}for(let x=0;x<this.size;x++){let R=!1,I=0,U=[0,0,0,0,0,0,0];for(let L=0;L<this.size;L++)this.modules[L][x]==R?(I++,I==5?f+=$e.PENALTY_N1:I>5&&f++):(this.finderPenaltyAddHistory(I,U),R||(f+=this.finderPenaltyCountPatterns(U)*$e.PENALTY_N3),R=this.modules[L][x],I=1);f+=this.finderPenaltyTerminateAndCount(R,I,U)*$e.PENALTY_N3}for(let x=0;x<this.size-1;x++)for(let R=0;R<this.size-1;R++){const I=this.modules[x][R];I==this.modules[x][R+1]&&I==this.modules[x+1][R]&&I==this.modules[x+1][R+1]&&(f+=$e.PENALTY_N2)}let m=0;for(const x of this.modules)m=x.reduce((R,I)=>R+(I?1:0),m);const y=this.size*this.size,b=Math.ceil(Math.abs(m*20-y*10)/y)-1;return o(0<=b&&b<=9),f+=b*$e.PENALTY_N4,o(0<=f&&f<=2568888),f}getAlignmentPatternPositions(){if(this.version==1)return[];{const f=Math.floor(this.version/7)+2,m=this.version==32?26:Math.ceil((this.version*4+4)/(f*2-2))*2;let y=[6];for(let b=this.size-7;y.length<f;b-=m)y.splice(1,0,b);return y}}static getNumRawDataModules(f){if(f<$e.MIN_VERSION||f>$e.MAX_VERSION)throw new RangeError("Version number out of range");let m=(16*f+128)*f+64;if(f>=2){const y=Math.floor(f/7)+2;m-=(25*y-10)*y-55,f>=7&&(m-=36)}return o(208<=m&&m<=29648),m}static getNumDataCodewords(f,m){return Math.floor($e.getNumRawDataModules(f)/8)-$e.ECC_CODEWORDS_PER_BLOCK[m.ordinal][f]*$e.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][f]}static reedSolomonComputeDivisor(f){if(f<1||f>255)throw new RangeError("Degree out of range");let m=[];for(let b=0;b<f-1;b++)m.push(0);m.push(1);let y=1;for(let b=0;b<f;b++){for(let x=0;x<m.length;x++)m[x]=$e.reedSolomonMultiply(m[x],y),x+1<m.length&&(m[x]^=m[x+1]);y=$e.reedSolomonMultiply(y,2)}return m}static reedSolomonComputeRemainder(f,m){let y=m.map(b=>0);for(const b of f){const x=b^y.shift();y.push(0),m.forEach((R,I)=>y[I]^=$e.reedSolomonMultiply(R,x))}return y}static reedSolomonMultiply(f,m){if(f>>>8||m>>>8)throw new RangeError("Byte out of range");let y=0;for(let b=7;b>=0;b--)y=y<<1^(y>>>7)*285,y^=(m>>>b&1)*f;return o(y>>>8==0),y}finderPenaltyCountPatterns(f){const m=f[1];o(m<=this.size*3);const y=m>0&&f[2]==m&&f[3]==m*3&&f[4]==m&&f[5]==m;return(y&&f[0]>=m*4&&f[6]>=m?1:0)+(y&&f[6]>=m*4&&f[0]>=m?1:0)}finderPenaltyTerminateAndCount(f,m,y){return f&&(this.finderPenaltyAddHistory(m,y),m=0),m+=this.size,this.finderPenaltyAddHistory(m,y),this.finderPenaltyCountPatterns(y)}finderPenaltyAddHistory(f,m){m[0]==0&&(f+=this.size),m.pop(),m.unshift(f)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],i.QrCode=e;function t(p,f,m){if(f<0||f>31||p>>>f)throw new RangeError("Value out of range");for(let y=f-1;y>=0;y--)m.push(p>>>y&1)}function r(p,f){return(p>>>f&1)!=0}function o(p){if(!p)throw new Error("Assertion error")}const l=class Pt{constructor(f,m,y){if(this.mode=f,this.numChars=m,this.bitData=y,m<0)throw new RangeError("Invalid argument");this.bitData=y.slice()}static makeBytes(f){let m=[];for(const y of f)t(y,8,m);return new Pt(Pt.Mode.BYTE,f.length,m)}static makeNumeric(f){if(!Pt.isNumeric(f))throw new RangeError("String contains non-numeric characters");let m=[];for(let y=0;y<f.length;){const b=Math.min(f.length-y,3);t(parseInt(f.substring(y,y+b),10),b*3+1,m),y+=b}return new Pt(Pt.Mode.NUMERIC,f.length,m)}static makeAlphanumeric(f){if(!Pt.isAlphanumeric(f))throw new RangeError("String contains unencodable characters in alphanumeric mode");let m=[],y;for(y=0;y+2<=f.length;y+=2){let b=Pt.ALPHANUMERIC_CHARSET.indexOf(f.charAt(y))*45;b+=Pt.ALPHANUMERIC_CHARSET.indexOf(f.charAt(y+1)),t(b,11,m)}return y<f.length&&t(Pt.ALPHANUMERIC_CHARSET.indexOf(f.charAt(y)),6,m),new Pt(Pt.Mode.ALPHANUMERIC,f.length,m)}static makeSegments(f){return f==""?[]:Pt.isNumeric(f)?[Pt.makeNumeric(f)]:Pt.isAlphanumeric(f)?[Pt.makeAlphanumeric(f)]:[Pt.makeBytes(Pt.toUtf8ByteArray(f))]}static makeEci(f){let m=[];if(f<0)throw new RangeError("ECI assignment value out of range");if(f<128)t(f,8,m);else if(f<16384)t(2,2,m),t(f,14,m);else if(f<1e6)t(6,3,m),t(f,21,m);else throw new RangeError("ECI assignment value out of range");return new Pt(Pt.Mode.ECI,0,m)}static isNumeric(f){return Pt.NUMERIC_REGEX.test(f)}static isAlphanumeric(f){return Pt.ALPHANUMERIC_REGEX.test(f)}getData(){return this.bitData.slice()}static getTotalBits(f,m){let y=0;for(const b of f){const x=b.mode.numCharCountBits(m);if(b.numChars>=1<<x)return 1/0;y+=4+x+b.bitData.length}return y}static toUtf8ByteArray(f){f=encodeURI(f);let m=[];for(let y=0;y<f.length;y++)f.charAt(y)!="%"?m.push(f.charCodeAt(y)):(m.push(parseInt(f.substring(y+1,y+3),16)),y+=2);return m}};l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let d=l;i.QrSegment=l})(js||(js={}));(i=>{(e=>{const t=class{constructor(o,l){this.ordinal=o,this.formatBits=l}};t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2),e.Ecc=t})(i.QrCode||(i.QrCode={}))})(js||(js={}));(i=>{(e=>{const t=class{constructor(o,l){this.modeBits=o,this.numBitsCharCount=l}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}};t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]),e.Mode=t})(i.QrSegment||(i.QrSegment={}))})(js||(js={}));var ko=js;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var uL={L:ko.QrCode.Ecc.LOW,M:ko.QrCode.Ecc.MEDIUM,Q:ko.QrCode.Ecc.QUARTILE,H:ko.QrCode.Ecc.HIGH},_A=128,EA="L",bA="#FFFFFF",wA="#000000",xA=!1,TA=1,dL=4,hL=0,fL=.1;function AA(i,e=0){const t=[];return i.forEach(function(r,o){let l=null;r.forEach(function(d,p){if(!d&&l!==null){t.push(`M${l+e} ${o+e}h${p-l}v1H${l+e}z`),l=null;return}if(p===r.length-1){if(!d)return;l===null?t.push(`M${p+e},${o+e} h1v1H${p+e}z`):t.push(`M${l+e},${o+e} h${p+1-l}v1H${l+e}z`);return}d&&l===null&&(l=p)})}),t.join("")}function SA(i,e){return i.slice().map((t,r)=>r<e.y||r>=e.y+e.h?t:t.map((o,l)=>l<e.x||l>=e.x+e.w?o:!1))}function pL(i,e,t,r){if(r==null)return null;const o=i.length+t*2,l=Math.floor(e*fL),d=o/e,p=(r.width||l)*d,f=(r.height||l)*d,m=r.x==null?i.length/2-p/2:r.x*d,y=r.y==null?i.length/2-f/2:r.y*d,b=r.opacity==null?1:r.opacity;let x=null;if(r.excavate){let I=Math.floor(m),U=Math.floor(y),L=Math.ceil(p+m-I),H=Math.ceil(f+y-U);x={x:I,y:U,w:L,h:H}}const R=r.crossOrigin;return{x:m,y,h:f,w:p,excavation:x,opacity:b,crossOrigin:R}}function mL(i,e){return e!=null?Math.max(Math.floor(e),0):i?dL:hL}function RA({value:i,level:e,minVersion:t,includeMargin:r,marginSize:o,imageSettings:l,size:d,boostLevel:p}){let f=jt.useMemo(()=>{const I=(Array.isArray(i)?i:[i]).reduce((U,L)=>(U.push(...ko.QrSegment.makeSegments(L)),U),[]);return ko.QrCode.encodeSegments(I,uL[e],t,void 0,void 0,p)},[i,e,t,p]);const{cells:m,margin:y,numCells:b,calculatedImageSettings:x}=jt.useMemo(()=>{let R=f.getModules();const I=mL(r,o),U=R.length+I*2,L=pL(R,d,I,l);return{cells:R,margin:I,numCells:U,calculatedImageSettings:L}},[f,d,l,r,o]);return{qrcode:f,margin:y,cells:m,numCells:b,calculatedImageSettings:x}}var gL=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),IA=jt.forwardRef(function(e,t){const r=e,{value:o,size:l=_A,level:d=EA,bgColor:p=bA,fgColor:f=wA,includeMargin:m=xA,minVersion:y=TA,boostLevel:b,marginSize:x,imageSettings:R}=r,U=Qm(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:L}=U,H=Qm(U,["style"]),ne=R==null?void 0:R.src,K=jt.useRef(null),ce=jt.useRef(null),fe=jt.useCallback(he=>{K.current=he,typeof t=="function"?t(he):t&&(t.current=he)},[t]),[be,j]=jt.useState(!1),{margin:S,cells:C,numCells:P,calculatedImageSettings:M}=RA({value:o,level:d,minVersion:y,boostLevel:b,includeMargin:m,marginSize:x,imageSettings:R,size:l});jt.useEffect(()=>{if(K.current!=null){const he=K.current,W=he.getContext("2d");if(!W)return;let G=C;const ie=ce.current,ue=M!=null&&ie!==null&&ie.complete&&ie.naturalHeight!==0&&ie.naturalWidth!==0;ue&&M.excavation!=null&&(G=SA(C,M.excavation));const ee=window.devicePixelRatio||1;he.height=he.width=l*ee;const D=l/P*ee;W.scale(D,D),W.fillStyle=p,W.fillRect(0,0,P,P),W.fillStyle=f,gL?W.fill(new Path2D(AA(G,S))):C.forEach(function(Q,oe){Q.forEach(function(J,me){J&&W.fillRect(me+S,oe+S,1,1)})}),M&&(W.globalAlpha=M.opacity),ue&&W.drawImage(ie,M.x+S,M.y+S,M.w,M.h)}}),jt.useEffect(()=>{j(!1)},[ne]);const z=Km({height:l,width:l},L);let N=null;return ne!=null&&(N=jt.createElement("img",{src:ne,key:ne,style:{display:"none"},onLoad:()=>{j(!0)},ref:ce,crossOrigin:M==null?void 0:M.crossOrigin})),jt.createElement(jt.Fragment,null,jt.createElement("canvas",Km({style:z,height:l,width:l,ref:fe,role:"img"},H)),N)});IA.displayName="QRCodeCanvas";var vL=jt.forwardRef(function(e,t){const r=e,{value:o,size:l=_A,level:d=EA,bgColor:p=bA,fgColor:f=wA,includeMargin:m=xA,minVersion:y=TA,boostLevel:b,title:x,marginSize:R,imageSettings:I}=r,U=Qm(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:L,cells:H,numCells:ne,calculatedImageSettings:K}=RA({value:o,level:d,minVersion:y,boostLevel:b,includeMargin:m,marginSize:R,imageSettings:I,size:l});let ce=H,fe=null;I!=null&&K!=null&&(K.excavation!=null&&(ce=SA(H,K.excavation)),fe=jt.createElement("image",{href:I.src,height:K.h,width:K.w,x:K.x+L,y:K.y+L,preserveAspectRatio:"none",opacity:K.opacity,crossOrigin:K.crossOrigin}));const be=AA(ce,L);return jt.createElement("svg",Km({height:l,width:l,viewBox:`0 0 ${ne} ${ne}`,ref:t,role:"img"},U),!!x&&jt.createElement("title",null,x),jt.createElement("path",{fill:p,d:`M0,0 h${ne}v${ne}H0z`,shapeRendering:"crispEdges"}),jt.createElement("path",{fill:f,d:be,shapeRendering:"crispEdges"}),fe)});vL.displayName="QRCodeSVG";function yL({stationURL:i}){O.useRef(null),O.useEffect(()=>{document.createElement("canvas")},[i]);const e=()=>{const r=document.querySelector("canvas").toDataURL("image/png"),o=document.createElement("a");o.href=r,o.download="station-qr.png",document.body.appendChild(o),o.click(),document.body.removeChild(o)};return g.jsxs(g.Fragment,{children:[g.jsx("div",{style:{display:"none"},children:g.jsx(IA,{value:i,size:200,includeMargin:!0})}),g.jsx("button",{className:"btn btn-primary my-2 mx-2",onClick:e,children:"Download QR Code"})]})}const _L=()=>{const[i,e]=O.useState(!1),[t,r]=O.useState(0),[o,l]=O.useState(0),[d,p]=O.useState(0),[f,m]=O.useState(0),[y,b]=O.useState([]),[x,R]=O.useState(null),[I,U]=O.useState(""),[L,H]=O.useState(""),[ne,K]=O.useState(""),[ce,fe]=O.useState(""),[be,j]=O.useState(""),[S,C]=O.useState(!1),[P,M]=O.useState(!1);O.useEffect(()=>{(async()=>{const J=Tt(Mi,"Station"),De=(await yc(J)).data().count;r(De)})(),(async()=>{const J=Tt(Mi,"Station"),me=yn(J,nt("stationStatus","==","inactive")),we=(await yc(me)).data().count;l(we)})(),(async()=>{const J=Tt(Mi,"Station"),me=yn(J,nt("stationStatus","==","active")),we=(await yc(me)).data().count;p(we)})(),(async()=>{const J=Tt(Mi,"Station"),me=yn(J,nt("stationStatus","==","maintenance")),we=(await yc(me)).data().count;m(we)})()},[]),O.useEffect(()=>{document.body.classList.toggle("sidebar-collapse",i)},[i]),O.useEffect(()=>{(async()=>{const D=Tt(Mi,"Station"),oe=(await gn(D)).docs.map(J=>J.data());b(oe)})()},[]);const z=ee=>{switch(ee){case"inactive":return"badge bg-warning";case"active":return"badge bg-success";case"maintenance":return"badge bg-danger";default:return"badge bg-light text-dark"}};O.useEffect(()=>{x&&(K(x.stationName||""),fe(x.stationCoordinate||""),j(x.stationInstruction||""),U(x.stationStatus||""))},[x]);const N=async ee=>{ee.preventDefault();try{const D=jc(Mi,"Station",x.binID);await uv(D,{stationName:ne,stationCoordinate:ce,stationInstruction:be,stationStatus:I}),H("Station status updated successfully")}catch(D){console.error("Error updating station status: ",D),H("Error updating station status")}finally{window.location.reload()}},he=ee=>{ee.preventDefault(),C(!0)},W=async ee=>{C(!1),await N(ee)},G=ee=>{ee.preventDefault(),M(!0)},ie=async ee=>{M(!1),await ue(ee)},ue=async ee=>{ee.preventDefault();try{const D=jc(Mi,"Station",x.binID);await Ej(D),H("Station deleted successfully"),R(null)}catch(D){console.error("Error deleting station: ",D),H("Error deleting station")}finally{window.location.reload()}};return g.jsx(g.Fragment,{children:g.jsxs("div",{className:"app-wrapper",children:[g.jsx(sl,{toggleSidebar:()=>e(ee=>!ee)}),g.jsx(ol,{}),g.jsxs("div",{className:"app-main",children:[g.jsx("div",{className:"app-content-header",children:g.jsx("div",{className:"container-fluid",children:g.jsxs("div",{className:"row",children:[g.jsx("div",{className:"col-sm-6",children:g.jsx("h3",{className:"mb-0",children:"Station Dashboard"})}),g.jsx("div",{className:"col-sm-6",children:g.jsxs("ol",{className:"breadcrumb float-sm-end",children:[g.jsx("li",{className:"breadcrumb-item",children:"Dashboard"}),g.jsx("li",{className:"breadcrumb-item",children:"Station Dashboard"})]})})]})})}),g.jsx("div",{className:"app-content",children:g.jsxs("div",{className:"content",children:[g.jsxs("div",{className:"container-fluid",children:[g.jsxs("div",{className:"row",children:[g.jsx("div",{className:"col-12 col-sm-6 col-md-3",children:g.jsxs("div",{className:"info-box shadow-sm",children:[g.jsx("span",{className:"info-box-icon text-bg-primary shadow-sm",children:g.jsx("i",{className:"bi bi-trash"})}),g.jsxs("div",{className:"info-box-content",children:[g.jsx("span",{className:"info-box-text",children:"Total Station"}),g.jsx("span",{className:"info-box-number",children:t})]})]})}),g.jsx("div",{className:"col-12 col-sm-6 col-md-3",children:g.jsxs("div",{className:"info-box shadow-sm",children:[g.jsx("span",{className:"info-box-icon text-bg-success shadow-sm",children:g.jsx("i",{className:"bi bi-check"})}),g.jsxs("div",{className:"info-box-content",children:[g.jsx("span",{className:"info-box-text",children:"Total Active Station"}),g.jsx("span",{className:"info-box-number",children:d})]})]})}),g.jsx("div",{className:"col-12 col-sm-6 col-md-3",children:g.jsxs("div",{className:"info-box shadow-sm",children:[g.jsx("span",{className:"info-box-icon text-bg-warning shadow-sm",children:g.jsx("i",{className:"bi bi-x-lg"})}),g.jsxs("div",{className:"info-box-content",children:[g.jsx("span",{className:"info-box-text",children:"Total Inactive Station"}),g.jsx("span",{className:"info-box-number",children:o})]})]})}),g.jsx("div",{className:"col-12 col-sm-6 col-md-3",children:g.jsxs("div",{className:"info-box shadow-sm",children:[g.jsx("span",{className:"info-box-icon text-bg-danger shadow-sm",children:g.jsx("i",{className:"bi bi-gear-fill"})}),g.jsxs("div",{className:"info-box-content",children:[g.jsx("span",{className:"info-box-text",children:"Total Broken Station"}),g.jsx("span",{className:"info-box-number",children:f})]})]})})]}),g.jsx("div",{className:"row",children:g.jsx("div",{className:"col-12",children:g.jsxs("div",{className:"card",children:[g.jsxs("div",{className:"card-header",children:[g.jsx("h3",{className:"card-title",children:"Station List"}),g.jsx("div",{className:"card-tools",children:g.jsx("div",{className:"input-group input-group-sm",children:g.jsx("div",{className:"input-group-append",children:g.jsx("button",{type:"submit",className:"btn btn-default",children:g.jsx("i",{className:"fas fa-search"})})})})})]}),g.jsx("div",{className:"card-body table-responsive p-0",children:g.jsxs("table",{className:"table table-hover text-nowrap",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"Station ID"}),g.jsx("th",{children:"Station Name"}),g.jsx("th",{children:"Date Created"}),g.jsx("th",{children:"Status"}),g.jsx("th",{children:"Actions"})]})}),g.jsxs("tbody",{children:[y.map(ee=>g.jsxs("tr",{children:[g.jsx("td",{children:ee.binID}),g.jsx("td",{children:ee.stationName}),g.jsx("td",{children:new Date(ee.createdAt.seconds*1e3).toLocaleString()}),g.jsx("td",{children:g.jsx("span",{className:z(ee.stationStatus),children:ee.stationStatus})}),g.jsx("td",{children:g.jsx("button",{className:"btn btn-primary mb-2 btn-sm",onClick:()=>R(ee),children:"View"})})]},ee.binID)),g.jsx("tr",{children:g.jsxs("td",{colSpan:5,className:"text-center",disabled:!0,children:["Showing ",y.length," record",y.length!==1?"s":""," from database"]})})]})]})})]})})}),g.jsx("div",{className:"row mt-4",children:g.jsx("div",{className:"col-md-12",children:g.jsxs("div",{className:"card card-outline card-info",children:[g.jsx("div",{className:"card-header",children:g.jsx("h3",{className:"card-title",children:"Add New Station"})}),g.jsx("div",{className:"card-body",children:"Prepare an empty NFC tag and make sure to use mobile with supported NFC to create a new station."}),g.jsx("div",{className:"card-footer",children:g.jsx(At,{to:"/admin/dashboard/addStation",className:"btn btn-primary",children:"Add New Station"})})]})})}),x&&g.jsx("div",{className:"row mt-4",children:g.jsx("div",{className:"col-md-12",children:g.jsxs("div",{className:"card card-outline card-info",children:[g.jsx("div",{className:"card-header",children:g.jsx("h3",{className:"card-title",children:"Station Details"})}),g.jsxs("div",{className:"card-body",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Bin ID"}),g.jsx("input",{className:"form-control",disabled:!0,value:x.binID})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Tag UID"}),g.jsx("input",{className:"form-control",disabled:!0,value:x.tagUID})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Station URL"}),g.jsx("input",{className:"form-control",disabled:!0,value:x.stationURL})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Created At"}),g.jsx("input",{className:"form-control",disabled:!0,value:new Date(x.createdAt.seconds*1e3).toLocaleString()})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Station Name"}),g.jsx("input",{className:"form-control",value:ne,onChange:ee=>K(ee.target.value)})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Station Coordinate"}),g.jsx("input",{className:"form-control",value:ce,onChange:ee=>fe(ee.target.value)})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Station Specific Instruction"}),g.jsx("textarea",{className:"form-control",value:be,onChange:ee=>j(ee.target.value)})]}),g.jsxs("div",{className:"btn-group my-4",role:"group","aria-label":"Basic radio toggle button group",children:[g.jsxs("label",{className:`btn btn-outline-primary ${I==="active"?"active":""}`,children:[g.jsx("input",{type:"radio",name:"status",value:"active",className:"btn-check",autoComplete:"off",checked:I==="active",onChange:ee=>U(ee.target.value)}),"Active"]}),g.jsxs("label",{className:`btn btn-outline-primary ${I==="inactive"?"active":""}`,children:[g.jsx("input",{type:"radio",name:"status",value:"inactive",className:"btn-check",autoComplete:"off",checked:I==="inactive",onChange:ee=>U(ee.target.value)}),"Inactive"]}),g.jsxs("label",{className:`btn btn-outline-primary ${I==="maintenance"?"active":""}`,children:[g.jsx("input",{type:"radio",name:"status",value:"maintenance",className:"btn-check",autoComplete:"off",checked:I==="maintenance",onChange:ee=>U(ee.target.value)}),"Maintenance"]})]})]}),g.jsxs("div",{className:"card-footer",children:[g.jsx(yL,{stationURL:x.stationURL}),g.jsx("button",{type:"button",className:"btn btn-warning my-2 mx-2",onClick:he,children:"update"}),g.jsx("button",{type:"button",className:"btn btn-danger my-2 mx-2",onClick:G,children:"Delete"})]})]})})})]}),S&&g.jsx("div",{className:"modal show",tabIndex:"-1",style:{display:"block",background:"rgba(0,0,0,0.5)"},children:g.jsx("div",{className:"modal-dialog",children:g.jsxs("div",{className:"modal-content",children:[g.jsxs("div",{className:"modal-header",children:[g.jsx("h5",{className:"modal-title",children:"Confirm Update"}),g.jsx("button",{type:"button",className:"btn-close",onClick:()=>C(!1),"aria-label":"Close"})]}),g.jsx("div",{className:"modal-body",children:g.jsx("p",{children:"Are you sure you want to update this station?"})}),g.jsxs("div",{className:"modal-footer",children:[g.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>C(!1),children:"Cancel"}),g.jsx("button",{type:"button",className:"btn btn-primary",onClick:W,children:"Yes, Update"})]})]})})}),P&&g.jsx("div",{className:"modal show",tabIndex:"-1",style:{display:"block",background:"rgba(0,0,0,0.5)"},children:g.jsx("div",{className:"modal-dialog",children:g.jsxs("div",{className:"modal-content",children:[g.jsxs("div",{className:"modal-header bg-danger",children:[g.jsx("h5",{className:"modal-title",style:{color:"#fff"},children:"Confirm Delete"}),g.jsx("button",{type:"button",className:"btn-close",onClick:()=>setShowModal(!1),"aria-label":"Close"})]}),g.jsx("div",{className:"modal-body",children:g.jsx("p",{children:"Are you sure you want to delete this station?"})}),g.jsxs("div",{className:"modal-footer",children:[g.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>setShowModal(!1),children:"Cancel"}),g.jsx("button",{type:"button",className:"btn btn-danger",onClick:ie,children:"Yes, Delete"})]})]})})})]})})]})]})})},EL=()=>{const[i,e]=O.useState(!1),[t,r]=O.useState(""),[o,l]=O.useState(""),[d,p]=O.useState(""),[f,m]=O.useState(""),[y,b]=O.useState(""),[x,R]=O.useState(""),[I,U]=O.useState(""),[L,H]=O.useState(""),[ne,K]=O.useState(!1),[ce,fe]=O.useState(!1);O.useEffect(()=>{document.body.classList.toggle("sidebar-collapse",i)},[i]);const be=async()=>{const S=await gn(Tt(Mi,"Station"));let C=0;return S.forEach(z=>{const N=z.id.match(/^BIN(\d+)$/);if(N){const he=parseInt(N[1],10);he>C&&(C=he)}}),`BIN${(C+1).toString().padStart(4,"0")}`},j=async S=>{const C=/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$/;if(y===""){H("Please fill the station name!");return}else if(x===""){H("Please fill the station coordinates!");return}else if(C.test(x)){if(I===""){H("Please fill the station instruction!");return}}else{H("Please enter valid coordinates!");return}H(""),r(""),K(!1),fe(!0);try{await new window.NDEFReader().write(f),r("URL written to NFC tag successfully!")}catch(M){r(`Write failed: ${M}`),K(!0)}finally{fe(!1)}const P=jc(Mi,"Station",d);await _j(P,{binID:d,tagUID:o,stationURL:f,stationName:y,stationCoordinate:x,stationInstruction:I,createdAt:new Date,stationStatus:"inactive"})};return O.useEffect(()=>{l(crypto.randomUUID()),(async()=>{const C=await be();p(C)})()},[]),O.useEffect(()=>{if(o&&d){const C=`https://bin-buddy-v1.web.app/binVerify/?tagUID=${o}&binID=${d}`;m(C)}},[o,d]),g.jsxs(g.Fragment,{children:[ce&&g.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",color:"#fff",zIndex:9999,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"2rem"},children:[g.jsx("div",{children:g.jsx("i",{className:"bi bi-nfc",style:{fontSize:"3rem"}})}),g.jsx("div",{children:"Please scan your NFC tag now..."})]}),g.jsxs("div",{className:"app-wrapper",children:[g.jsx(sl,{toggleSidebar:()=>e(S=>!S)}),g.jsx(ol,{}),g.jsxs("main",{className:"app-main",children:[g.jsx("div",{className:"app-content-header",children:g.jsx("div",{className:"container-fluid",children:g.jsxs("div",{className:"row",children:[g.jsx("div",{className:"col-sm-6",children:g.jsx("h3",{className:"mb-0",children:"Add Station"})}),g.jsx("div",{className:"col-sm-6",children:g.jsxs("ol",{className:"breadcrumb float-sm-end",children:[g.jsx("li",{className:"breadcrumb-item",children:"Dashboard"}),g.jsx("li",{className:"breadcrumb-item",children:"Station Dashboard"}),g.jsx("li",{className:"breadcrumb-item",children:"Add Station"})]})})]})})}),g.jsx("section",{className:"content",children:g.jsxs("div",{className:"container-fluid",children:[g.jsxs("div",{className:"alert alert-info alert-dismissible",children:[g.jsxs("h5",{children:[g.jsx("i",{className:"icon fas fa-info"})," Notification"]}),"Please ready an empty NFC tag to write the station information before creating a new station."]}),g.jsx("div",{className:"row",children:g.jsx("div",{className:"col-md-12",children:g.jsxs("div",{className:"card",children:[g.jsx("div",{className:"card-header",children:g.jsx("h3",{className:"card-title",children:"Create New Station"})}),g.jsxs("div",{className:"card-body",children:[g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Bin ID"}),g.jsx("input",{className:"form-control",value:d,disabled:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Tag UID"}),g.jsx("input",{className:"form-control",value:o,disabled:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Station URL"}),g.jsx("input",{className:"form-control",value:f,disabled:!0})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Station Name"}),g.jsx("input",{className:"form-control",placeholder:"Station Name Here",onChange:S=>{b(S.target.value),H("")}})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Station Coordinate"}),g.jsx("input",{className:"form-control",id:"exampleInputPassword1",placeholder:"Station Coordinate",onChange:S=>{R(S.target.value),H("")}})]}),g.jsxs("div",{className:"form-group",children:[g.jsx("label",{children:"Station Specific Instruction"}),g.jsx("textarea",{className:"form-control",onChange:S=>{U(S.target.value),H("")}})]}),L&&g.jsx("p",{className:" text-danger text-start mt-3",children:L}),t&&g.jsx("p",{className:"text-success text-start mt-3",children:t}),ne&&g.jsx("p",{className:"text-danger text-start mt-3",children:"NFC write failed. Please try again and ensure your device supports NFC."})]}),g.jsx("div",{className:"card-footer",children:g.jsx("button",{type:"submit",className:"btn btn-primary",onClick:j,children:"Submit"})})]})})})]})})]})]})]})},bL=()=>g.jsx(g.Fragment,{children:g.jsxs("div",{className:"app-wrapper",children:[g.jsx(sl,{toggleSidebar:()=>setIsCollapsed(i=>!i)}),g.jsx(ol,{}),g.jsx("div",{className:"app-main"}),"Users"]})}),wL=()=>g.jsx(g.Fragment,{children:g.jsxs("div",{className:"app-wrapper",children:[g.jsx(sl,{}),g.jsx(ol,{}),"Reward"]})}),xL=()=>{const[i,e]=O.useState(!1),[t,r]=O.useState(0),[o,l]=O.useState(0),[d,p]=O.useState(0),[f,m]=O.useState(0),[y,b]=O.useState(!0),[x,R]=O.useState(!1),[I,U]=O.useState(!1),[L,H]=O.useState(!1),[ne,K]=O.useState([]),[ce,fe]=O.useState([]),[be,j]=O.useState([]),[S,C]=O.useState([]),P=()=>{b(!0),R(!1),U(!1),H(!1)},M=()=>{b(!1),R(!0),U(!1),H(!1)},z=()=>{b(!1),R(!1),U(!0),H(!1)},N=()=>{b(!1),R(!1),U(!1),H(!0)};O.useEffect(()=>{document.body.classList.toggle("sidebar-collapse",i)},[i]),O.useEffect(()=>{(async()=>{const ee=ci(),D=Tt(ee,"Points");try{const Q=await gn(D);let oe=0;Q.forEach(J=>{const me=J.data();oe+=me.points||0}),r(oe)}catch(Q){console.error("Error fetching points data: ",Q)}})(),(async()=>{const ee=ci(),D=yn(Tt(ee,"Points"),nt("isClaimed","==",!0));try{const Q=await gn(D);let oe=0;Q.forEach(J=>{const me=J.data();oe+=me.points||0}),l(oe)}catch(Q){console.error("Error fetching claimed points: ",Q)}})(),(async()=>{const ee=ci(),D=yn(Tt(ee,"Points"),nt("isClaimed","==",!1),nt("isExpired","==",!1));try{const Q=await gn(D);let oe=0;Q.forEach(J=>{const me=J.data();oe+=me.points||0}),p(oe)}catch(Q){console.error("Error fetching pending points: ",Q)}})(),(async()=>{const ee=ci(),D=yn(Tt(ee,"Points"),nt("expiresAt","<=",new Date));try{const Q=await gn(D);let oe=0;Q.forEach(J=>{const me=J.data();oe+=me.points||0}),m(oe)}catch(Q){console.error("Error fetching expired points: ",Q)}})()},[]),O.useEffect(()=>{(async()=>{const ee=ci(),D=yn(Tt(ee,"Points"));try{const oe=(await gn(D)).docs.map(J=>({id:J.id,...J.data()}));K(oe)}catch(Q){console.error("Error fetching points data: ",Q)}})(),(async()=>{const ee=ci(),D=yn(Tt(ee,"Points"),nt("isClaimed","==",!0));try{const oe=(await gn(D)).docs.map(J=>({id:J.id,...J.data()}));fe(oe)}catch(Q){console.error("Error fetching claimed points data: ",Q)}})(),(async()=>{const ee=ci(),D=yn(Tt(ee,"Points"),nt("isClaimed","==",!1),nt("isExpired","==",!1));try{const oe=(await gn(D)).docs.map(J=>({id:J.id,...J.data()}));j(oe)}catch(Q){console.error("Error fetching pending points data: ",Q)}})(),(async()=>{const ee=ci(),D=yn(Tt(ee,"Points"),nt("expiresAt","<=",new Date),nt("isClaimed","==",!1));try{const oe=(await gn(D)).docs.map(J=>({id:J.id,...J.data()}));C(oe)}catch(Q){console.error("Error fetching expired points data: ",Q)}})()},[]);function he(W){if(!W||!W.toDate)return"";const G=new Date,ue=W.toDate()-G;if(ue<=0)return"Expired";const ee=Math.floor(ue/(1e3*60*60)),D=Math.floor(ue%(1e3*60*60)/(1e3*60)),Q=Math.floor(ue%(1e3*60)/1e3);return ee>0?`${ee}h ${D}m left`:D>0?`${D}m ${Q}s left`:`${Q}s left`}return O.useEffect(()=>{(async()=>{const G=ci(),ie=new Date,ue=yn(Tt(G,"Points"),nt("expiresAt","<=",ie),nt("isExpired","==",!1));try{(await gn(ue)).forEach(async D=>{await uv(D.ref,{isExpired:!0})})}catch(ee){console.error("Error updating expired points: ",ee)}})()},[]),g.jsx(g.Fragment,{children:g.jsxs("div",{className:"app-wrapper",children:[g.jsx(sl,{toggleSidebar:()=>e(W=>!W)}),g.jsx(ol,{}),g.jsxs("main",{className:"app-main",children:[g.jsx("div",{className:"app-content-header",children:g.jsx("div",{className:"container-fluid",children:g.jsxs("div",{className:"row",children:[g.jsx("div",{className:"col-sm-6",children:g.jsx("h3",{className:"mb-0",children:"Point Distribution"})}),g.jsx("div",{className:"col-sm-6",children:g.jsxs("ol",{className:"breadcrumb float-sm-end",children:[g.jsx("li",{className:"breadcrumb-item",children:"Dashboard"}),g.jsx("li",{className:"breadcrumb-item",children:"Point Distribution"})]})})]})})}),g.jsx("div",{className:"app-content",children:g.jsxs("div",{className:"container-fluid",children:[g.jsxs("div",{className:"row",children:[g.jsx("div",{className:"col-12 col-sm-6 col-md-3",onClick:P,style:{cursor:"pointer"},children:g.jsxs("div",{className:"info-box shadow-sm",children:[g.jsx("span",{className:"info-box-icon text-bg-primary shadow-sm",children:g.jsx("i",{className:"bi bi-trash"})}),g.jsxs("div",{className:"info-box-content",children:[g.jsx("span",{className:"info-box-text",children:"Total Point Distributed"}),g.jsx("span",{className:"info-box-number",children:t})]})]})}),g.jsx("div",{className:"col-12 col-sm-6 col-md-3",onClick:M,style:{cursor:"pointer"},children:g.jsxs("div",{className:"info-box shadow-sm",children:[g.jsx("span",{className:"info-box-icon text-bg-info shadow-sm",children:g.jsx("i",{className:"bi bi-trash"})}),g.jsxs("div",{className:"info-box-content",children:[g.jsx("span",{className:"info-box-text",children:"Total Point Claimed"}),g.jsx("span",{className:"info-box-number",children:o})]})]})}),g.jsx("div",{className:"col-12 col-sm-6 col-md-3",onClick:z,style:{cursor:"pointer"},children:g.jsxs("div",{className:"info-box shadow-sm",children:[g.jsx("span",{className:"info-box-icon text-bg-warning shadow-sm",children:g.jsx("i",{className:"bi bi-trash"})}),g.jsxs("div",{className:"info-box-content",children:[g.jsx("span",{className:"info-box-text",children:"Total Pending Points"}),g.jsx("span",{className:"info-box-number",children:d})]})]})}),g.jsx("div",{className:"col-12 col-sm-6 col-md-3",onClick:N,style:{cursor:"pointer"},children:g.jsxs("div",{className:"info-box shadow-sm",children:[g.jsx("span",{className:"info-box-icon text-bg-danger shadow-sm",children:g.jsx("i",{className:"bi bi-trash"})}),g.jsxs("div",{className:"info-box-content",children:[g.jsx("span",{className:"info-box-text",children:"Total Point Expired"}),g.jsx("span",{className:"info-box-number",children:f})]})]})})]}),y&&g.jsx("div",{className:"row mb-3",children:g.jsx("div",{className:"col-12",children:g.jsxs("div",{className:"card card-outline card-primary",children:[g.jsx("div",{className:"card-header",children:g.jsx("h3",{className:"card-title",children:"Points Distribution History"})}),g.jsx("div",{className:"card-body",children:g.jsxs("table",{className:"table",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"No"}),g.jsx("th",{children:"User"}),g.jsx("th",{children:"Points"}),g.jsx("th",{children:"Trash Type"}),g.jsx("th",{children:"Scanned Date"}),g.jsx("th",{children:"Scanned Time"})]})}),g.jsxs("tbody",{children:[ne.map(W=>g.jsxs("tr",{children:[g.jsx("td",{children:ne.indexOf(W)+1}),g.jsx("td",{children:W.username}),g.jsx("td",{children:W.points}),g.jsx("td",{children:W.itemType}),g.jsx("td",{children:W.createdAt&&W.createdAt.toDate?W.createdAt.toDate().toLocaleDateString():""}),g.jsx("td",{children:W.createdAt&&W.createdAt.toDate?W.createdAt.toDate().toLocaleTimeString():""})]},W.id)),g.jsx("tr",{children:g.jsxs("td",{colSpan:6,className:"text-center",disabled:!0,children:["Showing ",ne.length," record",ne.length!==1?"s":""," from database"]})})]})]})})]})})}),x&&g.jsx("div",{className:"row mb-3",children:g.jsx("div",{className:"col-12",children:g.jsxs("div",{className:"card card-outline card-info",children:[g.jsx("div",{className:"card-header",children:g.jsx("h3",{className:"card-title",children:"Point Claims History"})}),g.jsx("div",{className:"card-body",children:g.jsxs("table",{className:"table",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"No"}),g.jsx("th",{children:"User"}),g.jsx("th",{children:"Points"}),g.jsx("th",{children:"Trash Type"}),g.jsx("th",{children:"Claimed Date"}),g.jsx("th",{children:"Claimed Time"})]})}),g.jsxs("tbody",{children:[ce.map(W=>g.jsxs("tr",{children:[g.jsx("td",{children:ce.indexOf(W)+1}),g.jsx("td",{children:W.username}),g.jsx("td",{children:W.points}),g.jsx("td",{children:W.itemType}),g.jsx("td",{children:W.claimedAt&&W.claimedAt.toDate?W.claimedAt.toDate().toLocaleDateString():""}),g.jsx("td",{children:W.claimedAt&&W.claimedAt.toDate?W.claimedAt.toDate().toLocaleTimeString():""})]},W.id)),g.jsx("tr",{children:g.jsxs("td",{colSpan:6,className:"text-center",disabled:!0,children:["Showing ",ce.length," record",ce.length!==1?"s":""," from database"]})})]})]})})]})})}),I&&g.jsx("div",{className:"row mb-3",children:g.jsx("div",{className:"col-12",children:g.jsxs("div",{className:"card card-outline card-warning",children:[g.jsx("div",{className:"card-header",children:g.jsx("h3",{className:"card-title",children:"Pending Points History"})}),g.jsx("div",{className:"card-body",children:g.jsxs("table",{className:"table",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"No"}),g.jsx("th",{children:"User"}),g.jsx("th",{children:"Points"}),g.jsx("th",{children:"Trash Type"}),g.jsx("th",{children:"Scanned Date"}),g.jsx("th",{children:"Scanned Time"}),g.jsx("th",{children:"Expired in"})]})}),g.jsxs("tbody",{children:[be.map(W=>g.jsxs("tr",{children:[g.jsx("td",{children:be.indexOf(W)+1}),g.jsx("td",{children:W.username}),g.jsx("td",{children:W.points}),g.jsx("td",{children:W.itemType}),g.jsx("td",{children:W.createdAt&&W.createdAt.toDate?W.createdAt.toDate().toLocaleDateString():""}),g.jsx("td",{children:W.createdAt&&W.createdAt.toDate?W.createdAt.toDate().toLocaleTimeString():""}),g.jsx("td",{children:he(W.expiresAt)})]},W.id)),g.jsx("tr",{children:g.jsxs("td",{colSpan:7,className:"text-center",disabled:!0,children:["Showing ",be.length," record",be.length!==1?"s":""," from database"]})})]})]})})]})})}),L&&g.jsx("div",{className:"row mb-3",children:g.jsx("div",{className:"col-12",children:g.jsxs("div",{className:"card card-outline card-danger",children:[g.jsx("div",{className:"card-header",children:g.jsx("h3",{className:"card-title",children:"Expired Points History"})}),g.jsx("div",{className:"card-body",children:g.jsxs("table",{className:"table",children:[g.jsx("thead",{children:g.jsxs("tr",{children:[g.jsx("th",{children:"No"}),g.jsx("th",{children:"User"}),g.jsx("th",{children:"Points"}),g.jsx("th",{children:"Trash Type"}),g.jsx("th",{children:"Scanned Date"}),g.jsx("th",{children:"Scanned Time"}),g.jsx("th",{children:"Expired Time"})]})}),g.jsxs("tbody",{children:[S.map(W=>g.jsxs("tr",{children:[g.jsx("td",{children:S.indexOf(W)+1}),g.jsx("td",{children:W.username}),g.jsx("td",{children:W.points}),g.jsx("td",{children:W.itemType}),g.jsx("td",{children:W.createdAt&&W.createdAt.toDate?W.createdAt.toDate().toLocaleDateString():""}),g.jsx("td",{children:W.createdAt&&W.createdAt.toDate?W.createdAt.toDate().toLocaleTimeString():""}),g.jsx("td",{children:W.expiresAt&&W.expiresAt.toDate?W.expiresAt.toDate().toLocaleTimeString():""})]},W.id)),g.jsx("tr",{children:g.jsxs("td",{colSpan:7,className:"text-center",disabled:!0,children:["Showing ",S.length," record",S.length!==1?"s":""," from database"]})})]})]})})]})})})]})})]})]})})},TL=()=>g.jsxs(g.Fragment,{children:[g.jsx(fa,{}),g.jsx("div",{className:"container-fluid",children:g.jsx("div",{className:"d-flex flex-column",style:{minHeight:"90vh"},children:g.jsxs("div",{className:"d-flex flex-column flex-grow-1 pt-5",id:"page-3",children:[g.jsxs("div",{className:"main-section container",children:[g.jsxs("div",{className:"result-card",children:[g.jsx("img",{src:"https://cdn1.npcdn.net/images/1593584628fb904e0fb02092edd14651cf0f25c4a4.webp?md5id=6281642964070c8fc6df23720ee81281&new_width=1000&new_height=1000&w=1652761475&from=jpg",alt:"Plastic Bag"}),g.jsxs("div",{className:"text-block",children:[g.jsx("p",{className:"fw-bold empty fs-2 mb-2",children:"Plastic Bag (Plastic)"}),g.jsx("p",{className:"text-muted lh-sm mb-2",children:"Please rinse and throw it in our blue recycle bin"}),g.jsxs("p",{className:"text-muted lh-sm",children:["Almost there!",g.jsx("br",{}),"Install our app and dispose of your waste properly to start earning rewards."]})]})]}),g.jsx("div",{className:"mt-5 pt-3",children:g.jsxs("button",{className:"btn btn-custom",id:"btn-3",children:[g.jsx("i",{className:"bi bi-check2-square"})," Classify More"]})})]}),g.jsx("div",{className:"mt-auto text-center px-4 pb-3",children:g.jsx("p",{className:"fw-semibold empty text-muted",children:"Install our app to get rewarded each time you scan and throw it correctly."})})]})})})]});function AL(){return g.jsx(TI,{children:g.jsxs(tI,{children:[g.jsx(In,{path:"/",element:g.jsx(Cj,{})}),g.jsx(In,{path:"/signin",element:g.jsx(Nj,{})}),g.jsx(In,{path:"/register",element:g.jsx(Dj,{})}),g.jsx(In,{path:"/categorizer",element:g.jsx(JM,{})}),g.jsx(In,{path:"/profile",element:g.jsx(eL,{})}),g.jsx(In,{path:"/ourApp",element:g.jsx(tL,{})}),g.jsx(In,{path:"/forgot-password",element:g.jsx(iL,{})}),g.jsx(In,{path:"/reset-password",element:g.jsx(aL,{})}),g.jsx(In,{path:"/test",element:g.jsx(TL,{})})," ",g.jsx(In,{path:"/admin/dashboard",element:g.jsx(Co,{children:g.jsx(nL,{})})}),g.jsx(In,{path:"/admin/dashboard/station",element:g.jsx(Co,{children:g.jsx(_L,{})})}),g.jsx(In,{path:"/admin/dashboard/addStation",element:g.jsx(Co,{children:g.jsx(EL,{})})}),g.jsx(In,{path:"/admin/dashboard/users",element:g.jsx(Co,{children:g.jsx(bL,{})})}),g.jsx(In,{path:"/admin/dashboard/reward",element:g.jsx(Co,{children:g.jsx(wL,{})})}),g.jsx(In,{path:"/admin/dashboard/point",element:g.jsx(Co,{children:g.jsx(xL,{})})})]})})}lL();uR.createRoot(document.getElementById("root")).render(g.jsx(O.StrictMode,{children:g.jsx(Sj,{children:g.jsx(AL,{})})}))});export default SL();
